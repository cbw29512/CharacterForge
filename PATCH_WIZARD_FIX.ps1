# CharacterForge â€” Wizard Fix + Voice Patch
$root = "C:\Users\dmchris\Desktop\CharacterForge"
Write-Host "Applying wizard fix..." -ForegroundColor Cyan

# templates\characters\wizard.html
New-Item -ItemType Directory -Force -Path "$root\templates\characters" | Out-Null
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfXt7ICdDcmVhdGUgTlBDJyBpZiBpc19ucGMgZWxzZSAnQ3JlYXRlIENoYXJhY3RlcicgfX0g4oCUIENoYXJhY3RlckZvcmdleyUgZW5kYmxvY2sgJX0KeyUgYmxvY2sgY29udGVudCAlfQo8ZGl2IHN0eWxlPSJtYXgtd2lkdGg6OTAwcHgiPgoKPGRpdiBjbGFzcz0iZmxleCBqdXN0aWZ5LWJldHdlZW4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE2cHgiPgogIDxkaXY+CiAgICA8aDE+e3sgJ0NyZWF0ZSBOUEMnIGlmIGlzX25wYyBlbHNlICdCdWlsZCBZb3VyIENoYXJhY3RlcicgfX08L2gxPgogICAgPHAgY2xhc3M9InN1YnRpdGxlIj57eyAnTlBDIGNyZWF0b3Ig4oCUIEFJLWd1aWRlZCBzdGF0IGJsb2NrLicgaWYgaXNfbnBjIGVsc2UgJ0FJLWd1aWRlZCBjaGFyYWN0ZXIgY3JlYXRpb24g4oCUIEQmRCA1ZSBTUkQgcnVsZXMuJyB9fTwvcD4KICA8L2Rpdj4KICB7JSBpZiBjYW1wYWlnbl9pZCAlfQogICAgPGEgaHJlZj0iL2NhbXBhaWducy97eyBjYW1wYWlnbl9pZCB9fSIgY2xhc3M9ImJ0biBidG4tZ2hvc3QgYnRuLXNtIj7ihpAgQ2FtcGFpZ248L2E+CiAgeyUgZWxzZSAlfQogICAgPGEgaHJlZj0ie3sgJy9kbS8nIGlmIHNlc3Npb24uZ2V0KCdyb2xlJykgaW4gWydkbScsJ2FkbWluJ10gZWxzZSAnL3BsYXllci8nIH19IiBjbGFzcz0iYnRuIGJ0bi1naG9zdCBidG4tc20iPuKGkCBEYXNoYm9hcmQ8L2E+CiAgeyUgZW5kaWYgJX0KPC9kaXY+Cgo8IS0tIE9sbGFtYSBzdGF0dXMgYmFyIC0tPgo8ZGl2IGlkPSJvbGxhbWEtc3RhdHVzLWJhciIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTRweDtwYWRkaW5nOjEwcHggMTRweDtib3JkZXItcmFkaXVzOjhweDtmb250LXNpemU6MTNweDsKICB7JSBpZiBvbGxhbWFfb2sgJX1iYWNrZ3JvdW5kOnJnYmEoNzQsMTQzLDc0LDAuMTIpO2JvcmRlcjoxcHggc29saWQgcmdiYSg3NCwxNDMsNzQsMC4zKTtjb2xvcjojN2RiZjdkCiAgeyUgZWxzZSAlfWJhY2tncm91bmQ6cmdiYSgxMzksMTAwLDIwLDAuMTIpO2JvcmRlcjoxcHggc29saWQgcmdiYSgxMzksMTAwLDIwLDAuMyk7Y29sb3I6I2M5YTg0Y3slIGVuZGlmICV9Ij4KICB7JSBpZiBvbGxhbWFfb2sgJX0KICAgIPCfn6IgQUkgRE0gb25saW5lIOKAlCBmdWxsIGd1aWRhbmNlIGFjdGl2ZS4gVm9pY2UgbmFycmF0aW9uIGF2YWlsYWJsZS4KICB7JSBlbHNlICV9CiAgICDwn5+hIEFJIERNIG9mZmxpbmUgKE9sbGFtYSBub3QgZGV0ZWN0ZWQgb24gcG9ydCA0MjQyKS4gQnJvd3NlciB2b2ljZSBndWlkYW5jZSBpcyBhY3RpdmUuCiAgICA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tdGV4dC1kaW0pIj4g4oCUIFN0YXJ0IE9sbGFtYSB3aXRoIHlvdXIgbW9kZWwgdG8gZW5hYmxlIGZ1bGwgQUkgY2hhdC48L3NwYW4+CiAgeyUgZW5kaWYgJX0KPC9kaXY+Cgo8IS0tIFN0ZXAgbmF2IC0tPgo8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcHMiIGlkPSJzdGVwLW5hdiI+CiAgPGRpdiBjbGFzcz0id2l6YXJkLXN0ZXAgYWN0aXZlIiBkYXRhLXN0ZXA9IjAiPuKRoCBJZGVudGl0eTwvZGl2PgogIDxkaXYgY2xhc3M9IndpemFyZC1zdGVwIiBkYXRhLXN0ZXA9IjEiPuKRoSBSYWNlPC9kaXY+CiAgPGRpdiBjbGFzcz0id2l6YXJkLXN0ZXAiIGRhdGEtc3RlcD0iMiI+4pGiIENsYXNzPC9kaXY+CiAgPGRpdiBjbGFzcz0id2l6YXJkLXN0ZXAiIGRhdGEtc3RlcD0iMyI+4pGjIEJhY2tncm91bmQ8L2Rpdj4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcCIgZGF0YS1zdGVwPSI0Ij7ikaQgQWJpbGl0eSBTY29yZXM8L2Rpdj4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcCIgZGF0YS1zdGVwPSI1Ij7ikaUgUGVyc29uYWxpdHk8L2Rpdj4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcCIgZGF0YS1zdGVwPSI2Ij7ikaYgRmluYWxpemU8L2Rpdj4KPC9kaXY+Cgo8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iL2NoYXJhY3RlcnMvY3JlYXRlIiBpZD0iY2hhci1mb3JtIj4KICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJjYW1wYWlnbl9pZCIgdmFsdWU9Int7IGNhbXBhaWduX2lkIG9yICcnIH19Ij4KICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJpc19ucGMiIHZhbHVlPSJ7eyAndHJ1ZScgaWYgaXNfbnBjIGVsc2UgJ2ZhbHNlJyB9fSI+CgogIDwhLS0g4pWQ4pWQIFNURVAgMTogSURFTlRJVFkg4pWQ4pWQIC0tPgogIDxkaXYgY2xhc3M9IndpemFyZC1zZWN0aW9uIiBpZD0ic3RlcC0wIj4KICAgIDxkaXYgY2xhc3M9IndpemFyZC10d28tY29sIj4KICAgICAgPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtZ29sZCI+CiAgICAgICAgPGgyPklkZW50aXR5PC9oMj4KICAgICAgICA8bGFiZWw+Q2hhcmFjdGVyIE5hbWU8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJuYW1lIiBpZD0iZmllbGQtbmFtZSIgcGxhY2Vob2xkZXI9IldoYXQgYXJlIHlvdSBjYWxsZWQ/IiByZXF1aXJlZD4KICAgICAgICA8bGFiZWw+TGV2ZWw8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIG5hbWU9ImxldmVsIiBpZD0iZmllbGQtbGV2ZWwiIHZhbHVlPSIxIiBtaW49IjEiIG1heD0iMjAiPgogICAgICAgIDxsYWJlbD5BbGlnbm1lbnQ8L2xhYmVsPgogICAgICAgIDxzZWxlY3QgbmFtZT0iYWxpZ25tZW50IiBpZD0iZmllbGQtYWxpZ25tZW50Ij4KICAgICAgICAgIHslIGZvciBhIGluIGFsaWdubWVudHMgJX08b3B0aW9uPnt7IGEgfX08L29wdGlvbj57JSBlbmRmb3IgJX0KICAgICAgICA8L3NlbGVjdD4KICAgICAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtbmF2LXJvdyI+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZ29TdGVwKDEpIj5OZXh0OiBSYWNlIOKGkjwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iYWktcGFuZWwiPgogICAgICAgIDxkaXYgY2xhc3M9ImFpLXBhbmVsLWhlYWRlciI+CiAgICAgICAgICDwn46yIEFJIER1bmdlb24gTWFzdGVyCiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9InZvaWNlLXRvZ2dsZSIgb25jbGljaz0idG9nZ2xlVm9pY2UoKSIgY2xhc3M9ImJ0biBidG4tc20gYnRuLWdob3N0IiBzdHlsZT0iZmxvYXQ6cmlnaHQ7Zm9udC1zaXplOjExcHg7cGFkZGluZzoycHggOHB4Ij7wn5SKIFZvaWNlIE9uPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iYWktY2hhdC1ib3giIGlkPSJjaGF0LTAiPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImFpLWlucHV0LXJvdyI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImFpLWlucHV0IiBpZD0iaW5wdXQtMCIgcGxhY2Vob2xkZXI9IkFzayBhbnl0aGluZyBhYm91dCB5b3VyIGNoYXJhY3RlciBjb25jZXB0Li4uIj4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtIiBvbmNsaWNrPSJhc2tBSSgwLCdnZW5lcmFsJykiPkFzazwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8IS0tIOKVkOKVkCBTVEVQIDI6IFJBQ0Ug4pWQ4pWQIC0tPgogIDxkaXYgY2xhc3M9IndpemFyZC1zZWN0aW9uIiBpZD0ic3RlcC0xIiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgIDxkaXYgY2xhc3M9IndpemFyZC10d28tY29sIj4KICAgICAgPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtZ29sZCI+CiAgICAgICAgPGgyPkNob29zZSBSYWNlPC9oMj4KICAgICAgICA8ZGl2IGNsYXNzPSJjaG9pY2UtZ3JpZCIgaWQ9InJhY2UtZ3JpZCI+CiAgICAgICAgICB7JSBmb3IgciBpbiByYWNlcyAlfQogICAgICAgICAgPGRpdiBjbGFzcz0iY2hvaWNlLWNhcmQiIGRhdGEtbmFtZT0ie3sgci5uYW1lIH19IiBvbmNsaWNrPSJzZWxlY3RDaG9pY2UoJ3JhY2UnLCd7eyByLm5hbWUgfX0nLHRoaXMpIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hvaWNlLW5hbWUiPnt7IHIubmFtZSB9fTwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaG9pY2UtbWV0YSI+CiAgICAgICAgICAgICAgeyUgZm9yIHN0YXQsIGJvbnVzIGluIHIuYWJpbGl0eV9ib251c2VzLml0ZW1zKCkgJX08c3BhbiBjbGFzcz0iYm9udXMtdGFnIj4re3sgYm9udXMgfX0ge3sgc3RhdFs6M10udXBwZXIoKSB9fTwvc3Bhbj57JSBlbmRmb3IgJX0KICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYm9udXMtdGFnIHNwZCI+e3sgci5zcGVlZCB9fWZ0PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hvaWNlLXRyYWl0cyI+e3sgci50cmFpdHNbOjJdfGpvaW4oJyDCtyAnKSB9fTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICB7JSBlbmRmb3IgJX0KICAgICAgICA8L2Rpdj4KICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJyYWNlIiBpZD0iZmllbGQtcmFjZSIgdmFsdWU9Ikh1bWFuIj4KICAgICAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtbmF2LXJvdyI+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZ2hvc3QiIG9uY2xpY2s9ImdvU3RlcCgwKSI+4oaQIEJhY2s8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJnb1N0ZXAoMikiPk5leHQ6IENsYXNzIOKGkjwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iYWktcGFuZWwiPgogICAgICAgIDxkaXYgY2xhc3M9ImFpLXBhbmVsLWhlYWRlciI+8J+OsiBSYWNlIEFkdmlzb3I8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1jaGF0LWJveCIgaWQ9ImNoYXQtMSI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iYWktaW5wdXQtcm93Ij4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iYWktaW5wdXQiIGlkPSJpbnB1dC0xIiBwbGFjZWhvbGRlcj0iQXNrIGFib3V0IGFueSByYWNlLi4uIj4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtIiBvbmNsaWNrPSJhc2tBSSgxLCdyYWNlJykiPkFzazwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8IS0tIOKVkOKVkCBTVEVQIDM6IENMQVNTIOKVkOKVkCAtLT4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc2VjdGlvbiIgaWQ9InN0ZXAtMiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtdHdvLWNvbCI+CiAgICAgIDxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWdvbGQiPgogICAgICAgIDxoMj5DaG9vc2UgQ2xhc3M8L2gyPgogICAgICAgIDxkaXYgY2xhc3M9ImNob2ljZS1ncmlkIiBpZD0iY2xhc3MtZ3JpZCI+CiAgICAgICAgICB7JSBmb3IgYyBpbiBjbGFzc2VzICV9CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjaG9pY2UtY2FyZCIgZGF0YS1uYW1lPSJ7eyBjLm5hbWUgfX0iIG9uY2xpY2s9InNlbGVjdENob2ljZSgnY2hhcl9jbGFzcycsJ3t7IGMubmFtZSB9fScsdGhpcykiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaG9pY2UtbmFtZSI+e3sgYy5uYW1lIH19PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNob2ljZS1tZXRhIj4KICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYm9udXMtdGFnIj57eyBjLmhpdF9kaWUgfX08L3NwYW4+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJvbnVzLXRhZyI+e3sgYy5wcmltYXJ5X2FiaWxpdHkgfX08L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaG9pY2UtdHJhaXRzIj57JSBmb3IgZiBpbiBjLmZlYXR1cmVzX2J5X2xldmVsLmdldCgxLFtdKVs6Ml0gJX17eyBmIH19eyUgaWYgbm90IGxvb3AubGFzdCAlfSDCtyB7JSBlbmRpZiAlfXslIGVuZGZvciAlfTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICB7JSBlbmRmb3IgJX0KICAgICAgICA8L2Rpdj4KICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJjaGFyX2NsYXNzIiBpZD0iZmllbGQtY2hhcl9jbGFzcyIgdmFsdWU9IkZpZ2h0ZXIiPgogICAgICAgIDxkaXYgY2xhc3M9IndpemFyZC1uYXYtcm93Ij4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1naG9zdCIgb25jbGljaz0iZ29TdGVwKDEpIj7ihpAgQmFjazwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9ImdvU3RlcCgzKSI+TmV4dDogQmFja2dyb3VuZCDihpI8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImFpLXBhbmVsIj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1wYW5lbC1oZWFkZXIiPvCfjrIgQ2xhc3MgQWR2aXNvcjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImFpLWNoYXQtYm94IiBpZD0iY2hhdC0yIj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1pbnB1dC1yb3ciPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJhaS1pbnB1dCIgaWQ9ImlucHV0LTIiIHBsYWNlaG9sZGVyPSJBc2sgYWJvdXQgYW55IGNsYXNzLi4uIj4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtIiBvbmNsaWNrPSJhc2tBSSgyLCdjbGFzcycpIj5Bc2s8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSDilZDilZAgU1RFUCA0OiBCQUNLR1JPVU5EIOKVkOKVkCAtLT4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc2VjdGlvbiIgaWQ9InN0ZXAtMyIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtdHdvLWNvbCI+CiAgICAgIDxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWdvbGQiPgogICAgICAgIDxoMj5DaG9vc2UgQmFja2dyb3VuZDwvaDI+CiAgICAgICAgPGRpdiBjbGFzcz0iY2hvaWNlLWdyaWQiIGlkPSJiZy1ncmlkIj4KICAgICAgICAgIHslIGZvciBiIGluIGJhY2tncm91bmRzICV9CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjaG9pY2UtY2FyZCIgZGF0YS1uYW1lPSJ7eyBiLm5hbWUgfX0iIG9uY2xpY2s9InNlbGVjdENob2ljZSgnYmFja2dyb3VuZCcsJ3t7IGIubmFtZSB9fScsdGhpcykiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaG9pY2UtbmFtZSI+e3sgYi5uYW1lIH19PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNob2ljZS1tZXRhIj57JSBmb3IgcyBpbiBiLnNraWxsX3Byb2ZpY2llbmNpZXMgJX08c3BhbiBjbGFzcz0iYm9udXMtdGFnIj57eyBzIH19PC9zcGFuPnslIGVuZGZvciAlfTwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaG9pY2UtdHJhaXRzIj57eyBiLmZlYXR1cmUgfX08L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgeyUgZW5kZm9yICV9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iYmFja2dyb3VuZCIgaWQ9ImZpZWxkLWJhY2tncm91bmQiIHZhbHVlPSJTb2xkaWVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtbmF2LXJvdyI+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZ2hvc3QiIG9uY2xpY2s9ImdvU3RlcCgyKSI+4oaQIEJhY2s8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJnb1N0ZXAoNCkiPk5leHQ6IEFiaWxpdHkgU2NvcmVzIOKGkjwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iYWktcGFuZWwiPgogICAgICAgIDxkaXYgY2xhc3M9ImFpLXBhbmVsLWhlYWRlciI+8J+OsiBCYWNrZ3JvdW5kIEFkdmlzb3I8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1jaGF0LWJveCIgaWQ9ImNoYXQtMyI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iYWktaW5wdXQtcm93Ij4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iYWktaW5wdXQiIGlkPSJpbnB1dC0zIiBwbGFjZWhvbGRlcj0iQXNrIGFib3V0IGJhY2tncm91bmRzLi4uIj4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtIiBvbmNsaWNrPSJhc2tBSSgzLCdiYWNrZ3JvdW5kJykiPkFzazwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8IS0tIOKVkOKVkCBTVEVQIDU6IEFCSUxJVFkgU0NPUkVTIOKVkOKVkCAtLT4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc2VjdGlvbiIgaWQ9InN0ZXAtNCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtdHdvLWNvbCI+CiAgICAgIDxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWdvbGQiPgogICAgICAgIDxoMj5BYmlsaXR5IFNjb3JlczwvaDI+CiAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDp2YXIoLS1iZzMpO2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmc6MTJweDttYXJnaW4tYm90dG9tOjE2cHg7Zm9udC1zaXplOjE0cHgiPgogICAgICAgICAgPHN0cm9uZyBzdHlsZT0iY29sb3I6dmFyKC0tZ29sZCkiPlN0YW5kYXJkIEFycmF5Ojwvc3Ryb25nPgogICAgICAgICAgPHNwYW4gY2xhc3M9InRleHQtZGltIj4gQXNzaWduIDE1LCAxNCwgMTMsIDEyLCAxMCwgODwvc3Bhbj4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc2Vjb25kYXJ5IiBzdHlsZT0ibWFyZ2luLWxlZnQ6OHB4IiBvbmNsaWNrPSJhcHBseVN0YW5kYXJkQXJyYXkoKSI+QXV0by1BcHBseTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImFiaWxpdHktZ3JpZC1sYXJnZSI+CiAgICAgICAgICB7JSBmb3Igc3RhdCwgbGFiZWwgaW4gWygnc3RyZW5ndGgnLCdTdHJlbmd0aCcpLCgnZGV4dGVyaXR5JywnRGV4dGVyaXR5JyksKCdjb25zdGl0dXRpb24nLCdDb25zdGl0dXRpb24nKSwoJ2ludGVsbGlnZW5jZScsJ0ludGVsbGlnZW5jZScpLCgnd2lzZG9tJywnV2lzZG9tJyksKCdjaGFyaXNtYScsJ0NoYXJpc21hJyldICV9CiAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmlsaXR5LWJveC1sYXJnZSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFiaWxpdHktbGFiZWwiPnt7IGxhYmVsIH19PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFiaWxpdHktYWJiciI+e3sgbGFiZWxbOjNdLnVwcGVyKCkgfX08L2Rpdj4KICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgbmFtZT0ie3sgc3RhdCB9fSIgaWQ9InNjb3JlLXt7IHN0YXQgfX0iIGNsYXNzPSJhYmlsaXR5LXNjb3JlLWlucHV0IiB2YWx1ZT0iMTAiIG1pbj0iMSIgbWF4PSIyMCIgb25pbnB1dD0idXBkYXRlTW9kKCd7eyBzdGF0IH19JykiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmlsaXR5LW1vZCIgaWQ9Im1vZC17eyBzdGF0IH19Ij4rMDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICB7JSBlbmRmb3IgJX0KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJyYWNpYWwtYm9udXMtbm90ZSIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDtmb250LXNpemU6MTNweDtjb2xvcjp2YXIoLS1nb2xkLWxpZ2h0KTtmb250LXN0eWxlOml0YWxpYyI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0id2l6YXJkLW5hdi1yb3ciPgogICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWdob3N0IiBvbmNsaWNrPSJnb1N0ZXAoMykiPuKGkCBCYWNrPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZ29TdGVwKDUpIj5OZXh0OiBQZXJzb25hbGl0eSDihpI8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImFpLXBhbmVsIj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1wYW5lbC1oZWFkZXIiPvCfjrIgU3RhdHMgQWR2aXNvcjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImFpLWNoYXQtYm94IiBpZD0iY2hhdC00Ij48L2Rpdj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbSIgc3R5bGU9IndpZHRoOjEwMCU7bWFyZ2luLWJvdHRvbTo4cHgiIG9uY2xpY2s9ImdldFN0YXRSZWMoKSI+8J+TiiBSZWNvbW1lbmQgU3RhdCBBc3NpZ25tZW50cyBmb3IgTXkgQnVpbGQ8L2J1dHRvbj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1pbnB1dC1yb3ciPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJhaS1pbnB1dCIgaWQ9ImlucHV0LTQiIHBsYWNlaG9sZGVyPSJBc2sgYWJvdXQgYWJpbGl0eSBzY29yZXMuLi4iPgogICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tc20iIG9uY2xpY2s9ImFza0FJKDQsJ2FiaWxpdGllcycpIj5Bc2s8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSDilZDilZAgU1RFUCA2OiBQRVJTT05BTElUWSDilZDilZAgLS0+CiAgPGRpdiBjbGFzcz0id2l6YXJkLXNlY3Rpb24iIGlkPSJzdGVwLTUiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgogICAgPGRpdiBjbGFzcz0id2l6YXJkLXR3by1jb2wiPgogICAgICA8ZGl2IGNsYXNzPSJwYW5lbCBwYW5lbC1nb2xkIj4KICAgICAgICA8aDI+UGVyc29uYWxpdHk8L2gyPgogICAgICAgIDxwIGNsYXNzPSJ0ZXh0LWRpbSIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTRweCI+RGVmaW5lIHdobyB5b3VyIGNoYXJhY3RlciBpcy4gVXNlIHRoZSBBSSB0byBnZW5lcmF0ZSBhbGwgZm91ci48L3A+CiAgICAgICAgPGxhYmVsPlBlcnNvbmFsaXR5IFRyYWl0PC9sYWJlbD4KICAgICAgICA8dGV4dGFyZWEgbmFtZT0icGVyc29uYWxpdHlfdHJhaXQiIGlkPSJmaWVsZC1wZXJzb25hbGl0eV90cmFpdCIgcm93cz0iMiIgcGxhY2Vob2xkZXI9IkhvdyBkb2VzIHlvdXIgY2hhcmFjdGVyIGdlbmVyYWxseSBiZWhhdmU/Ij48L3RleHRhcmVhPgogICAgICAgIDxsYWJlbD5JZGVhbDwvbGFiZWw+CiAgICAgICAgPHRleHRhcmVhIG5hbWU9ImlkZWFsIiBpZD0iZmllbGQtaWRlYWwiIHJvd3M9IjIiIHBsYWNlaG9sZGVyPSJXaGF0IGRvZXMgeW91ciBjaGFyYWN0ZXIgYmVsaWV2ZSBpbiBhYm92ZSBhbGw/Ij48L3RleHRhcmVhPgogICAgICAgIDxsYWJlbD5Cb25kPC9sYWJlbD4KICAgICAgICA8dGV4dGFyZWEgbmFtZT0iYm9uZCIgaWQ9ImZpZWxkLWJvbmQiIHJvd3M9IjIiIHBsYWNlaG9sZGVyPSJXaGF0IGNvbm5lY3RzIHlvdXIgY2hhcmFjdGVyIHRvIHRoZSB3b3JsZD8iPjwvdGV4dGFyZWE+CiAgICAgICAgPGxhYmVsPkZsYXc8L2xhYmVsPgogICAgICAgIDx0ZXh0YXJlYSBuYW1lPSJmbGF3IiBpZD0iZmllbGQtZmxhdyIgcm93cz0iMiIgcGxhY2Vob2xkZXI9IldoYXQgd2Vha25lc3MgaG9sZHMgeW91ciBjaGFyYWN0ZXIgYmFjaz8iPjwvdGV4dGFyZWE+CiAgICAgICAgPGRpdiBjbGFzcz0id2l6YXJkLW5hdi1yb3ciPgogICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWdob3N0IiBvbmNsaWNrPSJnb1N0ZXAoNCkiPuKGkCBCYWNrPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZ29TdGVwKDYpIj5OZXh0OiBGaW5hbGl6ZSDihpI8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImFpLXBhbmVsIj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1wYW5lbC1oZWFkZXIiPvCfjrIgUGVyc29uYWxpdHkgQWR2aXNvcjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImFpLWNoYXQtYm94IiBpZD0iY2hhdC01Ij48L2Rpdj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbSIgc3R5bGU9IndpZHRoOjEwMCU7bWFyZ2luLWJvdHRvbTo4cHgiIG9uY2xpY2s9ImdldFBlcnNvbmFsaXR5KCkiPuKcqCBHZW5lcmF0ZSBQZXJzb25hbGl0eSBmb3IgTXkgQnVpbGQ8L2J1dHRvbj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1pbnB1dC1yb3ciPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJhaS1pbnB1dCIgaWQ9ImlucHV0LTUiIHBsYWNlaG9sZGVyPSJEZXNjcmliZSB5b3VyIGNvbmNlcHQuLi4iPgogICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tc20iIG9uY2xpY2s9ImFza0FJKDUsJ3BlcnNvbmFsaXR5JykiPkFzazwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8IS0tIOKVkOKVkCBTVEVQIDc6IEZJTkFMSVpFIOKVkOKVkCAtLT4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc2VjdGlvbiIgaWQ9InN0ZXAtNiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtdHdvLWNvbCI+CiAgICAgIDxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWdvbGQiPgogICAgICAgIDxoMj5GaW5hbGl6ZTwvaDI+CiAgICAgICAgPGRpdiBpZD0iYnVpbGQtc3VtbWFyeSIgc3R5bGU9ImJhY2tncm91bmQ6dmFyKC0tYmczKTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjE0cHg7bWFyZ2luLWJvdHRvbToxNnB4O2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuOSI+CiAgICAgICAgICBMb2FkaW5nIHN1bW1hcnkuLi4KICAgICAgICA8L2Rpdj4KICAgICAgICA8bGFiZWw+Tm90ZXMgLyBCYWNrc3Rvcnk8L2xhYmVsPgogICAgICAgIDx0ZXh0YXJlYSBuYW1lPSJub3RlcyIgaWQ9ImZpZWxkLW5vdGVzIiByb3dzPSI0IiBwbGFjZWhvbGRlcj0iRXh0cmEgZGV0YWlscywgYmFja3N0b3J5LCBvciBub3RlcyBmb3IgeW91ciBETS4uLiI+PC90ZXh0YXJlYT4KICAgICAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtbmF2LXJvdyI+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZ2hvc3QiIG9uY2xpY2s9ImdvU3RlcCg1KSI+4oaQIEJhY2s8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0iZm9udC1zaXplOjE1cHg7cGFkZGluZzoxMnB4IDI4cHgiPuKalCBDcmVhdGUgQ2hhcmFjdGVyPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJhaS1wYW5lbCI+CiAgICAgICAgPGRpdiBjbGFzcz0iYWktcGFuZWwtaGVhZGVyIj7wn46yIEZpbmFsIFJldmlldzwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImFpLWNoYXQtYm94IiBpZD0iY2hhdC02Ij48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1pbnB1dC1yb3ciPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJhaS1pbnB1dCIgaWQ9ImlucHV0LTYiIHBsYWNlaG9sZGVyPSJBbnkgZmluYWwgcXVlc3Rpb25zPyI+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbSIgb25jbGljaz0iYXNrQUkoNiwnZ2VuZXJhbCcpIj5Bc2s8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCjwvZm9ybT4KPC9kaXY+Cgo8c3R5bGU+Ci53aXphcmQtdHdvLWNvbCB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnI7IGdhcDoyMHB4OyBhbGlnbi1pdGVtczpzdGFydDsgfQpAbWVkaWEobWF4LXdpZHRoOjcwMHB4KXsgLndpemFyZC10d28tY29seyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6MWZyOyB9IH0KCi5jaG9pY2UtZ3JpZCB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdChhdXRvLWZpbGwsbWlubWF4KDE1NXB4LDFmcikpOyBnYXA6OHB4OyBtYXJnaW4tYm90dG9tOjE2cHg7IG1heC1oZWlnaHQ6NDAwcHg7IG92ZXJmbG93LXk6YXV0bzsgcGFkZGluZy1yaWdodDo0cHg7IH0KLmNob2ljZS1jYXJkIHsgYmFja2dyb3VuZDp2YXIoLS1iZzMpOyBib3JkZXI6MnB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6OHB4OyBwYWRkaW5nOjEwcHg7IGN1cnNvcjpwb2ludGVyOyB0cmFuc2l0aW9uOmJvcmRlci1jb2xvciAwLjE1czsgfQouY2hvaWNlLWNhcmQ6aG92ZXIgeyBib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWdvbGQpOyB9Ci5jaG9pY2UtY2FyZC5zZWxlY3RlZCB7IGJvcmRlci1jb2xvcjp2YXIoLS1nb2xkKTsgYmFja2dyb3VuZDpyZ2JhKDIwMSwxNjgsNzYsMC4wOCk7IH0KLmNob2ljZS1uYW1lIHsgZm9udC1mYW1pbHk6J0NpbnplbCcsc2VyaWY7IGZvbnQtc2l6ZToxM3B4OyBjb2xvcjp2YXIoLS1nb2xkKTsgbWFyZ2luLWJvdHRvbTo1cHg7IH0KLmNob2ljZS1tZXRhIHsgZGlzcGxheTpmbGV4OyBmbGV4LXdyYXA6d3JhcDsgZ2FwOjNweDsgbWFyZ2luLWJvdHRvbTo0cHg7IH0KLmNob2ljZS10cmFpdHMgeyBmb250LXNpemU6MTFweDsgY29sb3I6dmFyKC0tdGV4dC1kaW0pOyBsaW5lLWhlaWdodDoxLjQ7IH0KLmJvbnVzLXRhZyB7IGZvbnQtc2l6ZToxMHB4OyBiYWNrZ3JvdW5kOnJnYmEoMjAxLDE2OCw3NiwwLjEpOyBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjAxLDE2OCw3NiwwLjIpOyBib3JkZXItcmFkaXVzOjNweDsgcGFkZGluZzoxcHggNXB4OyBjb2xvcjp2YXIoLS1nb2xkLWxpZ2h0KTsgfQouYm9udXMtdGFnLnNwZCB7IGJhY2tncm91bmQ6cmdiYSgxMDYsMTQzLDE3NiwwLjEpOyBib3JkZXItY29sb3I6cmdiYSgxMDYsMTQzLDE3NiwwLjI1KTsgY29sb3I6dmFyKC0taW5rKTsgfQoKLmFpLXBhbmVsIHsgYmFja2dyb3VuZDp2YXIoLS1iZzIpOyBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6MTBweDsgcGFkZGluZzoxNHB4OyBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgZ2FwOjhweDsgfQouYWktcGFuZWwtaGVhZGVyIHsgZm9udC1mYW1pbHk6J0NpbnplbCcsc2VyaWY7IGZvbnQtc2l6ZToxM3B4OyBjb2xvcjp2YXIoLS1nb2xkKTsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgcGFkZGluZy1ib3R0b206OHB4OyBtYXJnaW4tYm90dG9tOjRweDsgfQouYWktY2hhdC1ib3ggeyBiYWNrZ3JvdW5kOnZhcigtLWJnMyk7IGJvcmRlci1yYWRpdXM6NnB4OyBwYWRkaW5nOjEwcHg7IG1pbi1oZWlnaHQ6MjIwcHg7IG1heC1oZWlnaHQ6MzIwcHg7IG92ZXJmbG93LXk6YXV0bzsgZm9udC1zaXplOjEzcHg7IH0KLmFpLW1zZyB7IG1hcmdpbi1ib3R0b206MTBweDsgbGluZS1oZWlnaHQ6MS42OyBwYWRkaW5nOjdweCAxMHB4OyBib3JkZXItcmFkaXVzOjVweDsgfQouYWktbXNnLmRtIHsgYmFja2dyb3VuZDpyZ2JhKDIwMSwxNjgsNzYsMC4wNik7IGNvbG9yOnZhcigtLXRleHQpOyBib3JkZXItbGVmdDozcHggc29saWQgdmFyKC0tZ29sZCk7IH0KLmFpLW1zZy51c2VyIHsgYmFja2dyb3VuZDpyZ2JhKDEwNiwxNDMsMTc2LDAuMDgpOyBjb2xvcjp2YXIoLS1pbmspOyBib3JkZXItcmlnaHQ6M3B4IHNvbGlkIHZhcigtLWluayk7IHRleHQtYWxpZ246cmlnaHQ7IH0KLmFpLW1zZy50aGlua2luZyB7IGNvbG9yOnZhcigtLXRleHQtZGltKTsgZm9udC1zdHlsZTppdGFsaWM7IH0KLmFpLWlucHV0LXJvdyB7IGRpc3BsYXk6ZmxleDsgZ2FwOjZweDsgfQouYWktaW5wdXQgeyBmbGV4OjE7IH0KCi53aXphcmQtbmF2LXJvdyB7IGRpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IG1hcmdpbi10b3A6MjBweDsganVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7IH0KLndpemFyZC1zdGVwIHsgcGFkZGluZzo4cHggMTJweDsgZm9udC1zaXplOjExcHg7IHdoaXRlLXNwYWNlOm5vd3JhcDsgfQoKLmFiaWxpdHktZ3JpZC1sYXJnZSB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCgzLDFmcik7IGdhcDoxMnB4OyBtYXJnaW4tYm90dG9tOjhweDsgfQouYWJpbGl0eS1ib3gtbGFyZ2UgeyB0ZXh0LWFsaWduOmNlbnRlcjsgfQouYWJpbGl0eS1sYWJlbCB7IGZvbnQtc2l6ZToxMHB4OyBjb2xvcjp2YXIoLS10ZXh0LWRpbSk7IG1hcmdpbi1ib3R0b206MnB4OyB9Ci5hYmlsaXR5LWFiYnIgeyBmb250LWZhbWlseTonQ2luemVsJyxzZXJpZjsgZm9udC1zaXplOjEycHg7IGNvbG9yOnZhcigtLWdvbGQpOyBtYXJnaW4tYm90dG9tOjRweDsgfQouYWJpbGl0eS1zY29yZS1pbnB1dCB7IHRleHQtYWxpZ246Y2VudGVyOyBmb250LXNpemU6MjJweDsgZm9udC13ZWlnaHQ6NzAwOyBwYWRkaW5nOjZweCA0cHg7IHdpZHRoOjEwMCU7IH0KLmFiaWxpdHktbW9kIHsgZm9udC1zaXplOjE1cHg7IGNvbG9yOnZhcigtLWdvbGQpOyBtYXJnaW4tdG9wOjRweDsgZm9udC13ZWlnaHQ6NjAwOyB9Cjwvc3R5bGU+CnslIGVuZGJsb2NrICV9Cgp7JSBibG9jayBzY3JpcHRzICV9CjxzY3JpcHQ+Ci8vIOKUgOKUgCBTVEFURSDilIDilIAKY29uc3QgT0xMQU1BX09LID0ge3sgJ3RydWUnIGlmIG9sbGFtYV9vayBlbHNlICdmYWxzZScgfX07CmNvbnN0IElTX05QQyA9IHt7ICd0cnVlJyBpZiBpc19ucGMgZWxzZSAnZmFsc2UnIH19Owpjb25zdCBQUkVMT0FEID0ge3sgKHByZWxvYWQgfCB0b2pzb24pIGlmIHByZWxvYWQgZWxzZSAnbnVsbCcgfX07Cgpjb25zdCBSQUNJQUxfQk9OVVNFUyA9IHt9Owp7JSBmb3IgciBpbiByYWNlcyAlfQpSQUNJQUxfQk9OVVNFU1t7eyByLm5hbWUgfCB0b2pzb24gfX1dID0ge3sgci5hYmlsaXR5X2JvbnVzZXMgfCB0b2pzb24gfX07CnslIGVuZGZvciAlfQoKLy8gTG9jYWwga25vd2xlZGdlIGZvciBvZmZsaW5lIHZvaWNlIGd1aWRhbmNlIChubyBPbGxhbWEgbmVlZGVkKQpjb25zdCBTVEVQX0lOVFJPUyA9IHsKICAwOiAiV2VsY29tZSwgYWR2ZW50dXJlciEgSSBhbSB5b3VyIEFJIER1bmdlb24gTWFzdGVyLiBUZWxsIG1lIHlvdXIgY2hhcmFjdGVyJ3MgbmFtZSwgdGhlbiBjaG9vc2UgdGhlaXIgbGV2ZWwgYW5kIGFsaWdubWVudC4gTGV2ZWwgMSBpcyByZWNvbW1lbmRlZCBmb3IgbmV3IGNoYXJhY3RlcnMuIEFsaWdubWVudCByZWZsZWN0cyB0aGVpciBtb3JhbCBvdXRsb29rIOKAlCBMYXdmdWwgR29vZCBjaGFyYWN0ZXJzIGZvbGxvdyBydWxlcyBhbmQgaGVscCBvdGhlcnMsIHdoaWxlIENoYW90aWMgRXZpbCBvbmVzIGFjdCBvbiBzZWxmaXNoIGltcHVsc2UuIiwKICAxOiAiQ2hvb3NlIHlvdXIgcmFjZSB3aXNlbHkuIEVhY2ggcmFjZSBncmFudHMgYWJpbGl0eSBzY29yZSBib251c2VzIGFuZCBzcGVjaWFsIHRyYWl0cy4gRWx2ZXMgZ2FpbiBEZXh0ZXJpdHkgYW5kIGhhdmUgZGFya3Zpc2lvbi4gSHVtYW5zIGdhaW4gcGx1cyBvbmUgdG8gYWxsIHN0YXRzIOKAlCB2ZXJzYXRpbGUgYW5kIHJlbGlhYmxlLiBEd2FydmVzIGFyZSB0b3VnaCB3aXRoIENvbnN0aXR1dGlvbiBib251c2VzLiBDbGljayBhbnkgcmFjZSBjYXJkIGFuZCBJIHdpbGwgZXhwbGFpbiBpdCBmdWxseS4iLAogIDI6ICJZb3VyIGNsYXNzIGRlZmluZXMgaG93IHlvdSBmaWdodCBhbmQgcGxheS4gRmlnaHRlcnMgYXJlIGR1cmFibGUgd2FycmlvcnMgdXNpbmcgU3RyZW5ndGggb3IgRGV4dGVyaXR5LiBXaXphcmRzIGNhc3QgcG93ZXJmdWwgc3BlbGxzIGJ1dCBhcmUgZnJhZ2lsZSwgbmVlZGluZyBoaWdoIEludGVsbGlnZW5jZS4gUm9ndWVzIHVzZSBEZXh0ZXJpdHkgZm9yIHN0ZWFsdGggYW5kIHNuZWFrIGF0dGFja3MuIENsZXJpY3MgY29tYmluZSBoZWFsaW5nIGFuZCBjb21iYXQgd2l0aCBXaXNkb20tYmFzZWQgbWFnaWMuIENsaWNrIGEgY2xhc3MgdG8gbGVhcm4gbW9yZS4iLAogIDM6ICJZb3VyIGJhY2tncm91bmQgdGVsbHMgeW91ciBzdG9yeSBiZWZvcmUgYWR2ZW50dXJpbmcuIEl0IGdyYW50cyB0d28gc2tpbGwgcHJvZmljaWVuY2llcyBhbmQgYSBzcGVjaWFsIGZlYXR1cmUuIEEgU29sZGllciBnYWlucyBBdGhsZXRpY3MgYW5kIEludGltaWRhdGlvbi4gQSBTYWdlIGdhaW5zIEFyY2FuYSBhbmQgSGlzdG9yeS4gQ2hvb3NlIG9uZSB0aGF0IGZpdHMgeW91ciBjaGFyYWN0ZXIgY29uY2VwdCBhbmQgY29tcGxlbWVudHMgeW91ciBjbGFzcyBza2lsbHMuIiwKICA0OiAiVGltZSB0byBzZXQgeW91ciBzaXggYWJpbGl0eSBzY29yZXMgdXNpbmcgdGhlIHN0YW5kYXJkIGFycmF5OiAxNSwgMTQsIDEzLCAxMiwgMTAsIGFuZCA4LiBDbGljayBBdXRvLUFwcGx5IHRvIGZpbGwgdGhlbSBpbiBvcmRlciwgdGhlbiByZWFycmFuZ2UgYXMgbmVlZGVkLiBQdXQgeW91ciBoaWdoZXN0IHNjb3JlIGluIHlvdXIgY2xhc3MncyBwcmltYXJ5IGFiaWxpdHkg4oCUIFN0cmVuZ3RoIGZvciBGaWdodGVycywgSW50ZWxsaWdlbmNlIGZvciBXaXphcmRzLCBEZXh0ZXJpdHkgZm9yIFJvZ3Vlcy4iLAogIDU6ICJEZWZpbmUgeW91ciBjaGFyYWN0ZXIncyBwZXJzb25hbGl0eS4gQSBQZXJzb25hbGl0eSBUcmFpdCBkZXNjcmliZXMgaG93IHRoZXkgYWN0LiBBbiBJZGVhbCBpcyB3aGF0IHRoZXkgYmVsaWV2ZSBpbiBkZWVwbHkuIEEgQm9uZCB0aWVzIHRoZW0gdG8gdGhlIHdvcmxkIOKAlCBhIHBlcnNvbiwgcGxhY2UsIG9yIGV2ZW50LiBBIEZsYXcgaXMgdGhlaXIgd2Vha25lc3Mgb3IgdmljZS4gQ2xpY2sgR2VuZXJhdGUgUGVyc29uYWxpdHkgYW5kIEkgd2lsbCBjcmVhdGUgYWxsIGZvdXIgYmFzZWQgb24geW91ciBidWlsZC4iLAogIDY6ICJZb3VyIGNoYXJhY3RlciBpcyBuZWFybHkgY29tcGxldGUhIFJldmlldyB0aGUgc3VtbWFyeSBvbiB0aGUgbGVmdC4gQWRkIGFueSBiYWNrc3Rvcnkgb3Igbm90ZXMgZm9yIHlvdXIgRHVuZ2VvbiBNYXN0ZXIuIFdoZW4gcmVhZHksIGNsaWNrIENyZWF0ZSBDaGFyYWN0ZXIgdG8gZmluYWxpemUgeW91ciBidWlsZC4iCn07CgpsZXQgY3VycmVudFN0ZXAgPSAwOwpsZXQgdm9pY2VFbmFibGVkID0gdHJ1ZTsKbGV0IGJ1aWxkID0geyByYWNlOidIdW1hbicsIGNoYXJfY2xhc3M6J0ZpZ2h0ZXInLCBiYWNrZ3JvdW5kOidTb2xkaWVyJywgbGV2ZWw6MSwgYWxpZ25tZW50OidUcnVlIE5ldXRyYWwnIH07CgovLyDilIDilIAgVk9JQ0UgKFdlYiBTcGVlY2ggQVBJKSDilIDilIAKZnVuY3Rpb24gc3BlYWsodGV4dCkgewogIGlmICghdm9pY2VFbmFibGVkIHx8ICF3aW5kb3cuc3BlZWNoU3ludGhlc2lzKSByZXR1cm47CiAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5jYW5jZWwoKTsKICBjb25zdCB1dHQgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpOwogIHV0dC5yYXRlID0gMC45MjsKICB1dHQucGl0Y2ggPSAwLjg1OwogIC8vIFRyeSB0byBwaWNrIGEgZGVlcGVyIHZvaWNlCiAgY29uc3Qgdm9pY2VzID0gd2luZG93LnNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKTsKICBjb25zdCBwcmVmID0gdm9pY2VzLmZpbmQodiA9PiB2Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZGF2aWQnKSB8fCB2Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZGFuaWVsJykgfHwgdi5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ21hbGUnKSk7CiAgaWYgKHByZWYpIHV0dC52b2ljZSA9IHByZWY7CiAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5zcGVhayh1dHQpOwp9CgpmdW5jdGlvbiB0b2dnbGVWb2ljZSgpIHsKICB2b2ljZUVuYWJsZWQgPSAhdm9pY2VFbmFibGVkOwogIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2b2ljZS10b2dnbGUnKTsKICBpZiAoYnRuKSBidG4udGV4dENvbnRlbnQgPSB2b2ljZUVuYWJsZWQgPyAn8J+UiiBWb2ljZSBPbicgOiAn8J+UhyBWb2ljZSBPZmYnOwogIGlmICghdm9pY2VFbmFibGVkKSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpOwp9CgovLyDilIDilIAgTkFWSUdBVElPTiDilIDilIAKZnVuY3Rpb24gZ29TdGVwKGlkeCkgewogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53aXphcmQtc2VjdGlvbicpLmZvckVhY2goZnVuY3Rpb24ocywgaSkgewogICAgcy5zdHlsZS5kaXNwbGF5ID0gaSA9PT0gaWR4ID8gJ2Jsb2NrJyA6ICdub25lJzsKICB9KTsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcud2l6YXJkLXN0ZXAnKS5mb3JFYWNoKGZ1bmN0aW9uKHMsIGkpIHsKICAgIHMuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgaSA9PT0gaWR4KTsKICAgIHMuY2xhc3NMaXN0LnRvZ2dsZSgnZG9uZScsIGkgPCBpZHgpOwogIH0pOwogIGN1cnJlbnRTdGVwID0gaWR4OwogIHdpbmRvdy5zY3JvbGxUbygwLCAwKTsKCiAgLy8gU3BlYWsgaW50cm8gaWYgY2hhdCBib3ggaXMgZW1wdHkKICBjb25zdCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC0nICsgaWR4KTsKICBpZiAoYm94ICYmIGJveC5jaGlsZHJlbi5sZW5ndGggPT09IDApIHsKICAgIGNvbnN0IGludHJvID0gU1RFUF9JTlRST1NbaWR4XSB8fCAnJzsKICAgIGlmIChpbnRybykgewogICAgICBhZGRNc2coaWR4LCBpbnRybywgJ2RtJyk7CiAgICAgIHNwZWFrKGludHJvKTsKICAgIH0KICB9CiAgaWYgKGlkeCA9PT0gNCkgc2hvd1JhY2lhbEJvbnVzZXMoKTsKICBpZiAoaWR4ID09PSA2KSByZW5kZXJCdWlsZFN1bW1hcnkoKTsKfQoKLy8g4pSA4pSAIENIT0lDRSBDQVJEUyDilIDilIAKZnVuY3Rpb24gc2VsZWN0Q2hvaWNlKGZpZWxkLCB2YWx1ZSwgZWwpIHsKICBjb25zdCBncmlkID0gZWwuY2xvc2VzdCgnLmNob2ljZS1ncmlkJyk7CiAgZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hvaWNlLWNhcmQnKS5mb3JFYWNoKGZ1bmN0aW9uKGMpeyBjLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7IH0pOwogIGVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpZWxkLScgKyBmaWVsZCkudmFsdWUgPSB2YWx1ZTsKICBidWlsZFtmaWVsZF0gPSB2YWx1ZTsKICBjb25zdCBzdGVwTWFwID0geyByYWNlOjEsIGNoYXJfY2xhc3M6MiwgYmFja2dyb3VuZDozIH07CiAgY29uc3Qgc3RlcElkeCA9IHN0ZXBNYXBbZmllbGRdOwogIGNvbnN0IHN0ZXBOYW1lID0gZmllbGQgPT09ICdjaGFyX2NsYXNzJyA/ICdjbGFzcycgOiBmaWVsZDsKICBpZiAoc3RlcElkeCAhPT0gdW5kZWZpbmVkKSB7CiAgICBjb25zdCBtc2cgPSAnVGVsbCBtZSBhYm91dCAnICsgdmFsdWUgKyAnIGFzIGEgJyArIHN0ZXBOYW1lICsgJyBjaG9pY2UgZm9yIG15IGJ1aWxkLiBCZSBzcGVjaWZpYyBhYm91dCB0cmFpdHMsIGJvbnVzZXMsIGFuZCBzeW5lcmdpZXMuJzsKICAgIGFza0FJTXNnKHN0ZXBJZHgsIHN0ZXBOYW1lLCBtc2csIGZhbHNlKTsKICB9Cn0KCi8vIOKUgOKUgCBBSSBDSEFUIOKUgOKUgApmdW5jdGlvbiBhZGRNc2coc3RlcElkeCwgdGV4dCwgcm9sZSkgewogIGNvbnN0IGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LScgKyBzdGVwSWR4KTsKICBpZiAoIWJveCkgcmV0dXJuIG51bGw7CiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgZGl2LmNsYXNzTmFtZSA9ICdhaS1tc2cgJyArIHJvbGU7CiAgZGl2LnRleHRDb250ZW50ID0gdGV4dDsKICBib3guYXBwZW5kQ2hpbGQoZGl2KTsKICBib3guc2Nyb2xsVG9wID0gYm94LnNjcm9sbEhlaWdodDsKICByZXR1cm4gZGl2Owp9Cgphc3luYyBmdW5jdGlvbiBhc2tBSU1zZyhzdGVwSWR4LCBzdGVwTmFtZSwgbWVzc2FnZSwgc2hvd1VzZXJNc2cpIHsKICBpZiAoc2hvd1VzZXJNc2cgIT09IGZhbHNlKSBhZGRNc2coc3RlcElkeCwgbWVzc2FnZSwgJ3VzZXInKTsKICBjb25zdCB0aGlua2luZyA9IGFkZE1zZyhzdGVwSWR4LCAnLi4udGhpbmtpbmcuLi4nLCAndGhpbmtpbmcnKTsKICBzeW5jQnVpbGQoKTsKCiAgaWYgKE9MTEFNQV9PSykgewogICAgdHJ5IHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9jaGFyYWN0ZXJzL2FpX3N0ZXAnLCB7CiAgICAgICAgbWV0aG9kOidQT1NUJywKICAgICAgICBoZWFkZXJzOnsnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbid9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc3RlcDpzdGVwTmFtZSwgYnVpbGQ6YnVpbGQsIG1lc3NhZ2U6bWVzc2FnZSB9KQogICAgICB9KTsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgIGlmICh0aGlua2luZykgdGhpbmtpbmcucmVtb3ZlKCk7CiAgICAgIGNvbnN0IHJlcGx5ID0gZGF0YS5yZXBseSB8fCAnW05vIHJlc3BvbnNlXSc7CiAgICAgIGFkZE1zZyhzdGVwSWR4LCByZXBseSwgJ2RtJyk7CiAgICAgIHNwZWFrKHJlcGx5KTsKICAgICAgcmV0dXJuOwogICAgfSBjYXRjaChlKSB7IC8qIGZhbGwgdGhyb3VnaCB0byBvZmZsaW5lICovIH0KICB9CgogIC8vIE9mZmxpbmUgZmFsbGJhY2sg4oCUIGJyb3dzZXItb25seSBndWlkYW5jZQogIGlmICh0aGlua2luZykgdGhpbmtpbmcucmVtb3ZlKCk7CiAgY29uc3Qgb2ZmbGluZSA9IGdldE9mZmxpbmVSZXBseShzdGVwTmFtZSwgbWVzc2FnZSwgYnVpbGQpOwogIGFkZE1zZyhzdGVwSWR4LCBvZmZsaW5lLCAnZG0nKTsKICBzcGVhayhvZmZsaW5lKTsKfQoKZnVuY3Rpb24gYXNrQUkoc3RlcElkeCwgc3RlcE5hbWUpIHsKICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dC0nICsgc3RlcElkeCk7CiAgaWYgKCFpbnB1dCkgcmV0dXJuOwogIGNvbnN0IG1zZyA9IGlucHV0LnZhbHVlLnRyaW0oKTsKICBpZiAoIW1zZykgcmV0dXJuOwogIGFkZE1zZyhzdGVwSWR4LCBtc2csICd1c2VyJyk7CiAgaW5wdXQudmFsdWUgPSAnJzsKICBhc2tBSU1zZyhzdGVwSWR4LCBzdGVwTmFtZSwgbXNnLCBmYWxzZSk7Cn0KCi8vIEVudGVyIGtleSBvbiBhaSBpbnB1dHMKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkgewogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5haS1pbnB1dCcpLmZvckVhY2goZnVuY3Rpb24oaW5wdXQsIGkpIHsKICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7CiAgICAgIGlmIChlLmtleSAhPT0gJ0VudGVyJykgcmV0dXJuOwogICAgICBjb25zdCBzdGVwcyA9IFsnZ2VuZXJhbCcsJ3JhY2UnLCdjbGFzcycsJ2JhY2tncm91bmQnLCdhYmlsaXRpZXMnLCdwZXJzb25hbGl0eScsJ2dlbmVyYWwnXTsKICAgICAgYXNrQUkoaSwgc3RlcHNbaV0gfHwgJ2dlbmVyYWwnKTsKICAgIH0pOwogIH0pOwp9KTsKCi8vIOKUgOKUgCBPRkZMSU5FIEtOT1dMRURHRSBCQVNFIOKUgOKUgApmdW5jdGlvbiBnZXRPZmZsaW5lUmVwbHkoc3RlcCwgbWVzc2FnZSwgYikgewogIGNvbnN0IHJhY2UgPSBiLnJhY2UgfHwgJ0h1bWFuJzsKICBjb25zdCBjbHMgPSBiLmNoYXJfY2xhc3MgfHwgJ0ZpZ2h0ZXInOwogIGNvbnN0IGJnID0gYi5iYWNrZ3JvdW5kIHx8ICdTb2xkaWVyJzsKICBjb25zdCBvZmZsaW5lRGF0YSA9IHsKICAgIHJhY2U6IHsKICAgICAgJ0h1bWFuJzonSHVtYW5zIGFyZSB0aGUgbW9zdCB2ZXJzYXRpbGUgcmFjZSDigJQgdGhleSBnYWluIHBsdXMgb25lIHRvIGV2ZXJ5IGFiaWxpdHkgc2NvcmUuIFRoaXMgbWFrZXMgdGhlbSBleGNlbGxlbnQgZm9yIGFueSBjbGFzcywgZXNwZWNpYWxseSBtdWx0aS1zdGF0IGNsYXNzZXMgbGlrZSBQYWxhZGluIG9yIFJhbmdlci4nLAogICAgICAnRWxmIChIaWdoKSc6J0hpZ2ggRWx2ZXMgZ2FpbiBwbHVzIHR3byBEZXh0ZXJpdHkgYW5kIHBsdXMgb25lIEludGVsbGlnZW5jZSwgZGFya3Zpc2lvbiwgYW5kIGEgZnJlZSBjYW50cmlwIGZyb20gdGhlIFdpemFyZCBzcGVsbCBsaXN0LiBUaGV5IGV4Y2VsIGFzIFdpemFyZHMsIEZpZ2h0ZXJzIChFbGRyaXRjaCBLbmlnaHQpLCBvciBSb2d1ZXMuJywKICAgICAgJ0R3YXJmIChIaWxsKSc6J0hpbGwgRHdhcnZlcyBnYWluIHBsdXMgdHdvIENvbnN0aXR1dGlvbiwgcGx1cyBvbmUgV2lzZG9tLCBkYXJrdmlzaW9uLCBhbmQgRHdhcnZlbiBUb3VnaG5lc3Mg4oCUIGFuIGV4dHJhIGhpdCBwb2ludCBwZXIgbGV2ZWwuIEV4Y2VsbGVudCBDbGVyaWNzIGFuZCB0YW5reSBGaWdodGVycy4nLAogICAgICAnRHdhcmYgKE1vdW50YWluKSc6J01vdW50YWluIER3YXJ2ZXMgZ2FpbiBwbHVzIHR3byBDb25zdGl0dXRpb24gQU5EIHBsdXMgdHdvIFN0cmVuZ3RoIOKAlCB1bnVzdWFsIGRvdWJsZSBib251cy4gUGVyZmVjdCBmb3IgaGVhdnkgYXJtb3IgY2xhc3NlczogRmlnaHRlciwgUGFsYWRpbiwgQmFyYmFyaWFuLicsCiAgICAgICdIYWxmLU9yYyc6J0hhbGYtT3JjcyBnYWluIHBsdXMgdHdvIFN0cmVuZ3RoLCBwbHVzIG9uZSBDb25zdGl0dXRpb24sIGFuZCBSZWxlbnRsZXNzIEVuZHVyYW5jZSDigJQgb25jZSBwZXIgbG9uZyByZXN0LCBkcm9wIHRvIDEgSFAgaW5zdGVhZCBvZiAwLiBPdXRzdGFuZGluZyBCYXJiYXJpYW5zIGFuZCBGaWdodGVycy4nLAogICAgICAnSGFsZmxpbmcgKExpZ2h0Zm9vdCknOidIYWxmbGluZ3MgZ2FpbiBwbHVzIHR3byBEZXh0ZXJpdHksIHBsdXMgb25lIENoYXJpc21hLCBhbmQgdGhlIEx1Y2t5IHRyYWl0IOKAlCByZXJvbGwgYW55IDEgeW91IHJvbGwgb24gYW4gYXR0YWNrLCBhYmlsaXR5IGNoZWNrLCBvciBzYXZpbmcgdGhyb3cuIEV4Y2VwdGlvbmFsIFJvZ3VlcyBhbmQgQmFyZHMuJywKICAgICAgJ1RpZWZsaW5nJzonVGllZmxpbmdzIGdhaW4gcGx1cyB0d28gQ2hhcmlzbWEsIHBsdXMgb25lIEludGVsbGlnZW5jZSwgcmVzaXN0YW5jZSB0byBmaXJlLCBhbmQgaW5uYXRlIHNwZWxsY2FzdGluZy4gTmF0dXJhbCBXYXJsb2NrcywgU29yY2VyZXJzLCBhbmQgQmFyZHMuJywKICAgIH0sCiAgICBjbGFzczogewogICAgICAnRmlnaHRlcic6J0ZpZ2h0ZXJzIHVzZSBkMTAgaGl0IGRpY2UsIHdlYXIgYW55IGFybW9yLCBhbmQgY2FuIGZpZ2h0IHdpdGggU3RyZW5ndGggb3IgRGV4dGVyaXR5LiBBdCBsZXZlbCAxIHRoZXkgY2hvb3NlIGEgRmlnaHRpbmcgU3R5bGUgYW5kIGdhaW4gU2Vjb25kIFdpbmQg4oCUIGhlYWwgMWQxMCBwbHVzIGxldmVsIGFzIGEgYm9udXMgYWN0aW9uLiBQcmltYXJ5IHN0YXRzOiBTVFIgb3IgREVYLCB0aGVuIENPTi4nLAogICAgICAnV2l6YXJkJzonV2l6YXJkcyB1c2UgZDYgaGl0IGRpY2UgYW5kIElOVCBmb3Igc3BlbGxjYXN0aW5nLiBUaGV5IGFyZSBmcmFnaWxlIGJ1dCBpbmNyZWRpYmx5IHBvd2VyZnVsLiBBdCBsZXZlbCAxIHRoZXkgaGF2ZSBhIHNwZWxsYm9vayBhbmQgY2FuIGNhc3Qgc3BlbGxzIGxpa2UgTWFnaWMgTWlzc2lsZSBhbmQgU2hpZWxkLiBQcmltYXJ5IHN0YXRzOiBJTlQgZmlyc3QsIHRoZW4gQ09OLCB0aGVuIERFWC4nLAogICAgICAnUm9ndWUnOidSb2d1ZXMgdXNlIGQ4IGhpdCBkaWNlIGFuZCBERVggZm9yIG1vc3QgYWJpbGl0aWVzLiBTbmVhayBBdHRhY2sgYWRkcyBib251cyBkYW1hZ2Ugd2hlbiB5b3UgaGF2ZSBhZHZhbnRhZ2Ugb3IgYW4gYWxseSBuZWFyYnkuIEN1bm5pbmcgQWN0aW9uIGxldHMgeW91IGRhc2gsIGRpc2VuZ2FnZSwgb3IgaGlkZSBhcyBhIGJvbnVzIGFjdGlvbi4gUHJpbWFyeSBzdGF0czogREVYLCB0aGVuIENPTiBvciBJTlQuJywKICAgICAgJ0NsZXJpYyc6J0NsZXJpY3MgdXNlIGQ4IGhpdCBkaWNlIGFuZCBXSVMgZm9yIHNwZWxsY2FzdGluZy4gVGhleSBjYW4gd2VhciBhcm1vciBhbmQgZmlnaHQgd2hpbGUgY2FzdGluZyBoZWFsaW5nIGFuZCBzdXBwb3J0IHNwZWxscy4gQXQgbGV2ZWwgMSB0aGV5IGNob29zZSBhIERpdmluZSBEb21haW4gdGhhdCBzaGFwZXMgdGhlaXIgcG93ZXIuIFByaW1hcnkgc3RhdHM6IFdJUywgdGhlbiBDT04sIHRoZW4gU1RSLicsCiAgICAgICdCYXJiYXJpYW4nOidCYXJiYXJpYW5zIHVzZSBkMTIgaGl0IGRpY2Ug4oCUIHRoZSBoaWdoZXN0IGluIHRoZSBnYW1lLiBSYWdlIGdpdmVzIGJvbnVzIGRhbWFnZSwgcmVzaXN0YW5jZSB0byBwaHlzaWNhbCBkYW1hZ2UsIGFuZCBhZHZhbnRhZ2Ugb24gU1RSIGNoZWNrcy4gVW5hcm1vcmVkIERlZmVuc2U6IEFDIGVxdWFscyAxMCBwbHVzIERFWCBwbHVzIENPTi4gUHJpbWFyeSBzdGF0czogU1RSIGFuZCBDT04uJywKICAgICAgJ1BhbGFkaW4nOidQYWxhZGlucyB1c2UgZDEwIGhpdCBkaWNlIGFuZCBuZWVkIGJvdGggU1RSIGFuZCBDSEEuIExheSBvbiBIYW5kcyBoZWFscyA1IEhQIHBlciBsZXZlbCBwZXIgZGF5LiBEaXZpbmUgU21pdGUgc3BlbmRzIHNwZWxsIHNsb3RzIGZvciBtYXNzaXZlIGJ1cnN0IGRhbWFnZS4gUHJpbWFyeSBzdGF0czogU1RSLCB0aGVuIENIQSwgdGhlbiBDT04uJywKICAgIH0KICB9OwogIGNvbnN0IHN0ZXBEYXRhID0gb2ZmbGluZURhdGFbc3RlcF0gfHwge307CiAgY29uc3QgbXNnID0gbWVzc2FnZS50b0xvd2VyQ2FzZSgpOwogIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhzdGVwRGF0YSkpIHsKICAgIGlmIChtc2cuaW5jbHVkZXMoa2V5LnRvTG93ZXJDYXNlKCkpIHx8IChzdGVwID09PSAncmFjZScgJiYgcmFjZSA9PT0ga2V5KSB8fCAoc3RlcCA9PT0gJ2NsYXNzJyAmJiBjbHMgPT09IGtleSkpIHsKICAgICAgcmV0dXJuIHZhbDsKICAgIH0KICB9CiAgLy8gR2VuZXJpYyByZXBsaWVzIGJ5IHN0ZXAKICBjb25zdCBnZW5lcmljID0gewogICAgZ2VuZXJhbDogJ1dlbGNvbWUhIEJ1aWxkIHlvdXIgY2hhcmFjdGVyIHN0ZXAgYnkgc3RlcC4gTmFtZSB0aGVtLCBjaG9vc2UgeW91ciByYWNlIGZvciBhYmlsaXR5IGJvbnVzZXMsIHBpY2sgYSBjbGFzcyBmb3IgeW91ciByb2xlIGluIHRoZSBwYXJ0eSwgc2VsZWN0IGEgYmFja2dyb3VuZCBmb3Igc2tpbGxzLCB0aGVuIGFzc2lnbiBhYmlsaXR5IHNjb3JlcyB1c2luZyB0aGUgc3RhbmRhcmQgYXJyYXk6IDE1LCAxNCwgMTMsIDEyLCAxMCwgOC4nLAogICAgcmFjZTogJ0VhY2ggcmFjZSBnaXZlcyBhYmlsaXR5IHNjb3JlIGJvbnVzZXMgYW5kIHNwZWNpYWwgdHJhaXRzLiBGb3IgYSAnICsgY2xzICsgJywgcHJpb3JpdGl6ZSByYWNlcyB0aGF0IGJvb3N0IHlvdXIgcHJpbWFyeSBzdGF0cy4gQ2xpY2sgYW55IHJhY2UgY2FyZCBmb3IgZGV0YWlscyBhYm91dCB0aGF0IHNwZWNpZmljIHJhY2UuJywKICAgIGNsYXNzOiAnWW91ciBjbGFzcyBkZXRlcm1pbmVzIHlvdXIgY29tYmF0IHJvbGUgYW5kIGFiaWxpdGllcy4gQXMgYSAnICsgcmFjZSArICcsIHlvdSBoYXZlICcgKyAocmFjZS5pbmNsdWRlcygnRWxmJykgPyAnRGV4dGVyaXR5JyA6IHJhY2UuaW5jbHVkZXMoJ0R3YXJmJykgPyAnQ29uc3RpdHV0aW9uJyA6ICd2ZXJzYXRpbGUnKSArICcgYm9udXNlcyDigJQgY29uc2lkZXIgaG93IHRoYXQgcGFpcnMgd2l0aCBlYWNoIGNsYXNzLicsCiAgICBiYWNrZ3JvdW5kOiAnWW91ciBiYWNrZ3JvdW5kIGdpdmVzIHR3byBza2lsbCBwcm9maWNpZW5jaWVzIGFuZCBhIHNwZWNpYWwgZmVhdHVyZS4gQ2hvb3NlIG9uZSB0aGF0IGZpbGxzIGdhcHMgaW4geW91ciBjbGFzcyBza2lsbCBsaXN0IG9yIGZpdHMgeW91ciBjaGFyYWN0ZXIgc3RvcnkuJywKICAgIGFiaWxpdGllczogJ0ZvciBhICcgKyBjbHMgKyAnLCBwbGFjZSB5b3VyIGhpZ2hlc3Qgc2NvcmUgKDE1KSBpbiB5b3VyIHByaW1hcnkgc3RhdC4gRmlnaHRlcnMgd2FudCBTVFIgb3IgREVYLiBXaXphcmRzIHdhbnQgSU5ULiBDbGVyaWNzIHdhbnQgV0lTLiBSb2d1ZXMgd2FudCBERVguIEFsd2F5cyBrZWVwIENPTiByZWFzb25hYmx5IGhpZ2gg4oCUIGl0IGFmZmVjdHMgeW91ciBIUC4nLAogICAgcGVyc29uYWxpdHk6ICdZb3VyICcgKyByYWNlICsgJyAnICsgY2xzICsgJyB3aXRoIGEgJyArIGJnICsgJyBiYWNrZ3JvdW5kIGhhcyBhIHJpY2ggc3RvcnkgdG8gdGVsbC4gQ29uc2lkZXIgd2hhdCBkcm92ZSB0aGVtIHRvIGFkdmVudHVyZSwgd2hvIHRoZXkgbGVmdCBiZWhpbmQsIGFuZCB3aGF0IG1vcmFsIGNvZGUgZ3VpZGVzIHRoZW0uJywKICB9OwogIHJldHVybiBnZW5lcmljW3N0ZXBdIHx8IGdlbmVyaWMuZ2VuZXJhbDsKfQoKLy8g4pSA4pSAIEFCSUxJVFkgU0NPUkVTIOKUgOKUgApmdW5jdGlvbiB1cGRhdGVNb2Qoc3RhdCkgewogIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLScgKyBzdGF0KTsKICBjb25zdCBtb2RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2QtJyArIHN0YXQpOwogIGlmICghaW5wdXQgfHwgIW1vZEVsKSByZXR1cm47CiAgY29uc3Qgc2NvcmUgPSBwYXJzZUludChpbnB1dC52YWx1ZSkgfHwgMTA7CiAgY29uc3QgbW9kID0gTWF0aC5mbG9vcigoc2NvcmUgLSAxMCkgLyAyKTsKICBtb2RFbC50ZXh0Q29udGVudCA9IChtb2QgPj0gMCA/ICcrJyA6ICcnKSArIG1vZDsKICBidWlsZFtzdGF0XSA9IHNjb3JlOwp9CgpmdW5jdGlvbiBhcHBseVN0YW5kYXJkQXJyYXkoKSB7CiAgY29uc3Qgb3JkZXIgPSBbJ3N0cmVuZ3RoJywnZGV4dGVyaXR5JywnY29uc3RpdHV0aW9uJywnaW50ZWxsaWdlbmNlJywnd2lzZG9tJywnY2hhcmlzbWEnXTsKICBbMTUsMTQsMTMsMTIsMTAsOF0uZm9yRWFjaChmdW5jdGlvbih2YWwsIGkpIHsKICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLScgKyBvcmRlcltpXSk7CiAgICBpZiAoZWwpIHsgZWwudmFsdWUgPSB2YWw7IHVwZGF0ZU1vZChvcmRlcltpXSk7IH0KICB9KTsKfQoKZnVuY3Rpb24gc2hvd1JhY2lhbEJvbnVzZXMoKSB7CiAgY29uc3QgYm9udXNlcyA9IFJBQ0lBTF9CT05VU0VTW2J1aWxkLnJhY2VdIHx8IHt9OwogIGNvbnN0IG5vdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFjaWFsLWJvbnVzLW5vdGUnKTsKICBpZiAoIW5vdGUpIHJldHVybjsKICBjb25zdCBwYXJ0cyA9IE9iamVjdC5lbnRyaWVzKGJvbnVzZXMpLm1hcChmdW5jdGlvbihlKXsgcmV0dXJuICcrJyArIGVbMV0gKyAnICcgKyBlWzBdLnRvVXBwZXJDYXNlKCk7IH0pOwogIG5vdGUudGV4dENvbnRlbnQgPSBwYXJ0cy5sZW5ndGggPyAoYnVpbGQucmFjZSArICcgcmFjaWFsIGJvbnVzZXMgKGFwcGxpZWQgb24gc2F2ZSk6ICcgKyBwYXJ0cy5qb2luKCcsICcpKSA6ICcnOwp9CgpmdW5jdGlvbiBnZXRTdGF0UmVjKCkgewogIGNvbnN0IG1zZyA9ICdSZWNvbW1lbmQgZXhhY3RseSBob3cgdG8gYXNzaWduIHRoZSBzdGFuZGFyZCBhcnJheSAoMTUsMTQsMTMsMTIsMTAsOCkgdG8gU1RSLCBERVgsIENPTiwgSU5ULCBXSVMsIENIQSBmb3IgYSAnICsgYnVpbGQucmFjZSArICcgJyArIGJ1aWxkLmNoYXJfY2xhc3MgKyAnLiBMaXN0IGVhY2ggYXNzaWdubWVudCBleHBsaWNpdGx5Lic7CiAgYXNrQUlNc2coNCwgJ2FiaWxpdGllcycsIG1zZywgZmFsc2UpOwp9CgpmdW5jdGlvbiBnZXRQZXJzb25hbGl0eSgpIHsKICBjb25zdCBtc2cgPSAnR2VuZXJhdGUgYSBQZXJzb25hbGl0eSBUcmFpdCwgSWRlYWwsIEJvbmQsIGFuZCBGbGF3IGZvciBhICcgKyBidWlsZC5yYWNlICsgJyAnICsgYnVpbGQuY2hhcl9jbGFzcyArICcgd2l0aCBhICcgKyBidWlsZC5iYWNrZ3JvdW5kICsgJyBiYWNrZ3JvdW5kLiBMYWJlbCBlYWNoIGNsZWFybHk6IFRSQUlUOiwgSURFQUw6LCBCT05EOiwgRkxBVzonOwogIGFza0FJTXNnKDUsICdwZXJzb25hbGl0eScsIG1zZywgZmFsc2UpOwp9CgovLyDilIDilIAgQlVJTEQgU1lOQyAmIFNVTU1BUlkg4pSA4pSACmZ1bmN0aW9uIHN5bmNCdWlsZCgpIHsKICBjb25zdCBuYW1lRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGQtbmFtZScpOwogIGlmIChuYW1lRWwpIGJ1aWxkLm5hbWUgPSBuYW1lRWwudmFsdWU7CiAgY29uc3QgbHZsRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGQtbGV2ZWwnKTsKICBpZiAobHZsRWwpIGJ1aWxkLmxldmVsID0gbHZsRWwudmFsdWU7CiAgY29uc3QgYWxuRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGQtYWxpZ25tZW50Jyk7CiAgaWYgKGFsbkVsKSBidWlsZC5hbGlnbm1lbnQgPSBhbG5FbC52YWx1ZTsKICBbJ3N0cmVuZ3RoJywnZGV4dGVyaXR5JywnY29uc3RpdHV0aW9uJywnaW50ZWxsaWdlbmNlJywnd2lzZG9tJywnY2hhcmlzbWEnXS5mb3JFYWNoKGZ1bmN0aW9uKHMpIHsKICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLScgKyBzKTsKICAgIGlmIChlbCkgYnVpbGRbc10gPSBwYXJzZUludChlbC52YWx1ZSkgfHwgMTA7CiAgfSk7Cn0KCmZ1bmN0aW9uIHJlbmRlckJ1aWxkU3VtbWFyeSgpIHsKICBzeW5jQnVpbGQoKTsKICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWlsZC1zdW1tYXJ5Jyk7CiAgaWYgKCFlbCkgcmV0dXJuOwogIGNvbnN0IHN0YXRzID0gWydzdHJlbmd0aCcsJ2RleHRlcml0eScsJ2NvbnN0aXR1dGlvbicsJ2ludGVsbGlnZW5jZScsJ3dpc2RvbScsJ2NoYXJpc21hJ107CiAgY29uc3QgYWJiciAgPSBbJ1NUUicsJ0RFWCcsJ0NPTicsJ0lOVCcsJ1dJUycsJ0NIQSddOwogIGNvbnN0IHN0YXRSb3cgPSBzdGF0cy5tYXAoZnVuY3Rpb24ocywgaSkgewogICAgY29uc3QgdmFsID0gcGFyc2VJbnQoYnVpbGRbc10gfHwgMTApOwogICAgY29uc3QgbW9kID0gTWF0aC5mbG9vcigodmFsIC0gMTApIC8gMik7CiAgICByZXR1cm4gJzxzcGFuIHN0eWxlPSJtYXJnaW4tcmlnaHQ6MTBweCI+PHN0cm9uZyBzdHlsZT0iY29sb3I6dmFyKC0tZ29sZCkiPicgKyBhYmJyW2ldICsgJzwvc3Ryb25nPiAnICsgdmFsICsgJyA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tdGV4dC1kaW0pIj4oJyArIChtb2QgPj0gMCA/ICcrJyA6ICcnKSArIG1vZCArICcpPC9zcGFuPjwvc3Bhbj4nOwogIH0pLmpvaW4oJycpOwogIGVsLmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjZweCI+PHN0cm9uZyBzdHlsZT0iY29sb3I6dmFyKC0tZ29sZC1saWdodCk7Zm9udC1zaXplOjE2cHgiPicgKyAoYnVpbGQubmFtZSB8fCAnVW5uYW1lZCcpICsgJzwvc3Ryb25nPjwvZGl2PicgKwogICAgJzxkaXYgc3R5bGU9ImNvbG9yOnZhcigtLXRleHQtZGltKTttYXJnaW4tYm90dG9tOjhweCI+JyArIChidWlsZC5yYWNlfHwn4oCUJykgKyAnICcgKyAoYnVpbGQuY2hhcl9jbGFzc3x8J+KAlCcpICsgJyDCtyBMZXZlbCAnICsgYnVpbGQubGV2ZWwgKyAnIMK3ICcgKyAoYnVpbGQuYmFja2dyb3VuZHx8J+KAlCcpICsgJyDCtyAnICsgKGJ1aWxkLmFsaWdubWVudHx8J+KAlCcpICsgJzwvZGl2PicgKwogICAgJzxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxM3B4Ij4nICsgc3RhdFJvdyArICc8L2Rpdj4nOwogIGNvbnN0IGZpbmFsTXNnID0gJ1lvdXIgJyArIChidWlsZC5yYWNlfHwnJykgKyAnICcgKyAoYnVpbGQuY2hhcl9jbGFzc3x8JycpICsgJyBuYW1lZCAnICsgKGJ1aWxkLm5hbWV8fCd5b3VyIGNoYXJhY3RlcicpICsgJyBpcyByZWFkeSB0byBmaW5hbGl6ZS4gQXNrIG1lIGFib3V0IHN0YXJ0aW5nIGVxdWlwbWVudCwgc3BlbGxzLCBvciB3aGF0IHRvIGV4cGVjdCBpbiB5b3VyIGZpcnN0IHNlc3Npb24hJzsKICBjb25zdCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC02Jyk7CiAgaWYgKGJveCAmJiBib3guY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7CiAgICBhZGRNc2coNiwgZmluYWxNc2csICdkbScpOwogICAgc3BlYWsoZmluYWxNc2cpOwogIH0KfQoKLy8g4pSA4pSAIFRFTVBMQVRFIFBSRUxPQUQg4pSA4pSACmZ1bmN0aW9uIGFwcGx5UHJlbG9hZCgpIHsKICBpZiAoIVBSRUxPQUQpIHJldHVybjsKICBmdW5jdGlvbiBzZXRWYWwoaWQsIHZhbCkgeyBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsgaWYgKGVsICYmIHZhbCAhPSBudWxsKSBlbC52YWx1ZSA9IHZhbDsgfQogIGZ1bmN0aW9uIHNlbGVjdENhcmQoZ3JpZElkLCBmaWVsZElkLCB2YWx1ZSkgewogICAgaWYgKCF2YWx1ZSkgcmV0dXJuOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnIycgKyBncmlkSWQgKyAnIC5jaG9pY2UtY2FyZCcpLmZvckVhY2goZnVuY3Rpb24oYyl7IGMuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTsgfSk7CiAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBncmlkSWQgKyAnIFtkYXRhLW5hbWU9IicgKyB2YWx1ZSArICciXScpOwogICAgaWYgKGNhcmQpIHsgY2FyZC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpOyB9CiAgICBjb25zdCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZpZWxkSWQpOwogICAgaWYgKGZpZWxkKSBmaWVsZC52YWx1ZSA9IHZhbHVlOwogICAgYnVpbGRbZmllbGRJZC5yZXBsYWNlKCdmaWVsZC0nLCcnKV0gPSB2YWx1ZTsKICB9CiAgc2V0VmFsKCdmaWVsZC1sZXZlbCcsIFBSRUxPQUQubGV2ZWwpOwogIHNldFZhbCgnZmllbGQtYWxpZ25tZW50JywgUFJFTE9BRC5hbGlnbm1lbnQpOwogIHNlbGVjdENhcmQoJ3JhY2UtZ3JpZCcsICdmaWVsZC1yYWNlJywgUFJFTE9BRC5yYWNlKTsKICBzZWxlY3RDYXJkKCdjbGFzcy1ncmlkJywgJ2ZpZWxkLWNoYXJfY2xhc3MnLCBQUkVMT0FELmNoYXJfY2xhc3MpOwogIHNlbGVjdENhcmQoJ2JnLWdyaWQnLCAnZmllbGQtYmFja2dyb3VuZCcsIFBSRUxPQUQuYmFja2dyb3VuZCk7CiAgWydzdHJlbmd0aCcsJ2RleHRlcml0eScsJ2NvbnN0aXR1dGlvbicsJ2ludGVsbGlnZW5jZScsJ3dpc2RvbScsJ2NoYXJpc21hJ10uZm9yRWFjaChmdW5jdGlvbihzKSB7CiAgICBpZiAoUFJFTE9BRFtzXSkgeyBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZS0nK3MpOyBpZiAoZWwpIHsgZWwudmFsdWUgPSBQUkVMT0FEW3NdOyB1cGRhdGVNb2Qocyk7IH0gfQogIH0pOwogIGlmIChQUkVMT0FELnRyYWl0cykgewogICAgc2V0VmFsKCdmaWVsZC1wZXJzb25hbGl0eV90cmFpdCcsIFBSRUxPQUQudHJhaXRzLnBlcnNvbmFsaXR5KTsKICAgIHNldFZhbCgnZmllbGQtaWRlYWwnLCBQUkVMT0FELnRyYWl0cy5pZGVhbCk7CiAgICBzZXRWYWwoJ2ZpZWxkLWJvbmQnLCBQUkVMT0FELnRyYWl0cy5ib25kKTsKICAgIHNldFZhbCgnZmllbGQtZmxhdycsIFBSRUxPQUQudHJhaXRzLmZsYXcpOwogIH0KICBpZiAoUFJFTE9BRC5ub3Rlcykgc2V0VmFsKCdmaWVsZC1ub3RlcycsIFBSRUxPQUQubm90ZXMpOwoKICAvLyBTaG93IGJhbm5lcgogIGNvbnN0IGJhbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogIGJhbm5lci5zdHlsZS5jc3NUZXh0ID0gJ2JhY2tncm91bmQ6cmdiYSgyMDEsMTY4LDc2LDAuMSk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXItZ29sZCk7Ym9yZGVyLXJhZGl1czo4cHg7cGFkZGluZzoxMHB4IDE0cHg7bWFyZ2luLWJvdHRvbToxNHB4O2ZvbnQtc2l6ZToxNHB4O2NvbG9yOnZhcigtLWdvbGQpJzsKICBiYW5uZXIuaW5uZXJIVE1MID0gJ/Cfk4sgPHN0cm9uZz5UZW1wbGF0ZSBsb2FkZWQhPC9zdHJvbmc+IEFsbCBmaWVsZHMgcHJlLWZpbGxlZC4gSnVzdCBlbnRlciBhIG5hbWUgYW5kIGFkanVzdCBhbnl0aGluZy4nOwogIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhci1mb3JtJyk7CiAgaWYgKGZvcm0pIGZvcm0uaW5zZXJ0QmVmb3JlKGJhbm5lciwgZm9ybS5maXJzdENoaWxkKTsKfQoKLy8g4pSA4pSAIElOSVQg4pSA4pSACmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsKICAvLyBQcmUtc2VsZWN0IGRlZmF1bHRzCiAgZnVuY3Rpb24gcHJlU2VsZWN0KGdyaWRJZCwgdmFsdWUpIHsKICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGdyaWRJZCArICcgW2RhdGEtbmFtZT0iJyArIHZhbHVlICsgJyJdJyk7CiAgICBpZiAoY2FyZCkgY2FyZC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpOwogIH0KICBwcmVTZWxlY3QoJ3JhY2UtZ3JpZCcsICdIdW1hbicpOwogIHByZVNlbGVjdCgnY2xhc3MtZ3JpZCcsICdGaWdodGVyJyk7CiAgcHJlU2VsZWN0KCdiZy1ncmlkJywgJ1NvbGRpZXInKTsKICBbJ3N0cmVuZ3RoJywnZGV4dGVyaXR5JywnY29uc3RpdHV0aW9uJywnaW50ZWxsaWdlbmNlJywnd2lzZG9tJywnY2hhcmlzbWEnXS5mb3JFYWNoKHVwZGF0ZU1vZCk7CiAgYXBwbHlQcmVsb2FkKCk7CiAgLy8gVHJpZ2dlciBzdGVwIDAgaW50cm8gYWZ0ZXIgdm9pY2VzIGxvYWQKICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgY29uc3QgaW50cm8gPSBTVEVQX0lOVFJPU1swXTsKICAgIGFkZE1zZygwLCBpbnRybywgJ2RtJyk7CiAgICBzcGVhayhpbnRybyk7CiAgfSwgNjAwKTsKfSk7Cjwvc2NyaXB0Pgp7JSBlbmRibG9jayAlfQo="
[System.IO.File]::WriteAllBytes("$root\templates\characters\wizard.html", [System.Convert]::FromBase64String($b))

Write-Host "Done! Restart app.py" -ForegroundColor Green