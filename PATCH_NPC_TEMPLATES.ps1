# CharacterForge â€” NPC Template Fix
$root = "C:\Users\dmchris\Desktop\CharacterForge"
Write-Host "Applying NPC template fix..." -ForegroundColor Cyan

# routes\templates.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwpmcm9tIGZsYXNrIGltcG9ydCBCbHVlcHJpbnQsIHJlbmRlcl90ZW1wbGF0ZSwgcmVkaXJlY3QsIHVybF9mb3IsIHNlc3Npb24sIGZsYXNoLCByZXF1ZXN0LCBqc29uaWZ5CmZyb20gZGIgaW1wb3J0IGRiCmZyb20gbW9kZWxzIGltcG9ydCBDaGFyYWN0ZXIsIENoYXJhY3RlclRlbXBsYXRlCgp0ZW1wbGF0ZXNfYnAgPSBCbHVlcHJpbnQoInRlbXBsYXRlcyIsIF9fbmFtZV9fLCB1cmxfcHJlZml4PSIvdGVtcGxhdGVzIikKCmRlZiBfcmVxdWlyZV9sb2dpbigpOgogICAgaWYgbm90IHNlc3Npb24uZ2V0KCJ1c2VyX2lkIik6CiAgICAgICAgZmxhc2goIlBsZWFzZSBsb2cgaW4uIiwgImVycm9yIikKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHJldHVybiBUcnVlCgpAdGVtcGxhdGVzX2JwLmdldCgiLyIpCmRlZiBsaWJyYXJ5KCk6CiAgICAiIiJTaG93IHRoZSB1c2VyJ3Mgc2F2ZWQgdGVtcGxhdGVzLiIiIgogICAgaWYgbm90IF9yZXF1aXJlX2xvZ2luKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICB1aWQgPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpCiAgICByb2xlID0gc2Vzc2lvbi5nZXQoInJvbGUiKQogICAgaWYgcm9sZSBpbiAoImRtIiwgImFkbWluIik6CiAgICAgICAgcGNfdGVtcGxhdGVzID0gQ2hhcmFjdGVyVGVtcGxhdGUucXVlcnkuZmlsdGVyX2J5KG93bmVyX2lkPXVpZCwgaXNfbnBjX3RlbXBsYXRlPUZhbHNlKS5vcmRlcl9ieShDaGFyYWN0ZXJUZW1wbGF0ZS50aW1lc191c2VkLmRlc2MoKSkuYWxsKCkKICAgICAgICBucGNfdGVtcGxhdGVzID0gQ2hhcmFjdGVyVGVtcGxhdGUucXVlcnkuZmlsdGVyX2J5KG93bmVyX2lkPXVpZCwgaXNfbnBjX3RlbXBsYXRlPVRydWUpLm9yZGVyX2J5KENoYXJhY3RlclRlbXBsYXRlLnRpbWVzX3VzZWQuZGVzYygpKS5hbGwoKQogICAgZWxzZToKICAgICAgICBwY190ZW1wbGF0ZXMgPSBDaGFyYWN0ZXJUZW1wbGF0ZS5xdWVyeS5maWx0ZXJfYnkob3duZXJfaWQ9dWlkLCBpc19ucGNfdGVtcGxhdGU9RmFsc2UpLm9yZGVyX2J5KENoYXJhY3RlclRlbXBsYXRlLnRpbWVzX3VzZWQuZGVzYygpKS5hbGwoKQogICAgICAgIG5wY190ZW1wbGF0ZXMgPSBbXQogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgidGVtcGxhdGVzL2xpYnJhcnkuaHRtbCIsIHBjX3RlbXBsYXRlcz1wY190ZW1wbGF0ZXMsIG5wY190ZW1wbGF0ZXM9bnBjX3RlbXBsYXRlcykKCkB0ZW1wbGF0ZXNfYnAucG9zdCgiL3NhdmVfZnJvbV9jaGFyLzxpbnQ6Y2hhcl9pZD4iKQpkZWYgc2F2ZV9mcm9tX2NoYXIoY2hhcl9pZDogaW50KToKICAgICIiIlNhdmUgYW4gZXhpc3RpbmcgY2hhcmFjdGVyIGFzIGEgdGVtcGxhdGUuIiIiCiAgICBpZiBub3QgX3JlcXVpcmVfbG9naW4oKToKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKICAgIGNoYXIgPSBDaGFyYWN0ZXIucXVlcnkuZ2V0X29yXzQwNChjaGFyX2lkKQogICAgdWlkID0gc2Vzc2lvbi5nZXQoInVzZXJfaWQiKQogICAgcm9sZSA9IHNlc3Npb24uZ2V0KCJyb2xlIikKCiAgICAjIFBlcm1pc3Npb246IGFkbWluIGNhbiBzYXZlIGFueXRoaW5nLCBETSBjYW4gc2F2ZSBOUENzICsgdGhlaXIgb3duIGNoYXJzLCBwbGF5ZXIgY2FuIHNhdmUgdGhlaXIgb3duIGNoYXJzCiAgICBpZiByb2xlID09ICJhZG1pbiI6CiAgICAgICAgYWxsb3dlZCA9IFRydWUKICAgIGVsaWYgcm9sZSA9PSAiZG0iIGFuZCBjaGFyLmlzX25wYzoKICAgICAgICBhbGxvd2VkID0gVHJ1ZSAgIyBETXMgY2FuIHNhdmUgYW55IE5QQyBhcyBhIHRlbXBsYXRlCiAgICBlbGlmIHJvbGUgPT0gImRtIiBhbmQgY2hhci5jYW1wYWlnbl9pZDoKICAgICAgICBmcm9tIG1vZGVscyBpbXBvcnQgQ2FtcGFpZ24KICAgICAgICBjYW1wYWlnbiA9IENhbXBhaWduLnF1ZXJ5LmdldChjaGFyLmNhbXBhaWduX2lkKQogICAgICAgIGFsbG93ZWQgPSBjYW1wYWlnbiBhbmQgY2FtcGFpZ24uZG1faWQgPT0gdWlkCiAgICBlbHNlOgogICAgICAgIGFsbG93ZWQgPSBjaGFyLm93bmVyX2lkID09IHVpZAogICAgaWYgbm90IGFsbG93ZWQ6CiAgICAgICAgZmxhc2goIllvdSBjYW4gb25seSBzYXZlIHlvdXIgb3duIGNoYXJhY3RlcnMgb3IgTlBDcyBhcyB0ZW1wbGF0ZXMuIiwgImVycm9yIikKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiY2hhcmFjdGVycy5zaGVldCIsIGNpZD1jaGFyX2lkKSkKCiAgICB0ZW1wbGF0ZV9uYW1lID0gKHJlcXVlc3QuZm9ybS5nZXQoInRlbXBsYXRlX25hbWUiKSBvciAiIikuc3RyaXAoKQogICAgZGVzY3JpcHRpb24gPSAocmVxdWVzdC5mb3JtLmdldCgidGVtcGxhdGVfZGVzY3JpcHRpb24iKSBvciAiIikuc3RyaXAoKQogICAgaWYgbm90IHRlbXBsYXRlX25hbWU6CiAgICAgICAgZmxhc2goIlRlbXBsYXRlIG5hbWUgcmVxdWlyZWQuIiwgImVycm9yIikKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiY2hhcmFjdGVycy5zaGVldCIsIGNpZD1jaGFyX2lkKSkKCiAgICAjIENoZWNrIGZvciBkdXBsaWNhdGUgbmFtZQogICAgZXhpc3RpbmcgPSBDaGFyYWN0ZXJUZW1wbGF0ZS5xdWVyeS5maWx0ZXJfYnkob3duZXJfaWQ9dWlkLCBuYW1lPXRlbXBsYXRlX25hbWUpLmZpcnN0KCkKICAgIGlmIGV4aXN0aW5nOgogICAgICAgIGZsYXNoKGYiWW91IGFscmVhZHkgaGF2ZSBhIHRlbXBsYXRlIG5hbWVkICd7dGVtcGxhdGVfbmFtZX0nLiBDaG9vc2UgYSBkaWZmZXJlbnQgbmFtZS4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJjaGFyYWN0ZXJzLnNoZWV0IiwgY2lkPWNoYXJfaWQpKQoKICAgIHRtcGwgPSBjaGFyLnRvX3RlbXBsYXRlKHRlbXBsYXRlX25hbWUsIGRlc2NyaXB0aW9uKQogICAgdG1wbC5vd25lcl9pZCA9IHVpZCAgIyBBbHdheXMgdGhlIGxvZ2dlZC1pbiB1c2VyLCBldmVuIGZvciBOUENzIChvd25lcl9pZCBvbiBjaGFyIGlzIE5vbmUgZm9yIE5QQ3MpCiAgICBkYi5zZXNzaW9uLmFkZCh0bXBsKQogICAgZGIuc2Vzc2lvbi5jb21taXQoKQogICAgZmxhc2goZiJTYXZlZCBhcyB0ZW1wbGF0ZSAne3RlbXBsYXRlX25hbWV9JyEgRmluZCBpdCBpbiB5b3VyIFRlbXBsYXRlIExpYnJhcnkuIiwgIm9rIikKICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJjaGFyYWN0ZXJzLnNoZWV0IiwgY2lkPWNoYXJfaWQpKQoKQHRlbXBsYXRlc19icC5nZXQoIi9hcGkvbGlzdCIpCmRlZiBhcGlfbGlzdCgpOgogICAgIiIiUmV0dXJuIHRlbXBsYXRlcyBhcyBKU09OIGZvciB0aGUgd2l6YXJkIHRvIGxvYWQuIiIiCiAgICBpZiBub3Qgc2Vzc2lvbi5nZXQoInVzZXJfaWQiKToKICAgICAgICByZXR1cm4ganNvbmlmeShbXSksIDQwMQogICAgdWlkID0gc2Vzc2lvbi5nZXQoInVzZXJfaWQiKQogICAgaXNfbnBjID0gcmVxdWVzdC5hcmdzLmdldCgibnBjIiwgImZhbHNlIikgPT0gInRydWUiCiAgICB0bXBscyA9IENoYXJhY3RlclRlbXBsYXRlLnF1ZXJ5LmZpbHRlcl9ieShvd25lcl9pZD11aWQsIGlzX25wY190ZW1wbGF0ZT1pc19ucGMpXAogICAgICAgIC5vcmRlcl9ieShDaGFyYWN0ZXJUZW1wbGF0ZS50aW1lc191c2VkLmRlc2MoKSkuYWxsKCkKICAgIHJldHVybiBqc29uaWZ5KFt0LnRvX2RpY3QoKSBmb3IgdCBpbiB0bXBsc10pCgpAdGVtcGxhdGVzX2JwLnBvc3QoIi9hcGkvdXNlLzxpbnQ6dG1wbF9pZD4iKQpkZWYgYXBpX3VzZSh0bXBsX2lkOiBpbnQpOgogICAgIiIiTWFyayBhIHRlbXBsYXRlIGFzIHVzZWQgYW5kIHJldHVybiBpdHMgZGF0YS4iIiIKICAgIGlmIG5vdCBzZXNzaW9uLmdldCgidXNlcl9pZCIpOgogICAgICAgIHJldHVybiBqc29uaWZ5KHsiZXJyb3IiOiAiTm90IGxvZ2dlZCBpbiJ9KSwgNDAxCiAgICB0bXBsID0gQ2hhcmFjdGVyVGVtcGxhdGUucXVlcnkuZ2V0X29yXzQwNCh0bXBsX2lkKQogICAgaWYgdG1wbC5vd25lcl9pZCAhPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpIGFuZCBzZXNzaW9uLmdldCgicm9sZSIpICE9ICJhZG1pbiI6CiAgICAgICAgcmV0dXJuIGpzb25pZnkoeyJlcnJvciI6ICJGb3JiaWRkZW4ifSksIDQwMwogICAgdG1wbC50aW1lc191c2VkICs9IDEKICAgIGRiLnNlc3Npb24uY29tbWl0KCkKICAgIHJldHVybiBqc29uaWZ5KHsib2siOiBUcnVlLCAidGVtcGxhdGUiOiB0bXBsLnRvX2RpY3QoKX0pCgpAdGVtcGxhdGVzX2JwLnBvc3QoIi88aW50OnRtcGxfaWQ+L2RlbGV0ZSIpCmRlZiBkZWxldGUodG1wbF9pZDogaW50KToKICAgIHVpZCA9IHNlc3Npb24uZ2V0KCJ1c2VyX2lkIikKICAgIGlmIG5vdCB1aWQ6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICB0bXBsID0gQ2hhcmFjdGVyVGVtcGxhdGUucXVlcnkuZ2V0X29yXzQwNCh0bXBsX2lkKQogICAgaWYgdG1wbC5vd25lcl9pZCAhPSB1aWQgYW5kIHNlc3Npb24uZ2V0KCJyb2xlIikgIT0gImFkbWluIjoKICAgICAgICBmbGFzaCgiWW91IGNhbiBvbmx5IGRlbGV0ZSB5b3VyIG93biB0ZW1wbGF0ZXMuIiwgImVycm9yIikKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigidGVtcGxhdGVzLmxpYnJhcnkiKSkKICAgIGRiLnNlc3Npb24uZGVsZXRlKHRtcGwpCiAgICBkYi5zZXNzaW9uLmNvbW1pdCgpCiAgICBmbGFzaChmIlRlbXBsYXRlICd7dG1wbC5uYW1lfScgZGVsZXRlZC4iLCAib2siKQogICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoInRlbXBsYXRlcy5saWJyYXJ5IikpCg=="
[System.IO.File]::WriteAllBytes("$root\routes\templates.py", [System.Convert]::FromBase64String($b))

# templates\characters\sheet.html
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfXt7IGNoYXIubmFtZSB9fSDigJQgQ2hhcmFjdGVyRm9yZ2V7JSBlbmRibG9jayAlfQp7JSBibG9jayBjb250ZW50ICV9CjxkaXYgc3R5bGU9Im1heC13aWR0aDoxMDAwcHgiPgoKPCEtLSBIZWFkZXIgLS0+CjxkaXYgY2xhc3M9ImZsZXgganVzdGlmeS1iZXR3ZWVuIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxNnB4O2ZsZXgtd3JhcDp3cmFwO2dhcDoxMnB4Ij4KICA8ZGl2PgogICAgPGgxIHN0eWxlPSJtYXJnaW4tYm90dG9tOjJweCI+e3sgY2hhci5uYW1lIH19PC9oMT4KICAgIDxkaXYgc3R5bGU9ImNvbG9yOnZhcigtLXRleHQtZGltKTtmb250LXN0eWxlOml0YWxpYztmb250LXNpemU6MTZweCI+CiAgICAgIHt7IGRhdGEucmFjZSB9fSDCtyB7eyBkYXRhLmNoYXJfY2xhc3MgfX17JSBpZiBkYXRhLnN1YmNsYXNzICV9ICh7eyBkYXRhLnN1YmNsYXNzIH19KXslIGVuZGlmICV9IMK3IExldmVsIHt7IGRhdGEubGV2ZWwgfX0KICAgICAgwrcge3sgZGF0YS5iYWNrZ3JvdW5kIG9yICfigJQnIH19IMK3IHt7IGRhdGEuYWxpZ25tZW50IG9yICfigJQnIH19CiAgICAgIHslIGlmIGNoYXIuaXNfbnBjICV9PHNwYW4gY2xhc3M9Im5wYy1iYWRnZSIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweCI+TlBDPC9zcGFuPnslIGVuZGlmICV9CiAgICA8L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJmbGV4IiBzdHlsZT0iZ2FwOjhweDtmbGV4LXdyYXA6d3JhcDthbGlnbi1zZWxmOmZsZXgtc3RhcnQiPgogICAgeyUgaWYgY2hhci5jYW1wYWlnbl9pZCAlfQogICAgICA8YSBocmVmPSIvY2FtcGFpZ25zL3t7IGNoYXIuY2FtcGFpZ25faWQgfX0iIGNsYXNzPSJidG4gYnRuLWdob3N0IGJ0bi1zbSI+4oaQIENhbXBhaWduPC9hPgogICAgeyUgZWxpZiBjaGFyLmlzX25wYyAlfQogICAgICA8YSBocmVmPSIvZG0vIiBjbGFzcz0iYnRuIGJ0bi1naG9zdCBidG4tc20iPuKGkCBETSBEYXNoYm9hcmQ8L2E+CiAgICB7JSBlbHNlICV9CiAgICAgIDxhIGhyZWY9Ii9wbGF5ZXIvIiBjbGFzcz0iYnRuIGJ0bi1naG9zdCBidG4tc20iPuKGkCBNeSBDaGFyYWN0ZXJzPC9hPgogICAgeyUgZW5kaWYgJX0KICAgIHslIGlmIGNhbl9lZGl0ICV9CiAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tc20iIG9uY2xpY2s9Im9wZW5Nb2RhbCgnbW9kYWwtc2F2ZS10ZW1wbGF0ZScpIj7wn5K+IFNhdmUgYXMgVGVtcGxhdGU8L2J1dHRvbj4KICAgIHslIGVuZGlmICV9CiAgICB7JSBpZiBjYW5fZGVsZXRlICV9CiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iL2NoYXJhY3RlcnMve3sgY2hhci5pZCB9fS9kZWxldGUiIGNsYXNzPSJjb25maXJtLWFjdGlvbiIgZGF0YS1jb25maXJtPSJEZWxldGUge3sgY2hhci5uYW1lIH19PyBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuIj4KICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20iPkRlbGV0ZTwvYnV0dG9uPgogICAgPC9mb3JtPgogICAgeyUgZW5kaWYgJX0KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIFJvdyAxOiBQcm9maWNpZW5jeSArIEluc3BpcmF0aW9uICsgQ29yZSBDb21iYXQgLS0+CjxkaXYgc3R5bGU9ImRpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZmlsbCxtaW5tYXgoMTEwcHgsMWZyKSk7Z2FwOjEwcHg7bWFyZ2luLWJvdHRvbToxNHB4Ij4KICA8ZGl2IGNsYXNzPSJzdGF0LWJ1YmJsZSI+CiAgICA8ZGl2IGNsYXNzPSJzdGF0LWJ1YmJsZS1sYWJlbCI+UHJvZmljaWVuY3k8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InN0YXQtYnViYmxlLXZhbCI+K3t7IGRhdGEucHJvZmljaWVuY3lfYm9udXMgfX08L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJzdGF0LWJ1YmJsZSI+CiAgICA8ZGl2IGNsYXNzPSJzdGF0LWJ1YmJsZS1sYWJlbCI+QXJtb3IgQ2xhc3M8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InN0YXQtYnViYmxlLXZhbCI+e3sgZGF0YS5hcm1vcl9jbGFzcyB9fTwvZGl2PgogIDwvZGl2PgogIDxkaXYgY2xhc3M9InN0YXQtYnViYmxlIj4KICAgIDxkaXYgY2xhc3M9InN0YXQtYnViYmxlLWxhYmVsIj5Jbml0aWF0aXZlPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJzdGF0LWJ1YmJsZS12YWwiPnt7ICcrJyBpZiBkYXRhLmRleF9tb2QgPj0gMCBlbHNlICcnIH19e3sgZGF0YS5kZXhfbW9kIH19PC9kaXY+CiAgPC9kaXY+CiAgPGRpdiBjbGFzcz0ic3RhdC1idWJibGUiPgogICAgPGRpdiBjbGFzcz0ic3RhdC1idWJibGUtbGFiZWwiPlNwZWVkPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJzdGF0LWJ1YmJsZS12YWwiPnt7IGRhdGEuc3BlZWQgfX1mdDwvZGl2PgogIDwvZGl2PgogIDxkaXYgY2xhc3M9InN0YXQtYnViYmxlIj4KICAgIDxkaXYgY2xhc3M9InN0YXQtYnViYmxlLWxhYmVsIj5IaXQgRGljZTwvZGl2PgogICAgPGRpdiBjbGFzcz0ic3RhdC1idWJibGUtdmFsIiBzdHlsZT0iZm9udC1zaXplOjE2cHgiPnt7IGRhdGEuaGl0X2RpY2Ugb3IgJ+KAlCcgfX08L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJzdGF0LWJ1YmJsZSI+CiAgICA8ZGl2IGNsYXNzPSJzdGF0LWJ1YmJsZS1sYWJlbCI+WFA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InN0YXQtYnViYmxlLXZhbCIgc3R5bGU9ImZvbnQtc2l6ZToxNnB4Ij57eyBkYXRhLmV4cGVyaWVuY2VfcG9pbnRzIH19PC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSBIUCBCbG9jayAtLT4KPGRpdiBjbGFzcz0icGFuZWwiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE0cHg7cGFkZGluZzoxNHB4Ij4KICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnIgMWZyO2dhcDoxNnB4O2FsaWduLWl0ZW1zOmNlbnRlciI+CiAgICA8ZGl2PgogICAgICA8ZGl2IHN0eWxlPSJmb250LWZhbWlseTonQ2luemVsJyxzZXJpZjtmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0LWRpbSk7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2xldHRlci1zcGFjaW5nOjAuNXB4O21hcmdpbi1ib3R0b206NnB4Ij5IaXQgUG9pbnRzPC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToyOHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0LWJyaWdodCkiPnt7IGRhdGEuY3VycmVudF9ocCB9fSA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjE2cHg7Y29sb3I6dmFyKC0tdGV4dC1kaW0pIj4vIHt7IGRhdGEubWF4X2hwIH19PC9zcGFuPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJocC1iYXItdHJhY2siIHN0eWxlPSJoZWlnaHQ6OHB4O21hcmdpbi10b3A6NnB4Ij48ZGl2IGNsYXNzPSJocC1iYXItZmlsbCIgZGF0YS1jdXI9Int7IGRhdGEuY3VycmVudF9ocCB9fSIgZGF0YS1tYXg9Int7IGRhdGEubWF4X2hwIH19Ij48L2Rpdj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPgogICAgICA8ZGl2IHN0eWxlPSJmb250LWZhbWlseTonQ2luemVsJyxzZXJpZjtmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0LWRpbSk7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2xldHRlci1zcGFjaW5nOjAuNXB4O21hcmdpbi1ib3R0b206NnB4Ij5UZW1wIEhQPC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToyNHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp7eyAndmFyKC0taW5rKScgaWYgZGF0YS50ZW1wX2hwIGVsc2UgJ3ZhcigtLXRleHQtZGltKScgfX0iPnt7IGRhdGEudGVtcF9ocCBvciAn4oCUJyB9fTwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0Ij4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1mYW1pbHk6J0NpbnplbCcsc2VyaWY7Zm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dC1kaW0pO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtsZXR0ZXItc3BhY2luZzowLjVweDttYXJnaW4tYm90dG9tOjZweCI+RGVhdGggU2F2ZXM8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDo0cHg7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kIj4KICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tZ3JlZW4tbGlnaHQpIj7imJAg4piQIOKYkDwvc3Bhbj4KICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tcmVkLWxpZ2h0KTttYXJnaW4tbGVmdDo4cHgiPuKYkCDimJAg4piQPC9zcGFuPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dC1kaW0pO21hcmdpbi10b3A6MnB4Ij5TdWNjZXNzZXMgLyBGYWlsdXJlczwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSBNYWluIFNoZWV0OiAzIGNvbHVtbnMgLS0+CjxkaXYgc3R5bGU9ImRpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6MTgwcHggMWZyIDFmcjtnYXA6MTRweDthbGlnbi1pdGVtczpzdGFydCI+Cgo8IS0tIENvbCAxOiBBYmlsaXR5IFNjb3JlcyArIFNhdmVzIC0tPgo8ZGl2PgogIHslIHNldCBhYmlsaXR5X2RhdGEgPSBbCiAgICAoJ1N0cmVuZ3RoJywnc3RyX21vZCcsJ3N0cmVuZ3RoJyksCiAgICAoJ0RleHRlcml0eScsJ2RleF9tb2QnLCdkZXh0ZXJpdHknKSwKICAgICgnQ29uc3RpdHV0aW9uJywnY29uX21vZCcsJ2NvbnN0aXR1dGlvbicpLAogICAgKCdJbnRlbGxpZ2VuY2UnLCdpbnRfbW9kJywnaW50ZWxsaWdlbmNlJyksCiAgICAoJ1dpc2RvbScsJ3dpc19tb2QnLCd3aXNkb20nKSwKICAgICgnQ2hhcmlzbWEnLCdjaGFfbW9kJywnY2hhcmlzbWEnKQogIF0gJX0KCiAgeyUgZm9yIGxhYmVsLCBtb2Rfa2V5LCBzdGF0X2tleSBpbiBhYmlsaXR5X2RhdGEgJX0KICB7JSBzZXQgaXNfc2F2ZSA9IGRhdGEuc2F2aW5nX3Rocm93cy5nZXQobGFiZWwsIEZhbHNlKSAlfQogIDxkaXYgY2xhc3M9ImFiaWxpdHktYmxvY2siPgogICAgPGRpdiBjbGFzcz0iYWJpbGl0eS1ibG9jay1uYW1lIj57eyBsYWJlbFs6M10udXBwZXIoKSB9fTwvZGl2PgogICAgPGRpdiBjbGFzcz0iYWJpbGl0eS1ibG9jay1zY29yZSI+e3sgZGF0YVtzdGF0X2tleV0gfX08L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImFiaWxpdHktYmxvY2stbW9kIj57eyAnKycgaWYgZGF0YVttb2Rfa2V5XSA+PSAwIGVsc2UgJycgfX17eyBkYXRhW21vZF9rZXldIH19PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJzYXZlLXJvdyI+CiAgICAgIDxzcGFuIGNsYXNzPSJwcm9mLWRvdCB7eyAnZmlsbGVkJyBpZiBpc19zYXZlIGVsc2UgJycgfX0iPjwvc3Bhbj4KICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOnZhcigtLXRleHQtZGltKSI+U2F2ZSB7eyAnKycgaWYgZGF0YVttb2Rfa2V5XSArIChkYXRhLnByb2ZpY2llbmN5X2JvbnVzIGlmIGlzX3NhdmUgZWxzZSAwKSA+PSAwIGVsc2UgJycgfX17eyBkYXRhW21vZF9rZXldICsgKGRhdGEucHJvZmljaWVuY3lfYm9udXMgaWYgaXNfc2F2ZSBlbHNlIDApIH19PC9zcGFuPgogICAgPC9kaXY+CiAgPC9kaXY+CiAgeyUgZW5kZm9yICV9CjwvZGl2PgoKPCEtLSBDb2wgMjogU2tpbGxzIC0tPgo8ZGl2IGNsYXNzPSJwYW5lbCIgc3R5bGU9InBhZGRpbmc6MTRweCI+CiAgPGgzIHN0eWxlPSJtYXJnaW4tYm90dG9tOjEwcHgiPlNraWxsczwvaDM+CiAgeyUgc2V0IHNraWxsX21hcCA9IFsKICAgICgnQWNyb2JhdGljcycsJ2RleF9tb2QnKSwoJ0FuaW1hbCBIYW5kbGluZycsJ3dpc19tb2QnKSwoJ0FyY2FuYScsJ2ludF9tb2QnKSwKICAgICgnQXRobGV0aWNzJywnc3RyX21vZCcpLCgnRGVjZXB0aW9uJywnY2hhX21vZCcpLCgnSGlzdG9yeScsJ2ludF9tb2QnKSwKICAgICgnSW5zaWdodCcsJ3dpc19tb2QnKSwoJ0ludGltaWRhdGlvbicsJ2NoYV9tb2QnKSwoJ0ludmVzdGlnYXRpb24nLCdpbnRfbW9kJyksCiAgICAoJ01lZGljaW5lJywnd2lzX21vZCcpLCgnTmF0dXJlJywnaW50X21vZCcpLCgnUGVyY2VwdGlvbicsJ3dpc19tb2QnKSwKICAgICgnUGVyZm9ybWFuY2UnLCdjaGFfbW9kJyksKCdQZXJzdWFzaW9uJywnY2hhX21vZCcpLCgnUmVsaWdpb24nLCdpbnRfbW9kJyksCiAgICAoJ1NsZWlnaHQgb2YgSGFuZCcsJ2RleF9tb2QnKSwoJ1N0ZWFsdGgnLCdkZXhfbW9kJyksKCdTdXJ2aXZhbCcsJ3dpc19tb2QnKQogIF0gJX0KICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTNweCI+CiAgeyUgZm9yIHNraWxsLCBtb2Rfa2V5IGluIHNraWxsX21hcCAlfQogIHslIHNldCBpc19wcm9mID0gZGF0YS5za2lsbHMuZ2V0KHNraWxsLCBGYWxzZSkgJX0KICB7JSBzZXQgdG90YWwgPSBkYXRhW21vZF9rZXldICsgKGRhdGEucHJvZmljaWVuY3lfYm9udXMgaWYgaXNfcHJvZiBlbHNlIDApICV9CiAgPGRpdiBjbGFzcz0ic2tpbGwtcm93IHt7ICdza2lsbC1wcm9mJyBpZiBpc19wcm9mIGVsc2UgJycgfX0iPgogICAgPHNwYW4gY2xhc3M9InByb2YtZG90IHt7ICdmaWxsZWQnIGlmIGlzX3Byb2YgZWxzZSAnJyB9fSI+PC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InNraWxsLXJvdy1tb2QiPnt7ICcrJyBpZiB0b3RhbCA+PSAwIGVsc2UgJycgfX17eyB0b3RhbCB9fTwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJza2lsbC1yb3ctbmFtZSI+e3sgc2tpbGwgfX08L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0ic2tpbGwtcm93LWFiaWxpdHkiPih7eyBtb2Rfa2V5WzozXS51cHBlcigpIH19KTwvc3Bhbj4KICA8L2Rpdj4KICB7JSBlbmRmb3IgJX0KICA8L2Rpdj4KCiAgPCEtLSBQYXNzaXZlIFBlcmNlcHRpb24gLS0+CiAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDoxMnB4O3BhZGRpbmctdG9wOjEwcHg7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tYm9yZGVyKSI+CiAgICB7JSBzZXQgcGVyY19wcm9mID0gZGF0YS5za2lsbHMuZ2V0KCdQZXJjZXB0aW9uJywgRmFsc2UpICV9CiAgICB7JSBzZXQgcGFzc2l2ZSA9IDEwICsgZGF0YS53aXNfbW9kICsgKGRhdGEucHJvZmljaWVuY3lfYm9udXMgaWYgcGVyY19wcm9mIGVsc2UgMCkgJX0KICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxM3B4O2NvbG9yOnZhcigtLXRleHQtZGltKSI+UGFzc2l2ZSBQZXJjZXB0aW9uOiA8c3Ryb25nIHN0eWxlPSJjb2xvcjp2YXIoLS10ZXh0LWJyaWdodCkiPnt7IHBhc3NpdmUgfX08L3N0cm9uZz48L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIENvbCAzOiBGZWF0dXJlcywgRXF1aXBtZW50LCBQZXJzb25hbGl0eSAtLT4KPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6MTRweCI+CgogIHslIGlmIGRhdGEuZmVhdHVyZXMgJX0KICA8ZGl2IGNsYXNzPSJwYW5lbCIgc3R5bGU9InBhZGRpbmc6MTRweCI+CiAgICA8aDMgc3R5bGU9Im1hcmdpbi1ib3R0b206MTBweCI+RmVhdHVyZXMgJiBUcmFpdHM8L2gzPgogICAgPGRpdj4KICAgICAgeyUgZm9yIGZlYXQgaW4gZGF0YS5mZWF0dXJlcyAlfQogICAgICAgIDxzcGFuIGNsYXNzPSJmZWF0dXJlLXRhZyI+e3sgZmVhdCB9fTwvc3Bhbj4KICAgICAgeyUgZW5kZm9yICV9CiAgICA8L2Rpdj4KICA8L2Rpdj4KICB7JSBlbmRpZiAlfQoKICB7JSBpZiBkYXRhLmVxdWlwbWVudCAlfQogIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0icGFkZGluZzoxNHB4Ij4KICAgIDxoMyBzdHlsZT0ibWFyZ2luLWJvdHRvbTo4cHgiPkVxdWlwbWVudDwvaDM+CiAgICB7JSBmb3IgaXRlbSBpbiBkYXRhLmVxdWlwbWVudCAlfQogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTNweDtwYWRkaW5nOjNweCAwO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoNDIsNDYsNjgsMC41KTtjb2xvcjp2YXIoLS10ZXh0KSI+e3sgaXRlbSB9fTwvZGl2PgogICAgeyUgZW5kZm9yICV9CiAgPC9kaXY+CiAgeyUgZW5kaWYgJX0KCiAgPCEtLSBQZXJzb25hbGl0eSBibG9jayAtLT4KICB7JSBzZXQgdHJhaXRzID0gZGF0YS50cmFpdHMgJX0KICB7JSBpZiB0cmFpdHMuZ2V0KCdwZXJzb25hbGl0eScpIG9yIHRyYWl0cy5nZXQoJ2lkZWFsJykgb3IgdHJhaXRzLmdldCgnYm9uZCcpIG9yIHRyYWl0cy5nZXQoJ2ZsYXcnKSAlfQogIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0icGFkZGluZzoxNHB4Ij4KICAgIDxoMyBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMHB4Ij5QZXJzb25hbGl0eTwvaDM+CiAgICB7JSBpZiB0cmFpdHMuZ2V0KCdwZXJzb25hbGl0eScpICV9CiAgICA8ZGl2IGNsYXNzPSJ0cmFpdC1ibG9jayI+PGRpdiBjbGFzcz0idHJhaXQtbGFiZWwiPlBlcnNvbmFsaXR5IFRyYWl0PC9kaXY+PGRpdiBjbGFzcz0idHJhaXQtdGV4dCI+e3sgdHJhaXRzLnBlcnNvbmFsaXR5IH19PC9kaXY+PC9kaXY+CiAgICB7JSBlbmRpZiAlfQogICAgeyUgaWYgdHJhaXRzLmdldCgnaWRlYWwnKSAlfQogICAgPGRpdiBjbGFzcz0idHJhaXQtYmxvY2siPjxkaXYgY2xhc3M9InRyYWl0LWxhYmVsIj5JZGVhbDwvZGl2PjxkaXYgY2xhc3M9InRyYWl0LXRleHQiPnt7IHRyYWl0cy5pZGVhbCB9fTwvZGl2PjwvZGl2PgogICAgeyUgZW5kaWYgJX0KICAgIHslIGlmIHRyYWl0cy5nZXQoJ2JvbmQnKSAlfQogICAgPGRpdiBjbGFzcz0idHJhaXQtYmxvY2siPjxkaXYgY2xhc3M9InRyYWl0LWxhYmVsIj5Cb25kPC9kaXY+PGRpdiBjbGFzcz0idHJhaXQtdGV4dCI+e3sgdHJhaXRzLmJvbmQgfX08L2Rpdj48L2Rpdj4KICAgIHslIGVuZGlmICV9CiAgICB7JSBpZiB0cmFpdHMuZ2V0KCdmbGF3JykgJX0KICAgIDxkaXYgY2xhc3M9InRyYWl0LWJsb2NrIj48ZGl2IGNsYXNzPSJ0cmFpdC1sYWJlbCI+RmxhdzwvZGl2PjxkaXYgY2xhc3M9InRyYWl0LXRleHQiPnt7IHRyYWl0cy5mbGF3IH19PC9kaXY+PC9kaXY+CiAgICB7JSBlbmRpZiAlfQogIDwvZGl2PgogIHslIGVuZGlmICV9CgogIHslIGlmIGRhdGEubm90ZXMgJX0KICA8ZGl2IGNsYXNzPSJwYW5lbCIgc3R5bGU9InBhZGRpbmc6MTRweCI+CiAgICA8aDMgc3R5bGU9Im1hcmdpbi1ib3R0b206OHB4Ij5Ob3RlczwvaDM+CiAgICA8cCBzdHlsZT0iZm9udC1zaXplOjE0cHg7Zm9udC1zdHlsZTppdGFsaWM7Y29sb3I6dmFyKC0tdGV4dCk7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPnt7IGRhdGEubm90ZXMgfX08L3A+CiAgPC9kaXY+CiAgeyUgZW5kaWYgJX0KCjwvZGl2Pgo8L2Rpdj48IS0tIGVuZCAzLWNvbCBncmlkIC0tPgoKCjwhLS0gU2F2ZSBhcyBUZW1wbGF0ZSBNb2RhbCAtLT4KPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSIgaWQ9Im1vZGFsLXNhdmUtdGVtcGxhdGUiPgogIDxkaXYgY2xhc3M9Im1vZGFsIiBzdHlsZT0ibWF4LXdpZHRoOjQ0MHB4Ij4KICAgIDxidXR0b24gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJjbG9zZU1vZGFsKCdtb2RhbC1zYXZlLXRlbXBsYXRlJykiPuKclTwvYnV0dG9uPgogICAgPGgyPvCfkr4gU2F2ZSBhcyBUZW1wbGF0ZTwvaDI+CiAgICA8cCBjbGFzcz0idGV4dC1kaW0iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE2cHgiPlNhdmUgdGhpcyBidWlsZCBzbyB5b3UgY2FuIGxvYWQgaXQgaW5zdGFudGx5IG5leHQgdGltZS4gT25seSB0aGUgYnVpbGQgaXMgc2F2ZWQg4oCUIG5vdCB0aGUgY2hhcmFjdGVyIG5hbWUgb3IgY2FtcGFpZ24uPC9wPgogICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii90ZW1wbGF0ZXMvc2F2ZV9mcm9tX2NoYXIve3sgY2hhci5pZCB9fSI+CiAgICAgIDxsYWJlbD5UZW1wbGF0ZSBOYW1lIDxzcGFuIHN0eWxlPSJjb2xvcjp2YXIoLS1yZWQtbGlnaHQpIj4qPC9zcGFuPjwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ0ZW1wbGF0ZV9uYW1lIiBwbGFjZWhvbGRlcj0nZS5nLiAiRGV4IEZpZ2h0ZXIgQnVpbGQiIG9yICJHb2JsaW4gU2hhbWFuIENSMiInIHJlcXVpcmVkPgogICAgICA8bGFiZWw+RGVzY3JpcHRpb24gPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLXRleHQtZGltKTtmb250LXNpemU6MTJweCI+KG9wdGlvbmFsKTwvc3Bhbj48L2xhYmVsPgogICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0idGVtcGxhdGVfZGVzY3JpcHRpb24iIHBsYWNlaG9sZGVyPSJXaGF0IG1ha2VzIHRoaXMgYnVpbGQgc3BlY2lhbD8iPgogICAgICA8ZGl2IGNsYXNzPSJmbGV4IiBzdHlsZT0iZ2FwOjhweDttYXJnaW4tdG9wOjE2cHgiPgogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0iZmxleDoxIj5TYXZlIFRlbXBsYXRlPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWdob3N0IiBvbmNsaWNrPSJjbG9zZU1vZGFsKCdtb2RhbC1zYXZlLXRlbXBsYXRlJykiPkNhbmNlbDwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIDwvZm9ybT4KICA8L2Rpdj4KPC9kaXY+Cgo8L2Rpdj4KCjxzdHlsZT4KLnN0YXQtYnViYmxlIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1iZzIpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1nb2xkKTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgcGFkZGluZzogMTBweCA4cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5zdGF0LWJ1YmJsZS1sYWJlbCB7IGZvbnQtc2l6ZTogMTBweDsgZm9udC1mYW1pbHk6ICdDaW56ZWwnLCBzZXJpZjsgY29sb3I6IHZhcigtLXRleHQtZGltKTsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OyBtYXJnaW4tYm90dG9tOiA0cHg7IH0KLnN0YXQtYnViYmxlLXZhbCB7IGZvbnQtc2l6ZTogMjJweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQtYnJpZ2h0KTsgZm9udC1mYW1pbHk6ICdDaW56ZWwnLCBzZXJpZjsgfQoKLmFiaWxpdHktYmxvY2sgewogIGJhY2tncm91bmQ6IHZhcigtLWJnMik7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWdvbGQpOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwYWRkaW5nOiA4cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbi1ib3R0b206IDhweDsKfQouYWJpbGl0eS1ibG9jay1uYW1lIHsgZm9udC1zaXplOiAxMHB4OyBmb250LWZhbWlseTogJ0NpbnplbCcsIHNlcmlmOyBjb2xvcjogdmFyKC0tdGV4dC1kaW0pOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBsZXR0ZXItc3BhY2luZzogMC41cHg7IH0KLmFiaWxpdHktYmxvY2stc2NvcmUgeyBmb250LXNpemU6IDI4cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0LWJyaWdodCk7IGxpbmUtaGVpZ2h0OiAxLjE7IH0KLmFiaWxpdHktYmxvY2stbW9kIHsgZm9udC1zaXplOiAxOHB4OyBjb2xvcjogdmFyKC0tZ29sZCk7IGZvbnQtd2VpZ2h0OiA2MDA7IGJhY2tncm91bmQ6IHZhcigtLWJnMyk7IGJvcmRlci1yYWRpdXM6IDUwJTsgd2lkdGg6IDM2cHg7IGhlaWdodDogMzZweDsgbGluZS1oZWlnaHQ6IDM2cHg7IG1hcmdpbjogNHB4IGF1dG87IH0KLnNhdmUtcm93IHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGdhcDogNHB4OyBtYXJnaW4tdG9wOiA0cHg7IH0KCi5wcm9mLWRvdCB7IHdpZHRoOiAxMHB4OyBoZWlnaHQ6IDEwcHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWdvbGQpOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZsZXgtc2hyaW5rOiAwOyB9Ci5wcm9mLWRvdC5maWxsZWQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1nb2xkKTsgYm9yZGVyLWNvbG9yOiB2YXIoLS1nb2xkKTsgfQoKLnNraWxsLXJvdyB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4OyBwYWRkaW5nOiAzcHggMDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoNDIsNDYsNjgsMC40KTsgfQouc2tpbGwtcm93LnNraWxsLXByb2YgLnNraWxsLXJvdy1uYW1lIHsgY29sb3I6IHZhcigtLXRleHQtYnJpZ2h0KTsgfQouc2tpbGwtcm93LW1vZCB7IHdpZHRoOiAyOHB4OyB0ZXh0LWFsaWduOiByaWdodDsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLXRleHQtYnJpZ2h0KTsgZm9udC1zaXplOiAxMnB4OyB9Ci5za2lsbC1yb3ctbmFtZSB7IGZsZXg6IDE7IGNvbG9yOiB2YXIoLS10ZXh0KTsgfQouc2tpbGwtcm93LWFiaWxpdHkgeyBmb250LXNpemU6IDExcHg7IGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7IH0KCi50cmFpdC1ibG9jayB7IG1hcmdpbi1ib3R0b206IDEwcHg7IH0KLnRyYWl0LWxhYmVsIHsgZm9udC1mYW1pbHk6ICdDaW56ZWwnLCBzZXJpZjsgZm9udC1zaXplOiAxMHB4OyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBsZXR0ZXItc3BhY2luZzogMC41cHg7IGNvbG9yOiB2YXIoLS1nb2xkKTsgbWFyZ2luLWJvdHRvbTogM3B4OyB9Ci50cmFpdC10ZXh0IHsgZm9udC1zaXplOiAxM3B4OyBjb2xvcjogdmFyKC0tdGV4dCk7IGZvbnQtc3R5bGU6IGl0YWxpYzsgfQoKQG1lZGlhKG1heC13aWR0aDo3MDBweCkgewogIGRpdltzdHlsZSo9ImdyaWQtdGVtcGxhdGUtY29sdW1uczoxODBweCJdIHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgIWltcG9ydGFudDsgfQp9Cjwvc3R5bGU+CnslIGVuZGJsb2NrICV9Cg=="
[System.IO.File]::WriteAllBytes("$root\templates\characters\sheet.html", [System.Convert]::FromBase64String($b))

Write-Host "Done! Restart app.py" -ForegroundColor Green