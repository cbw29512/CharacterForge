# CharacterForge v2 â€” Full Installer
# Run from: C:\Users\dmchris\Desktop\CharacterForge

$root = "C:\Users\dmchris\Desktop\CharacterForge"
Write-Host "Installing CharacterForge v2..." -ForegroundColor Cyan

# --- .env
$b = "REFUQUJBU0VfVVJMPXNxbGl0ZTovLy9kYXRhL2NoYXJhY3RlcmZvcmdlLnNxbGl0ZTMKU0VDUkVUX0tFWT1jaGFyYWN0ZXJmb3JnZS1zZWNyZXQtY2hhbmdlLWluLXByb2R1Y3Rpb24KT0xMQU1BX1VSTD1odHRwOi8vbG9jYWxob3N0OjQyNDIKT0xMQU1BX01PREVMPW1pc3RyYWwKRkxBU0tfUE9SVD01MDUwCg=="
[System.IO.File]::WriteAllBytes("$root\.env", [System.Convert]::FromBase64String($b))

# --- app.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgb3MKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlZGlyZWN0LCB1cmxfZm9yLCBzZXNzaW9uCmZyb20gZmxhc2tfc2Vzc2lvbiBpbXBvcnQgU2Vzc2lvbgpmcm9tIGNvbmZpZyBpbXBvcnQgQ29uZmlnCmZyb20gZGIgaW1wb3J0IGRiCgpkZWYgY3JlYXRlX2FwcCgpIC0+IEZsYXNrOgogICAgYXBwID0gRmxhc2soX19uYW1lX18pCiAgICBhcHAuY29uZmlnLmZyb21fb2JqZWN0KENvbmZpZykKCiAgICBvcy5tYWtlZGlycyhhcHAuY29uZmlnWyJTRVNTSU9OX0ZJTEVfRElSIl0sIGV4aXN0X29rPVRydWUpCiAgICBvcy5tYWtlZGlycyhhcHAuY29uZmlnLmdldCgiVVBMT0FEX0ZPTERFUiIsICJ1cGxvYWRzIiksIGV4aXN0X29rPVRydWUpCiAgICBvcy5tYWtlZGlycygiZGF0YSIsIGV4aXN0X29rPVRydWUpCgogICAgU2Vzc2lvbihhcHApCiAgICBkYi5pbml0X2FwcChhcHApCgogICAgZnJvbSByb3V0ZXMuYXV0aCBpbXBvcnQgYXV0aF9icAogICAgZnJvbSByb3V0ZXMuYWRtaW4gaW1wb3J0IGFkbWluX2JwCiAgICBmcm9tIHJvdXRlcy5kbSBpbXBvcnQgZG1fYnAKICAgIGZyb20gcm91dGVzLnBsYXllciBpbXBvcnQgcGxheWVyX2JwCiAgICBmcm9tIHJvdXRlcy5jYW1wYWlnbnMgaW1wb3J0IGNhbXBhaWduc19icAogICAgZnJvbSByb3V0ZXMuY2hhcmFjdGVycyBpbXBvcnQgY2hhcmFjdGVyc19icAoKICAgIGFwcC5yZWdpc3Rlcl9ibHVlcHJpbnQoYXV0aF9icCkKICAgIGFwcC5yZWdpc3Rlcl9ibHVlcHJpbnQoYWRtaW5fYnApCiAgICBhcHAucmVnaXN0ZXJfYmx1ZXByaW50KGRtX2JwKQogICAgYXBwLnJlZ2lzdGVyX2JsdWVwcmludChwbGF5ZXJfYnApCiAgICBhcHAucmVnaXN0ZXJfYmx1ZXByaW50KGNhbXBhaWduc19icCkKICAgIGFwcC5yZWdpc3Rlcl9ibHVlcHJpbnQoY2hhcmFjdGVyc19icCkKCiAgICBAYXBwLmdldCgiLyIpCiAgICBkZWYgaG9tZSgpOgogICAgICAgIGlmIG5vdCBzZXNzaW9uLmdldCgidXNlcl9pZCIpOgogICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKICAgICAgICByb2xlID0gc2Vzc2lvbi5nZXQoInJvbGUiKQogICAgICAgIGlmIHJvbGUgPT0gImFkbWluIjoKICAgICAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImFkbWluLmRhc2hib2FyZCIpKQogICAgICAgIGVsaWYgcm9sZSA9PSAiZG0iOgogICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiZG0uZGFzaGJvYXJkIikpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoInBsYXllci5kYXNoYm9hcmQiKSkKCiAgICByZXR1cm4gYXBwCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gY3JlYXRlX2FwcCgpCiAgICBwb3J0ID0gaW50KG9zLmdldGVudigiRkxBU0tfUE9SVCIsICI1MDUwIikpCiAgICB3aXRoIGFwcC5hcHBfY29udGV4dCgpOgogICAgICAgIGRiLmNyZWF0ZV9hbGwoKQogICAgYXBwLnJ1bihob3N0PSIxMjcuMC4wLjEiLCBwb3J0PXBvcnQsIGRlYnVnPVRydWUpCg=="
[System.IO.File]::WriteAllBytes("$root\app.py", [System.Convert]::FromBase64String($b))

# --- config.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgb3MKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gZG90ZW52IGltcG9ydCBsb2FkX2RvdGVudgoKQkFTRV9ESVIgPSBQYXRoKF9fZmlsZV9fKS5yZXNvbHZlKCkucGFyZW50CmxvYWRfZG90ZW52KEJBU0VfRElSIC8gIi5lbnYiKQoKY2xhc3MgQ29uZmlnOgogICAgU0VDUkVUX0tFWSA9IG9zLmdldGVudigiU0VDUkVUX0tFWSIsICJkZXYtc2VjcmV0LWNoYW5nZS1tZS1pbi1wcm9kdWN0aW9uIikKICAgIFNRTEFMQ0hFTVlfREFUQUJBU0VfVVJJID0gb3MuZ2V0ZW52KAogICAgICAgICJEQVRBQkFTRV9VUkwiLAogICAgICAgIGYic3FsaXRlOi8vL3tCQVNFX0RJUiAvICdkYXRhJyAvICdjaGFyYWN0ZXJmb3JnZS5zcWxpdGUzJ30iCiAgICApCiAgICBTUUxBTENIRU1ZX1RSQUNLX01PRElGSUNBVElPTlMgPSBGYWxzZQogICAgU0VTU0lPTl9UWVBFID0gImZpbGVzeXN0ZW0iCiAgICBTRVNTSU9OX0ZJTEVfRElSID0gc3RyKEJBU0VfRElSIC8gImRhdGEiIC8gInNlc3Npb25zIikKICAgIFNFU1NJT05fUEVSTUFORU5UID0gRmFsc2UKICAgIFVQTE9BRF9GT0xERVIgPSBzdHIoQkFTRV9ESVIgLyAidXBsb2FkcyIpCiAgICBNQVhfQ09OVEVOVF9MRU5HVEggPSAyMCAqIDEwMjQgKiAxMDI0CiAgICBPTExBTUFfVVJMID0gb3MuZ2V0ZW52KCJPTExBTUFfVVJMIiwgImh0dHA6Ly9sb2NhbGhvc3Q6NDI0MiIpCiAgICBPTExBTUFfTU9ERUwgPSBvcy5nZXRlbnYoIk9MTEFNQV9NT0RFTCIsICJtaXN0cmFsIikK"
[System.IO.File]::WriteAllBytes("$root\config.py", [System.Convert]::FromBase64String($b))

# --- db.py
$b = "ZnJvbSBmbGFza19zcWxhbGNoZW15IGltcG9ydCBTUUxBbGNoZW15CmRiID0gU1FMQWxjaGVteSgpCg=="
[System.IO.File]::WriteAllBytes("$root\db.py", [System.Convert]::FromBase64String($b))

# --- models\__init__.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIGRiIGltcG9ydCBkYgoKCmNsYXNzIFVzZXIoZGIuTW9kZWwpOgogICAgX190YWJsZW5hbWVfXyA9ICJ1c2VycyIKICAgIGlkID0gZGIuQ29sdW1uKGRiLkludGVnZXIsIHByaW1hcnlfa2V5PVRydWUpCiAgICB1c2VybmFtZSA9IGRiLkNvbHVtbihkYi5TdHJpbmcoODApLCB1bmlxdWU9VHJ1ZSwgbnVsbGFibGU9RmFsc2UsIGluZGV4PVRydWUpCiAgICBwYXNzd29yZF9oYXNoID0gZGIuQ29sdW1uKGRiLlN0cmluZygyNTUpLCBudWxsYWJsZT1GYWxzZSkKICAgIHJvbGUgPSBkYi5Db2x1bW4oZGIuU3RyaW5nKDIwKSwgbnVsbGFibGU9RmFsc2UsIGRlZmF1bHQ9InBsYXllciIpICAjIGFkbWluIHwgZG0gfCBwbGF5ZXIKICAgIGRpc3BsYXlfbmFtZSA9IGRiLkNvbHVtbihkYi5TdHJpbmcoMTIwKSwgbnVsbGFibGU9VHJ1ZSkKICAgIGNyZWF0ZWRfYXQgPSBkYi5Db2x1bW4oZGIuRGF0ZVRpbWUsIGRlZmF1bHQ9ZGF0ZXRpbWUudXRjbm93LCBudWxsYWJsZT1GYWxzZSkKCiAgICBjaGFyYWN0ZXJzID0gZGIucmVsYXRpb25zaGlwKCJDaGFyYWN0ZXIiLCBiYWNrcmVmPSJvd25lciIsIGxhenk9VHJ1ZSwgZm9yZWlnbl9rZXlzPSJDaGFyYWN0ZXIub3duZXJfaWQiKQogICAgbWVtYmVyc2hpcHMgPSBkYi5yZWxhdGlvbnNoaXAoIkNhbXBhaWduTWVtYmVyc2hpcCIsIGJhY2tyZWY9InVzZXIiLCBsYXp5PVRydWUpCgogICAgZGVmIHRvX2RpY3Qoc2VsZik6CiAgICAgICAgcmV0dXJuIHsiaWQiOiBzZWxmLmlkLCAidXNlcm5hbWUiOiBzZWxmLnVzZXJuYW1lLCAicm9sZSI6IHNlbGYucm9sZSwgImRpc3BsYXlfbmFtZSI6IHNlbGYuZGlzcGxheV9uYW1lIG9yIHNlbGYudXNlcm5hbWV9CgoKY2xhc3MgQ2FtcGFpZ24oZGIuTW9kZWwpOgogICAgX190YWJsZW5hbWVfXyA9ICJjYW1wYWlnbnMiCiAgICBpZCA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBwcmltYXJ5X2tleT1UcnVlKQogICAgbmFtZSA9IGRiLkNvbHVtbihkYi5TdHJpbmcoMjAwKSwgbnVsbGFibGU9RmFsc2UpCiAgICBkZXNjcmlwdGlvbiA9IGRiLkNvbHVtbihkYi5UZXh0LCBudWxsYWJsZT1UcnVlKQogICAgZG1faWQgPSBkYi5Db2x1bW4oZGIuSW50ZWdlciwgZGIuRm9yZWlnbktleSgidXNlcnMuaWQiKSwgbnVsbGFibGU9RmFsc2UpCiAgICBpc19hY3RpdmUgPSBkYi5Db2x1bW4oZGIuQm9vbGVhbiwgZGVmYXVsdD1UcnVlLCBudWxsYWJsZT1GYWxzZSkKICAgIGNyZWF0ZWRfYXQgPSBkYi5Db2x1bW4oZGIuRGF0ZVRpbWUsIGRlZmF1bHQ9ZGF0ZXRpbWUudXRjbm93LCBudWxsYWJsZT1GYWxzZSkKCiAgICBkbSA9IGRiLnJlbGF0aW9uc2hpcCgiVXNlciIsIGZvcmVpZ25fa2V5cz1bZG1faWRdKQogICAgbWVtYmVyc2hpcHMgPSBkYi5yZWxhdGlvbnNoaXAoIkNhbXBhaWduTWVtYmVyc2hpcCIsIGJhY2tyZWY9ImNhbXBhaWduIiwgbGF6eT1UcnVlLCBjYXNjYWRlPSJhbGwsIGRlbGV0ZS1vcnBoYW4iKQogICAgY2hhcmFjdGVycyA9IGRiLnJlbGF0aW9uc2hpcCgiQ2hhcmFjdGVyIiwgYmFja3JlZj0iY2FtcGFpZ24iLCBsYXp5PVRydWUsIGNhc2NhZGU9ImFsbCwgZGVsZXRlLW9ycGhhbiIpCgogICAgZGVmIHRvX2RpY3Qoc2VsZik6CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgImlkIjogc2VsZi5pZCwKICAgICAgICAgICAgIm5hbWUiOiBzZWxmLm5hbWUsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6IHNlbGYuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICJkbV9pZCI6IHNlbGYuZG1faWQsCiAgICAgICAgICAgICJkbV9uYW1lIjogc2VsZi5kbS5kaXNwbGF5X25hbWUgb3Igc2VsZi5kbS51c2VybmFtZSBpZiBzZWxmLmRtIGVsc2UgIlVua25vd24iLAogICAgICAgICAgICAicGxheWVyX2NvdW50IjogbGVuKFttIGZvciBtIGluIHNlbGYubWVtYmVyc2hpcHMgaWYgbS5yb2xlID09ICJwbGF5ZXIiIGFuZCBtLmFwcHJvdmVkXSksCiAgICAgICAgICAgICJjaGFyYWN0ZXJfY291bnQiOiBsZW4oW2MgZm9yIGMgaW4gc2VsZi5jaGFyYWN0ZXJzIGlmIG5vdCBjLmlzX25wY10pLAogICAgICAgICAgICAiY3JlYXRlZF9hdCI6IHNlbGYuY3JlYXRlZF9hdC5pc29mb3JtYXQoKSwKICAgICAgICB9CgoKY2xhc3MgQ2FtcGFpZ25NZW1iZXJzaGlwKGRiLk1vZGVsKToKICAgIF9fdGFibGVuYW1lX18gPSAiY2FtcGFpZ25fbWVtYmVyc2hpcHMiCiAgICBpZCA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBwcmltYXJ5X2tleT1UcnVlKQogICAgY2FtcGFpZ25faWQgPSBkYi5Db2x1bW4oZGIuSW50ZWdlciwgZGIuRm9yZWlnbktleSgiY2FtcGFpZ25zLmlkIiksIG51bGxhYmxlPUZhbHNlKQogICAgdXNlcl9pZCA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkYi5Gb3JlaWduS2V5KCJ1c2Vycy5pZCIpLCBudWxsYWJsZT1GYWxzZSkKICAgIHJvbGUgPSBkYi5Db2x1bW4oZGIuU3RyaW5nKDIwKSwgbnVsbGFibGU9RmFsc2UsIGRlZmF1bHQ9InBsYXllciIpICAjIGRtIHwgcGxheWVyCiAgICBhcHByb3ZlZCA9IGRiLkNvbHVtbihkYi5Cb29sZWFuLCBkZWZhdWx0PUZhbHNlLCBudWxsYWJsZT1GYWxzZSkKICAgIGpvaW5lZF9hdCA9IGRiLkNvbHVtbihkYi5EYXRlVGltZSwgZGVmYXVsdD1kYXRldGltZS51dGNub3csIG51bGxhYmxlPUZhbHNlKQoKICAgIF9fdGFibGVfYXJnc19fID0gKGRiLlVuaXF1ZUNvbnN0cmFpbnQoImNhbXBhaWduX2lkIiwgInVzZXJfaWQiKSwpCgoKY2xhc3MgQ2hhcmFjdGVyKGRiLk1vZGVsKToKICAgIF9fdGFibGVuYW1lX18gPSAiY2hhcmFjdGVycyIKICAgIGlkID0gZGIuQ29sdW1uKGRiLkludGVnZXIsIHByaW1hcnlfa2V5PVRydWUpCiAgICBvd25lcl9pZCA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkYi5Gb3JlaWduS2V5KCJ1c2Vycy5pZCIpLCBudWxsYWJsZT1UcnVlKQogICAgY2FtcGFpZ25faWQgPSBkYi5Db2x1bW4oZGIuSW50ZWdlciwgZGIuRm9yZWlnbktleSgiY2FtcGFpZ25zLmlkIiksIG51bGxhYmxlPVRydWUpCiAgICBpc19ucGMgPSBkYi5Db2x1bW4oZGIuQm9vbGVhbiwgZGVmYXVsdD1GYWxzZSwgbnVsbGFibGU9RmFsc2UpCgogICAgIyBDb3JlIGlkZW50aXR5CiAgICBuYW1lID0gZGIuQ29sdW1uKGRiLlN0cmluZygyMDApLCBudWxsYWJsZT1GYWxzZSwgZGVmYXVsdD0iKHVubmFtZWQpIikKICAgIGxldmVsID0gZGIuQ29sdW1uKGRiLkludGVnZXIsIGRlZmF1bHQ9MSwgbnVsbGFibGU9RmFsc2UpCiAgICBjaGFyX2NsYXNzID0gZGIuQ29sdW1uKGRiLlN0cmluZyg4MCksIG51bGxhYmxlPVRydWUpCiAgICBzdWJjbGFzcyA9IGRiLkNvbHVtbihkYi5TdHJpbmcoODApLCBudWxsYWJsZT1UcnVlKQogICAgcmFjZSA9IGRiLkNvbHVtbihkYi5TdHJpbmcoODApLCBudWxsYWJsZT1UcnVlKQogICAgYmFja2dyb3VuZCA9IGRiLkNvbHVtbihkYi5TdHJpbmcoODApLCBudWxsYWJsZT1UcnVlKQogICAgYWxpZ25tZW50ID0gZGIuQ29sdW1uKGRiLlN0cmluZyg0MCksIG51bGxhYmxlPVRydWUpCiAgICBleHBlcmllbmNlX3BvaW50cyA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkZWZhdWx0PTApCgogICAgIyBBYmlsaXR5IHNjb3JlcwogICAgc3RyZW5ndGggPSBkYi5Db2x1bW4oZGIuSW50ZWdlciwgZGVmYXVsdD0xMCkKICAgIGRleHRlcml0eSA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkZWZhdWx0PTEwKQogICAgY29uc3RpdHV0aW9uID0gZGIuQ29sdW1uKGRiLkludGVnZXIsIGRlZmF1bHQ9MTApCiAgICBpbnRlbGxpZ2VuY2UgPSBkYi5Db2x1bW4oZGIuSW50ZWdlciwgZGVmYXVsdD0xMCkKICAgIHdpc2RvbSA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkZWZhdWx0PTEwKQogICAgY2hhcmlzbWEgPSBkYi5Db2x1bW4oZGIuSW50ZWdlciwgZGVmYXVsdD0xMCkKCiAgICAjIENvbWJhdCBzdGF0cwogICAgbWF4X2hwID0gZGIuQ29sdW1uKGRiLkludGVnZXIsIGRlZmF1bHQ9MCkKICAgIGN1cnJlbnRfaHAgPSBkYi5Db2x1bW4oZGIuSW50ZWdlciwgZGVmYXVsdD0wKQogICAgdGVtcF9ocCA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkZWZhdWx0PTApCiAgICBhcm1vcl9jbGFzcyA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkZWZhdWx0PTEwKQogICAgaW5pdGlhdGl2ZSA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkZWZhdWx0PTApCiAgICBzcGVlZCA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBkZWZhdWx0PTMwKQogICAgcHJvZmljaWVuY3lfYm9udXMgPSBkYi5Db2x1bW4oZGIuSW50ZWdlciwgZGVmYXVsdD0yKQogICAgaGl0X2RpY2UgPSBkYi5Db2x1bW4oZGIuU3RyaW5nKDIwKSwgbnVsbGFibGU9VHJ1ZSkKCiAgICAjIEV4dGVuZGVkIGRhdGEgYXMgSlNPTgogICAgc2tpbGxzX2pzb24gPSBkYi5Db2x1bW4oZGIuVGV4dCwgZGVmYXVsdD0ie30iKQogICAgc2F2aW5nX3Rocm93c19qc29uID0gZGIuQ29sdW1uKGRiLlRleHQsIGRlZmF1bHQ9Int9IikKICAgIGVxdWlwbWVudF9qc29uID0gZGIuQ29sdW1uKGRiLlRleHQsIGRlZmF1bHQ9IltdIikKICAgIHNwZWxsc19qc29uID0gZGIuQ29sdW1uKGRiLlRleHQsIGRlZmF1bHQ9Int9IikKICAgIGZlYXR1cmVzX2pzb24gPSBkYi5Db2x1bW4oZGIuVGV4dCwgZGVmYXVsdD0iW10iKQogICAgdHJhaXRzX2pzb24gPSBkYi5Db2x1bW4oZGIuVGV4dCwgZGVmYXVsdD0ie30iKQogICAgYXR0YWNrc19qc29uID0gZGIuQ29sdW1uKGRiLlRleHQsIGRlZmF1bHQ9IltdIikKICAgIG5vdGVzID0gZGIuQ29sdW1uKGRiLlRleHQsIG51bGxhYmxlPVRydWUpCgogICAgIyBCdWlsZCBzdGF0ZSBmb3Igd2l6YXJkCiAgICBidWlsZF9zdGVwID0gZGIuQ29sdW1uKGRiLkludGVnZXIsIGRlZmF1bHQ9MCkKICAgIGJ1aWxkX2NvbXBsZXRlID0gZGIuQ29sdW1uKGRiLkJvb2xlYW4sIGRlZmF1bHQ9RmFsc2UpCgogICAgY3JlYXRlZF9hdCA9IGRiLkNvbHVtbihkYi5EYXRlVGltZSwgZGVmYXVsdD1kYXRldGltZS51dGNub3csIG51bGxhYmxlPUZhbHNlKQogICAgdXBkYXRlZF9hdCA9IGRiLkNvbHVtbihkYi5EYXRlVGltZSwgZGVmYXVsdD1kYXRldGltZS51dGNub3csIG9udXBkYXRlPWRhdGV0aW1lLnV0Y25vdykKCiAgICBkZWYgYWJpbGl0eV9tb2RpZmllcihzZWxmLCBzY29yZTogaW50KSAtPiBpbnQ6CiAgICAgICAgcmV0dXJuIChzY29yZSAtIDEwKSAvLyAyCgogICAgZGVmIHRvX2NhcmRfZGljdChzZWxmKToKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAiaWQiOiBzZWxmLmlkLAogICAgICAgICAgICAibmFtZSI6IHNlbGYubmFtZSwKICAgICAgICAgICAgImxldmVsIjogc2VsZi5sZXZlbCwKICAgICAgICAgICAgImNoYXJfY2xhc3MiOiBzZWxmLmNoYXJfY2xhc3Mgb3IgIuKAlCIsCiAgICAgICAgICAgICJyYWNlIjogc2VsZi5yYWNlIG9yICLigJQiLAogICAgICAgICAgICAiYmFja2dyb3VuZCI6IHNlbGYuYmFja2dyb3VuZCBvciAi4oCUIiwKICAgICAgICAgICAgImN1cnJlbnRfaHAiOiBzZWxmLmN1cnJlbnRfaHAsCiAgICAgICAgICAgICJtYXhfaHAiOiBzZWxmLm1heF9ocCwKICAgICAgICAgICAgImFybW9yX2NsYXNzIjogc2VsZi5hcm1vcl9jbGFzcywKICAgICAgICAgICAgImlzX25wYyI6IHNlbGYuaXNfbnBjLAogICAgICAgICAgICAiYnVpbGRfY29tcGxldGUiOiBzZWxmLmJ1aWxkX2NvbXBsZXRlLAogICAgICAgICAgICAib3duZXJfaWQiOiBzZWxmLm93bmVyX2lkLAogICAgICAgIH0KCiAgICBkZWYgdG9fc2hlZXRfZGljdChzZWxmKToKICAgICAgICBpbXBvcnQganNvbgogICAgICAgIGQgPSBzZWxmLnRvX2NhcmRfZGljdCgpCiAgICAgICAgZC51cGRhdGUoewogICAgICAgICAgICAic3RyZW5ndGgiOiBzZWxmLnN0cmVuZ3RoLAogICAgICAgICAgICAiZGV4dGVyaXR5Ijogc2VsZi5kZXh0ZXJpdHksCiAgICAgICAgICAgICJjb25zdGl0dXRpb24iOiBzZWxmLmNvbnN0aXR1dGlvbiwKICAgICAgICAgICAgImludGVsbGlnZW5jZSI6IHNlbGYuaW50ZWxsaWdlbmNlLAogICAgICAgICAgICAid2lzZG9tIjogc2VsZi53aXNkb20sCiAgICAgICAgICAgICJjaGFyaXNtYSI6IHNlbGYuY2hhcmlzbWEsCiAgICAgICAgICAgICJzdHJfbW9kIjogc2VsZi5hYmlsaXR5X21vZGlmaWVyKHNlbGYuc3RyZW5ndGgpLAogICAgICAgICAgICAiZGV4X21vZCI6IHNlbGYuYWJpbGl0eV9tb2RpZmllcihzZWxmLmRleHRlcml0eSksCiAgICAgICAgICAgICJjb25fbW9kIjogc2VsZi5hYmlsaXR5X21vZGlmaWVyKHNlbGYuY29uc3RpdHV0aW9uKSwKICAgICAgICAgICAgImludF9tb2QiOiBzZWxmLmFiaWxpdHlfbW9kaWZpZXIoc2VsZi5pbnRlbGxpZ2VuY2UpLAogICAgICAgICAgICAid2lzX21vZCI6IHNlbGYuYWJpbGl0eV9tb2RpZmllcihzZWxmLndpc2RvbSksCiAgICAgICAgICAgICJjaGFfbW9kIjogc2VsZi5hYmlsaXR5X21vZGlmaWVyKHNlbGYuY2hhcmlzbWEpLAogICAgICAgICAgICAidGVtcF9ocCI6IHNlbGYudGVtcF9ocCwKICAgICAgICAgICAgImluaXRpYXRpdmUiOiBzZWxmLmluaXRpYXRpdmUsCiAgICAgICAgICAgICJzcGVlZCI6IHNlbGYuc3BlZWQsCiAgICAgICAgICAgICJwcm9maWNpZW5jeV9ib251cyI6IHNlbGYucHJvZmljaWVuY3lfYm9udXMsCiAgICAgICAgICAgICJoaXRfZGljZSI6IHNlbGYuaGl0X2RpY2UsCiAgICAgICAgICAgICJhbGlnbm1lbnQiOiBzZWxmLmFsaWdubWVudCwKICAgICAgICAgICAgImV4cGVyaWVuY2VfcG9pbnRzIjogc2VsZi5leHBlcmllbmNlX3BvaW50cywKICAgICAgICAgICAgInN1YmNsYXNzIjogc2VsZi5zdWJjbGFzcywKICAgICAgICAgICAgInNraWxscyI6IGpzb24ubG9hZHMoc2VsZi5za2lsbHNfanNvbiBvciAie30iKSwKICAgICAgICAgICAgInNhdmluZ190aHJvd3MiOiBqc29uLmxvYWRzKHNlbGYuc2F2aW5nX3Rocm93c19qc29uIG9yICJ7fSIpLAogICAgICAgICAgICAiZXF1aXBtZW50IjoganNvbi5sb2FkcyhzZWxmLmVxdWlwbWVudF9qc29uIG9yICJbXSIpLAogICAgICAgICAgICAic3BlbGxzIjoganNvbi5sb2FkcyhzZWxmLnNwZWxsc19qc29uIG9yICJ7fSIpLAogICAgICAgICAgICAiZmVhdHVyZXMiOiBqc29uLmxvYWRzKHNlbGYuZmVhdHVyZXNfanNvbiBvciAiW10iKSwKICAgICAgICAgICAgInRyYWl0cyI6IGpzb24ubG9hZHMoc2VsZi50cmFpdHNfanNvbiBvciAie30iKSwKICAgICAgICAgICAgImF0dGFja3MiOiBqc29uLmxvYWRzKHNlbGYuYXR0YWNrc19qc29uIG9yICJbXSIpLAogICAgICAgICAgICAibm90ZXMiOiBzZWxmLm5vdGVzLAogICAgICAgIH0pCiAgICAgICAgcmV0dXJuIGQK"
[System.IO.File]::WriteAllBytes("$root\models\__init__.py", [System.Convert]::FromBase64String($b))

# --- requirements.txt
$b = "Zmxhc2s9PTMuMS4wCmZsYXNrLXNxbGFsY2hlbXk9PTMuMS4xCmZsYXNrLXNlc3Npb249PTAuOC4wCmJjcnlwdD09NC4xLjIKcHl0aG9uLWRvdGVudj09MS4wLjEKcmVxdWVzdHM9PTIuMzEuMApyZXBvcnRsYWI9PTQuMS4wCnB5cGRmPT02LjcuMQo="
[System.IO.File]::WriteAllBytes("$root\requirements.txt", [System.Convert]::FromBase64String($b))

# --- routes\__init__.py
$b = "IyByb3V0ZXMgcGFja2FnZQo="
[System.IO.File]::WriteAllBytes("$root\routes\__init__.py", [System.Convert]::FromBase64String($b))

# --- routes\admin.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwpmcm9tIGZsYXNrIGltcG9ydCBCbHVlcHJpbnQsIHJlbmRlcl90ZW1wbGF0ZSwgcmVkaXJlY3QsIHVybF9mb3IsIHNlc3Npb24sIGZsYXNoLCByZXF1ZXN0CmZyb20gZGIgaW1wb3J0IGRiCmZyb20gbW9kZWxzIGltcG9ydCBVc2VyLCBDYW1wYWlnbiwgQ2FtcGFpZ25NZW1iZXJzaGlwLCBDaGFyYWN0ZXIKZnJvbSBzZXJ2aWNlcy5hdXRoX3NlcnZpY2UgaW1wb3J0IGhhc2hfcGFzc3dvcmQKCmFkbWluX2JwID0gQmx1ZXByaW50KCJhZG1pbiIsIF9fbmFtZV9fLCB1cmxfcHJlZml4PSIvYWRtaW4iKQoKZGVmIF9yZXF1aXJlX2FkbWluKCk6CiAgICBpZiBzZXNzaW9uLmdldCgicm9sZSIpICE9ICJhZG1pbiI6CiAgICAgICAgZmxhc2goIkFkbWluIGFjY2VzcyByZXF1aXJlZC4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKCkBhZG1pbl9icC5nZXQoIi8iKQpkZWYgZGFzaGJvYXJkKCk6CiAgICBpZiBub3QgX3JlcXVpcmVfYWRtaW4oKToKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKICAgIHVzZXJzID0gVXNlci5xdWVyeS5vcmRlcl9ieShVc2VyLnJvbGUsIFVzZXIudXNlcm5hbWUpLmFsbCgpCiAgICBjYW1wYWlnbnMgPSBDYW1wYWlnbi5xdWVyeS5vcmRlcl9ieShDYW1wYWlnbi5jcmVhdGVkX2F0LmRlc2MoKSkuYWxsKCkKICAgIHJldHVybiByZW5kZXJfdGVtcGxhdGUoImFkbWluL2Rhc2hib2FyZC5odG1sIiwKICAgICAgICB1c2Vycz11c2VycywgY2FtcGFpZ25zPWNhbXBhaWducywKICAgICAgICB1c2VyX2NvdW50PWxlbih1c2VycyksCiAgICAgICAgY2FtcGFpZ25fY291bnQ9bGVuKGNhbXBhaWducyksCiAgICAgICAgY2hhcl9jb3VudD1DaGFyYWN0ZXIucXVlcnkuY291bnQoKQogICAgKQoKQGFkbWluX2JwLnBvc3QoIi91c2Vycy9jcmVhdGUiKQpkZWYgY3JlYXRlX3VzZXIoKToKICAgIGlmIG5vdCBfcmVxdWlyZV9hZG1pbigpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgdXNlcm5hbWUgPSAocmVxdWVzdC5mb3JtLmdldCgidXNlcm5hbWUiKSBvciAiIikuc3RyaXAoKQogICAgcGFzc3dvcmQgPSAocmVxdWVzdC5mb3JtLmdldCgicGFzc3dvcmQiKSBvciAiIikuc3RyaXAoKQogICAgcm9sZSA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJyb2xlIikgb3IgInBsYXllciIpLnN0cmlwKCkKICAgIGRpc3BsYXkgPSAocmVxdWVzdC5mb3JtLmdldCgiZGlzcGxheV9uYW1lIikgb3IgdXNlcm5hbWUpLnN0cmlwKCkKCiAgICBpZiBub3QgdXNlcm5hbWUgb3Igbm90IHBhc3N3b3JkOgogICAgICAgIGZsYXNoKCJVc2VybmFtZSBhbmQgcGFzc3dvcmQgcmVxdWlyZWQuIiwgImVycm9yIikKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYWRtaW4uZGFzaGJvYXJkIikpCiAgICBpZiByb2xlIG5vdCBpbiAoImFkbWluIiwgImRtIiwgInBsYXllciIpOgogICAgICAgIGZsYXNoKCJJbnZhbGlkIHJvbGUuIiwgImVycm9yIikKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYWRtaW4uZGFzaGJvYXJkIikpCiAgICBpZiBVc2VyLnF1ZXJ5LmZpbHRlcl9ieSh1c2VybmFtZT11c2VybmFtZSkuZmlyc3QoKToKICAgICAgICBmbGFzaChmIlVzZXJuYW1lICd7dXNlcm5hbWV9JyBhbHJlYWR5IGV4aXN0cy4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhZG1pbi5kYXNoYm9hcmQiKSkKCiAgICB1ID0gVXNlcih1c2VybmFtZT11c2VybmFtZSwgcGFzc3dvcmRfaGFzaD1oYXNoX3Bhc3N3b3JkKHBhc3N3b3JkKSwgcm9sZT1yb2xlLCBkaXNwbGF5X25hbWU9ZGlzcGxheSkKICAgIGRiLnNlc3Npb24uYWRkKHUpCiAgICBkYi5zZXNzaW9uLmNvbW1pdCgpCiAgICBmbGFzaChmIlVzZXIgJ3t1c2VybmFtZX0nIGNyZWF0ZWQgYXMge3JvbGV9LiIsICJvayIpCiAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYWRtaW4uZGFzaGJvYXJkIikpCgpAYWRtaW5fYnAucG9zdCgiL3VzZXJzLzxpbnQ6dWlkPi9zZXRfcm9sZSIpCmRlZiBzZXRfcm9sZSh1aWQ6IGludCk6CiAgICBpZiBub3QgX3JlcXVpcmVfYWRtaW4oKToKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKICAgIHUgPSBVc2VyLnF1ZXJ5LmdldF9vcl80MDQodWlkKQogICAgcm9sZSA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJyb2xlIikgb3IgIiIpLnN0cmlwKCkKICAgIGlmIHJvbGUgbm90IGluICgiYWRtaW4iLCAiZG0iLCAicGxheWVyIik6CiAgICAgICAgZmxhc2goIkludmFsaWQgcm9sZS4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhZG1pbi5kYXNoYm9hcmQiKSkKICAgIHUucm9sZSA9IHJvbGUKICAgIGRiLnNlc3Npb24uY29tbWl0KCkKICAgIGZsYXNoKGYie3UudXNlcm5hbWV9IGlzIG5vdyB7cm9sZX0uIiwgIm9rIikKICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhZG1pbi5kYXNoYm9hcmQiKSkKCkBhZG1pbl9icC5wb3N0KCIvdXNlcnMvPGludDp1aWQ+L3Jlc2V0X3Bhc3N3b3JkIikKZGVmIHJlc2V0X3Bhc3N3b3JkKHVpZDogaW50KToKICAgIGlmIG5vdCBfcmVxdWlyZV9hZG1pbigpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgdSA9IFVzZXIucXVlcnkuZ2V0X29yXzQwNCh1aWQpCiAgICBwdyA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJwYXNzd29yZCIpIG9yICIiKS5zdHJpcCgpCiAgICBpZiBub3QgcHcgb3IgbGVuKHB3KSA8IDY6CiAgICAgICAgZmxhc2goIlBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImFkbWluLmRhc2hib2FyZCIpKQogICAgdS5wYXNzd29yZF9oYXNoID0gaGFzaF9wYXNzd29yZChwdykKICAgIGRiLnNlc3Npb24uY29tbWl0KCkKICAgIGZsYXNoKGYiUGFzc3dvcmQgcmVzZXQgZm9yIHt1LnVzZXJuYW1lfS4iLCAib2siKQogICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImFkbWluLmRhc2hib2FyZCIpKQoKQGFkbWluX2JwLnBvc3QoIi91c2Vycy88aW50OnVpZD4vZGVsZXRlIikKZGVmIGRlbGV0ZV91c2VyKHVpZDogaW50KToKICAgIGlmIG5vdCBfcmVxdWlyZV9hZG1pbigpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgdSA9IFVzZXIucXVlcnkuZ2V0X29yXzQwNCh1aWQpCiAgICBpZiB1LmlkID09IHNlc3Npb24uZ2V0KCJ1c2VyX2lkIik6CiAgICAgICAgZmxhc2goIllvdSBjYW5ub3QgZGVsZXRlIHlvdXJzZWxmLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImFkbWluLmRhc2hib2FyZCIpKQogICAgZGIuc2Vzc2lvbi5kZWxldGUodSkKICAgIGRiLnNlc3Npb24uY29tbWl0KCkKICAgIGZsYXNoKGYiVXNlciAne3UudXNlcm5hbWV9JyBkZWxldGVkLiIsICJvayIpCiAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYWRtaW4uZGFzaGJvYXJkIikpCgpAYWRtaW5fYnAucG9zdCgiL2NhbXBhaWducy88aW50OmNpZD4vYXBwcm92ZV9tZW1iZXIvPGludDp1aWQ+IikKZGVmIGFwcHJvdmVfbWVtYmVyKGNpZDogaW50LCB1aWQ6IGludCk6CiAgICBpZiBub3QgX3JlcXVpcmVfYWRtaW4oKToKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKICAgIG0gPSBDYW1wYWlnbk1lbWJlcnNoaXAucXVlcnkuZmlsdGVyX2J5KGNhbXBhaWduX2lkPWNpZCwgdXNlcl9pZD11aWQpLmZpcnN0X29yXzQwNCgpCiAgICBtLmFwcHJvdmVkID0gVHJ1ZQogICAgZGIuc2Vzc2lvbi5jb21taXQoKQogICAgZmxhc2goIlBsYXllciBhcHByb3ZlZCBmb3IgY2FtcGFpZ24uIiwgIm9rIikKICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhZG1pbi5kYXNoYm9hcmQiKSkKCkBhZG1pbl9icC5wb3N0KCIvY2FtcGFpZ25zLzxpbnQ6Y2lkPi9kZWxldGUiKQpkZWYgZGVsZXRlX2NhbXBhaWduKGNpZDogaW50KToKICAgIGlmIG5vdCBfcmVxdWlyZV9hZG1pbigpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgYyA9IENhbXBhaWduLnF1ZXJ5LmdldF9vcl80MDQoY2lkKQogICAgZGIuc2Vzc2lvbi5kZWxldGUoYykKICAgIGRiLnNlc3Npb24uY29tbWl0KCkKICAgIGZsYXNoKGYiQ2FtcGFpZ24gJ3tjLm5hbWV9JyBkZWxldGVkLiIsICJvayIpCiAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYWRtaW4uZGFzaGJvYXJkIikpCg=="
[System.IO.File]::WriteAllBytes("$root\routes\admin.py", [System.Convert]::FromBase64String($b))

# --- routes\auth.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwpmcm9tIGZsYXNrIGltcG9ydCBCbHVlcHJpbnQsIHJlbmRlcl90ZW1wbGF0ZSwgcmVxdWVzdCwgcmVkaXJlY3QsIHVybF9mb3IsIHNlc3Npb24sIGZsYXNoCmZyb20gZGIgaW1wb3J0IGRiCmZyb20gbW9kZWxzIGltcG9ydCBVc2VyCmZyb20gc2VydmljZXMuYXV0aF9zZXJ2aWNlIGltcG9ydCB2ZXJpZnlfcGFzc3dvcmQsIGhhc2hfcGFzc3dvcmQKCmF1dGhfYnAgPSBCbHVlcHJpbnQoImF1dGgiLCBfX25hbWVfXywgdXJsX3ByZWZpeD0iL2F1dGgiKQoKZGVmIF9maXJzdF9sYXVuY2goKSAtPiBib29sOgogICAgcmV0dXJuIFVzZXIucXVlcnkuZmlsdGVyX2J5KHJvbGU9ImFkbWluIikuY291bnQoKSA9PSAwCgpAYXV0aF9icC5nZXQoIi9zZXR1cCIpCmRlZiBzZXR1cF9nZXQoKToKICAgIGlmIG5vdCBfZmlyc3RfbGF1bmNoKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCJhdXRoL3NldHVwLmh0bWwiKQoKQGF1dGhfYnAucG9zdCgiL3NldHVwIikKZGVmIHNldHVwX3Bvc3QoKToKICAgIGlmIG5vdCBfZmlyc3RfbGF1bmNoKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICB1c2VybmFtZSA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJ1c2VybmFtZSIpIG9yICIiKS5zdHJpcCgpCiAgICBwYXNzd29yZCA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJwYXNzd29yZCIpIG9yICIiKS5zdHJpcCgpCiAgICBjb25maXJtID0gKHJlcXVlc3QuZm9ybS5nZXQoImNvbmZpcm0iKSBvciAiIikuc3RyaXAoKQogICAgZGlzcGxheSA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJkaXNwbGF5X25hbWUiKSBvciB1c2VybmFtZSkuc3RyaXAoKQoKICAgIGlmIG5vdCB1c2VybmFtZSBvciBub3QgcGFzc3dvcmQ6CiAgICAgICAgZmxhc2goIlVzZXJuYW1lIGFuZCBwYXNzd29yZCByZXF1aXJlZC4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLnNldHVwX2dldCIpKQogICAgaWYgcGFzc3dvcmQgIT0gY29uZmlybToKICAgICAgICBmbGFzaCgiUGFzc3dvcmRzIGRvIG5vdCBtYXRjaC4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLnNldHVwX2dldCIpKQogICAgaWYgbGVuKHBhc3N3b3JkKSA8IDY6CiAgICAgICAgZmxhc2goIlBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGguc2V0dXBfZ2V0IikpCgogICAgYWRtaW4gPSBVc2VyKHVzZXJuYW1lPXVzZXJuYW1lLCBwYXNzd29yZF9oYXNoPWhhc2hfcGFzc3dvcmQocGFzc3dvcmQpLCByb2xlPSJhZG1pbiIsIGRpc3BsYXlfbmFtZT1kaXNwbGF5KQogICAgZGIuc2Vzc2lvbi5hZGQoYWRtaW4pCiAgICBkYi5zZXNzaW9uLmNvbW1pdCgpCiAgICBmbGFzaCgiQWRtaW4gYWNjb3VudCBjcmVhdGVkISBQbGVhc2UgbG9nIGluLiIsICJvayIpCiAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKCkBhdXRoX2JwLmdldCgiL2xvZ2luIikKZGVmIGxvZ2luX2dldCgpOgogICAgaWYgX2ZpcnN0X2xhdW5jaCgpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLnNldHVwX2dldCIpKQogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgiYXV0aC9sb2dpbi5odG1sIikKCkBhdXRoX2JwLnBvc3QoIi9sb2dpbiIpCmRlZiBsb2dpbl9wb3N0KCk6CiAgICB1c2VybmFtZSA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJ1c2VybmFtZSIpIG9yICIiKS5zdHJpcCgpCiAgICBwYXNzd29yZCA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJwYXNzd29yZCIpIG9yICIiKS5zdHJpcCgpCiAgICByb2xlX2hpbnQgPSAocmVxdWVzdC5mb3JtLmdldCgicm9sZSIpIG9yICIiKS5zdHJpcCgpCgogICAgaWYgbm90IHVzZXJuYW1lIG9yIG5vdCBwYXNzd29yZDoKICAgICAgICBmbGFzaCgiVXNlcm5hbWUgYW5kIHBhc3N3b3JkIHJlcXVpcmVkLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCgogICAgdXNlciA9IFVzZXIucXVlcnkuZmlsdGVyX2J5KHVzZXJuYW1lPXVzZXJuYW1lKS5maXJzdCgpCiAgICBpZiBub3QgdXNlciBvciBub3QgdmVyaWZ5X3Bhc3N3b3JkKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkX2hhc2gpOgogICAgICAgIGZsYXNoKCJJbnZhbGlkIGNyZWRlbnRpYWxzLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCgogICAgIyBSb2xlIGhpbnQgdmFsaWRhdGlvbiAobXVzdCBtYXRjaCBhY3R1YWwgcm9sZSkKICAgIGlmIHJvbGVfaGludCBhbmQgcm9sZV9oaW50ICE9IHVzZXIucm9sZToKICAgICAgICBmbGFzaChmIlRoaXMgYWNjb3VudCBpcyBub3QgcmVnaXN0ZXJlZCBhcyB7cm9sZV9oaW50fS4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQoKICAgIHNlc3Npb25bInVzZXJfaWQiXSA9IHVzZXIuaWQKICAgIHNlc3Npb25bInJvbGUiXSA9IHVzZXIucm9sZQogICAgc2Vzc2lvblsidXNlcm5hbWUiXSA9IHVzZXIudXNlcm5hbWUKICAgIHNlc3Npb25bImRpc3BsYXlfbmFtZSJdID0gdXNlci5kaXNwbGF5X25hbWUgb3IgdXNlci51c2VybmFtZQoKICAgIGlmIHVzZXIucm9sZSA9PSAiYWRtaW4iOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhZG1pbi5kYXNoYm9hcmQiKSkKICAgIGVsaWYgdXNlci5yb2xlID09ICJkbSI6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImRtLmRhc2hib2FyZCIpKQogICAgZWxzZToKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigicGxheWVyLmRhc2hib2FyZCIpKQoKQGF1dGhfYnAuZ2V0KCIvbG9nb3V0IikKZGVmIGxvZ291dCgpOgogICAgc2Vzc2lvbi5jbGVhcigpCiAgICBmbGFzaCgiWW91IGhhdmUgYmVlbiBsb2dnZWQgb3V0LiIsICJvayIpCiAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkK"
[System.IO.File]::WriteAllBytes("$root\routes\auth.py", [System.Convert]::FromBase64String($b))

# --- routes\campaigns.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwpmcm9tIGZsYXNrIGltcG9ydCBCbHVlcHJpbnQsIHJlbmRlcl90ZW1wbGF0ZSwgcmVkaXJlY3QsIHVybF9mb3IsIHNlc3Npb24sIGZsYXNoCmZyb20gZGIgaW1wb3J0IGRiCmZyb20gbW9kZWxzIGltcG9ydCBDYW1wYWlnbiwgQ2FtcGFpZ25NZW1iZXJzaGlwLCBDaGFyYWN0ZXIsIFVzZXIKCmNhbXBhaWduc19icCA9IEJsdWVwcmludCgiY2FtcGFpZ25zIiwgX19uYW1lX18sIHVybF9wcmVmaXg9Ii9jYW1wYWlnbnMiKQoKZGVmIF9yZXF1aXJlX2xvZ2luKCk6CiAgICBpZiBub3Qgc2Vzc2lvbi5nZXQoInVzZXJfaWQiKToKICAgICAgICBmbGFzaCgiUGxlYXNlIGxvZyBpbi4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKCmRlZiBfY2FuX2FjY2Vzc19jYW1wYWlnbihjYW1wYWlnbjogQ2FtcGFpZ24pIC0+IGJvb2w6CiAgICB1aWQgPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpCiAgICByb2xlID0gc2Vzc2lvbi5nZXQoInJvbGUiKQogICAgaWYgcm9sZSA9PSAiYWRtaW4iOgogICAgICAgIHJldHVybiBUcnVlCiAgICBpZiBjYW1wYWlnbi5kbV9pZCA9PSB1aWQ6CiAgICAgICAgcmV0dXJuIFRydWUKICAgIG0gPSBDYW1wYWlnbk1lbWJlcnNoaXAucXVlcnkuZmlsdGVyX2J5KGNhbXBhaWduX2lkPWNhbXBhaWduLmlkLCB1c2VyX2lkPXVpZCwgYXBwcm92ZWQ9VHJ1ZSkuZmlyc3QoKQogICAgcmV0dXJuIG0gaXMgbm90IE5vbmUKCkBjYW1wYWlnbnNfYnAuZ2V0KCIvPGludDpjaWQ+IikKZGVmIHZpZXcoY2lkOiBpbnQpOgogICAgaWYgbm90IF9yZXF1aXJlX2xvZ2luKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICBjYW1wYWlnbiA9IENhbXBhaWduLnF1ZXJ5LmdldF9vcl80MDQoY2lkKQogICAgaWYgbm90IF9jYW5fYWNjZXNzX2NhbXBhaWduKGNhbXBhaWduKToKICAgICAgICBmbGFzaCgiWW91IGRvbid0IGhhdmUgYWNjZXNzIHRvIHRoaXMgY2FtcGFpZ24uIiwgImVycm9yIikKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKCiAgICB1aWQgPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpCiAgICByb2xlID0gc2Vzc2lvbi5nZXQoInJvbGUiKQogICAgaXNfZG0gPSAoY2FtcGFpZ24uZG1faWQgPT0gdWlkIG9yIHJvbGUgPT0gImFkbWluIikKCiAgICAjIEdldCBhbGwgY2hhcmFjdGVycyBpbiBjYW1wYWlnbgogICAgcGNfY2hhcnMgPSBDaGFyYWN0ZXIucXVlcnkuZmlsdGVyX2J5KGNhbXBhaWduX2lkPWNpZCwgaXNfbnBjPUZhbHNlKS5hbGwoKQogICAgbnBjX2NoYXJzID0gQ2hhcmFjdGVyLnF1ZXJ5LmZpbHRlcl9ieShjYW1wYWlnbl9pZD1jaWQsIGlzX25wYz1UcnVlKS5hbGwoKQoKICAgICMgTWVtYmVyc2hpcCBpbmZvIChmb3IgRE0gcGFuZWwpCiAgICBtZW1iZXJzID0gW10KICAgIHBlbmRpbmcgPSBbXQogICAgaWYgaXNfZG06CiAgICAgICAgYXBwcm92ZWRfbWVtYmVyc2hpcHMgPSBDYW1wYWlnbk1lbWJlcnNoaXAucXVlcnkuZmlsdGVyX2J5KGNhbXBhaWduX2lkPWNpZCwgYXBwcm92ZWQ9VHJ1ZSkuYWxsKCkKICAgICAgICBwZW5kaW5nX21lbWJlcnNoaXBzID0gQ2FtcGFpZ25NZW1iZXJzaGlwLnF1ZXJ5LmZpbHRlcl9ieShjYW1wYWlnbl9pZD1jaWQsIGFwcHJvdmVkPUZhbHNlKS5hbGwoKQogICAgICAgIG1lbWJlcnMgPSBbKG0sIFVzZXIucXVlcnkuZ2V0KG0udXNlcl9pZCkpIGZvciBtIGluIGFwcHJvdmVkX21lbWJlcnNoaXBzXQogICAgICAgIHBlbmRpbmcgPSBbKG0sIFVzZXIucXVlcnkuZ2V0KG0udXNlcl9pZCkpIGZvciBtIGluIHBlbmRpbmdfbWVtYmVyc2hpcHNdCgogICAgIyBNeSBjaGFyYWN0ZXIgaW4gdGhpcyBjYW1wYWlnbgogICAgbXlfY2hhciA9IENoYXJhY3Rlci5xdWVyeS5maWx0ZXJfYnkoY2FtcGFpZ25faWQ9Y2lkLCBvd25lcl9pZD11aWQsIGlzX25wYz1GYWxzZSkuZmlyc3QoKQoKICAgIHJldHVybiByZW5kZXJfdGVtcGxhdGUoImNhbXBhaWducy92aWV3Lmh0bWwiLAogICAgICAgIGNhbXBhaWduPWNhbXBhaWduLAogICAgICAgIHBjX2NoYXJzPXBjX2NoYXJzLAogICAgICAgIG5wY19jaGFycz1ucGNfY2hhcnMsCiAgICAgICAgaXNfZG09aXNfZG0sCiAgICAgICAgbWVtYmVycz1tZW1iZXJzLAogICAgICAgIHBlbmRpbmc9cGVuZGluZywKICAgICAgICBteV9jaGFyPW15X2NoYXIsCiAgICApCg=="
[System.IO.File]::WriteAllBytes("$root\routes\campaigns.py", [System.Convert]::FromBase64String($b))

# --- routes\characters.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQganNvbgpmcm9tIGZsYXNrIGltcG9ydCBCbHVlcHJpbnQsIHJlbmRlcl90ZW1wbGF0ZSwgcmVkaXJlY3QsIHVybF9mb3IsIHNlc3Npb24sIGZsYXNoLCByZXF1ZXN0LCBqc29uaWZ5LCBjdXJyZW50X2FwcApmcm9tIGRiIGltcG9ydCBkYgpmcm9tIG1vZGVscyBpbXBvcnQgQ2hhcmFjdGVyLCBDYW1wYWlnbiwgQ2FtcGFpZ25NZW1iZXJzaGlwCmZyb20gc2VydmljZXMgaW1wb3J0IHNyZF9zZXJ2aWNlLCBvbGxhbWFfc2VydmljZQoKY2hhcmFjdGVyc19icCA9IEJsdWVwcmludCgiY2hhcmFjdGVycyIsIF9fbmFtZV9fLCB1cmxfcHJlZml4PSIvY2hhcmFjdGVycyIpCgpkZWYgX3JlcXVpcmVfbG9naW4oKToKICAgIGlmIG5vdCBzZXNzaW9uLmdldCgidXNlcl9pZCIpOgogICAgICAgIGZsYXNoKCJQbGVhc2UgbG9nIGluLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICByZXR1cm4gVHJ1ZQoKZGVmIF9jYW5fZWRpdF9jaGFyYWN0ZXIoY2hhcjogQ2hhcmFjdGVyKSAtPiBib29sOgogICAgdWlkID0gc2Vzc2lvbi5nZXQoInVzZXJfaWQiKQogICAgcm9sZSA9IHNlc3Npb24uZ2V0KCJyb2xlIikKICAgIGlmIHJvbGUgaW4gKCJhZG1pbiIsICJkbSIpOgogICAgICAgIHJldHVybiBUcnVlCiAgICByZXR1cm4gY2hhci5vd25lcl9pZCA9PSB1aWQKCkBjaGFyYWN0ZXJzX2JwLmdldCgiL25ldyIpCmRlZiBuZXcoKToKICAgIGlmIG5vdCBfcmVxdWlyZV9sb2dpbigpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgY2FtcGFpZ25faWQgPSByZXF1ZXN0LmFyZ3MuZ2V0KCJjYW1wYWlnbl9pZCIsIHR5cGU9aW50KQogICAgaXNfbnBjID0gcmVxdWVzdC5hcmdzLmdldCgibnBjIiwgImZhbHNlIikubG93ZXIoKSA9PSAidHJ1ZSIKCiAgICAjIE9ubHkgRE0vYWRtaW4gY2FuIGNyZWF0ZSBOUENzCiAgICBpZiBpc19ucGMgYW5kIHNlc3Npb24uZ2V0KCJyb2xlIikgbm90IGluICgiZG0iLCAiYWRtaW4iKToKICAgICAgICBmbGFzaCgiT25seSBETXMgY2FuIGNyZWF0ZSBOUENzLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCgogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgiY2hhcmFjdGVycy93aXphcmQuaHRtbCIsCiAgICAgICAgY2FtcGFpZ25faWQ9Y2FtcGFpZ25faWQsCiAgICAgICAgaXNfbnBjPWlzX25wYywKICAgICAgICByYWNlcz1zcmRfc2VydmljZS5TUkRfUkFDRVMsCiAgICAgICAgY2xhc3Nlcz1zcmRfc2VydmljZS5TUkRfQ0xBU1NFUywKICAgICAgICBiYWNrZ3JvdW5kcz1zcmRfc2VydmljZS5TUkRfQkFDS0dST1VORFMsCiAgICAgICAgYWxpZ25tZW50cz1zcmRfc2VydmljZS5TUkRfQUxJR05NRU5UUywKICAgICAgICBza2lsbHM9c3JkX3NlcnZpY2UuQUxMX1NLSUxMUywKICAgICAgICBvbGxhbWFfb2s9b2xsYW1hX3NlcnZpY2Uub2xsYW1hX2hlYWx0aChjdXJyZW50X2FwcC5jb25maWdbIk9MTEFNQV9VUkwiXSksCiAgICApCgpAY2hhcmFjdGVyc19icC5wb3N0KCIvY3JlYXRlIikKZGVmIGNyZWF0ZSgpOgogICAgaWYgbm90IF9yZXF1aXJlX2xvZ2luKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICB1aWQgPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpCiAgICBmID0gcmVxdWVzdC5mb3JtCiAgICBjYW1wYWlnbl9pZCA9IGYuZ2V0KCJjYW1wYWlnbl9pZCIsIHR5cGU9aW50KQogICAgaXNfbnBjID0gZi5nZXQoImlzX25wYyIsICJmYWxzZSIpLmxvd2VyKCkgPT0gInRydWUiCgogICAgIyBBYmlsaXR5IHNjb3JlcwogICAgZGVmIHNjb3JlKGtleSk6IHJldHVybiBtYXgoMSwgbWluKDIwLCBpbnQoZi5nZXQoa2V5LCAxMCkgb3IgMTApKSkKCiAgICByYWNlX25hbWUgPSBmLmdldCgicmFjZSIsICJIdW1hbiIpCiAgICBjbGFzc19uYW1lID0gZi5nZXQoImNoYXJfY2xhc3MiLCAiRmlnaHRlciIpCiAgICBiZ19uYW1lID0gZi5nZXQoImJhY2tncm91bmQiLCAiU29sZGllciIpCiAgICBsZXZlbCA9IG1heCgxLCBtaW4oMjAsIGludChmLmdldCgibGV2ZWwiLCAxKSBvciAxKSkpCgogICAgc3JkX2NsYXNzID0gc3JkX3NlcnZpY2UuZ2V0X2NsYXNzKGNsYXNzX25hbWUpIG9yIHt9CiAgICBoaXRfZGllID0gc3JkX2NsYXNzLmdldCgiaGl0X2RpZSIsICJkOCIpCiAgICBwcm9mID0gc3JkX3NlcnZpY2UucHJvZmljaWVuY3lfYm9udXMobGV2ZWwpCiAgICBjb25fbW9kID0gc3JkX3NlcnZpY2UuYWJpbGl0eV9tb2RpZmllcihzY29yZSgiY29uc3RpdHV0aW9uIikpCiAgICAjIEhQID0gbWF4IGhpdCBkaWUgKyBDT04gbW9kICsgKGxldmVsLTEpICogKGF2ZyBoaXQgZGllICsgQ09OIG1vZCkKICAgIGhpdF9kaWVfdmFsID0gaW50KGhpdF9kaWVbMTpdKQogICAgbWF4X2hwID0gaGl0X2RpZV92YWwgKyBjb25fbW9kICsgKGxldmVsIC0gMSkgKiAoaGl0X2RpZV92YWwgLy8gMiArIDEgKyBjb25fbW9kKQogICAgbWF4X2hwID0gbWF4KDEsIG1heF9ocCkKCiAgICBjaGFyID0gQ2hhcmFjdGVyKAogICAgICAgIG93bmVyX2lkPXVpZCBpZiBub3QgaXNfbnBjIGVsc2UgTm9uZSwKICAgICAgICBjYW1wYWlnbl9pZD1jYW1wYWlnbl9pZCwKICAgICAgICBpc19ucGM9aXNfbnBjLAogICAgICAgIG5hbWU9Zi5nZXQoIm5hbWUiLCAiKHVubmFtZWQpIikuc3RyaXAoKSBvciAiKHVubmFtZWQpIiwKICAgICAgICBsZXZlbD1sZXZlbCwKICAgICAgICBjaGFyX2NsYXNzPWNsYXNzX25hbWUsCiAgICAgICAgcmFjZT1yYWNlX25hbWUsCiAgICAgICAgYmFja2dyb3VuZD1iZ19uYW1lLAogICAgICAgIGFsaWdubWVudD1mLmdldCgiYWxpZ25tZW50IiwgIlRydWUgTmV1dHJhbCIpLAogICAgICAgIHN0cmVuZ3RoPXNjb3JlKCJzdHJlbmd0aCIpLAogICAgICAgIGRleHRlcml0eT1zY29yZSgiZGV4dGVyaXR5IiksCiAgICAgICAgY29uc3RpdHV0aW9uPXNjb3JlKCJjb25zdGl0dXRpb24iKSwKICAgICAgICBpbnRlbGxpZ2VuY2U9c2NvcmUoImludGVsbGlnZW5jZSIpLAogICAgICAgIHdpc2RvbT1zY29yZSgid2lzZG9tIiksCiAgICAgICAgY2hhcmlzbWE9c2NvcmUoImNoYXJpc21hIiksCiAgICAgICAgbWF4X2hwPW1heF9ocCwKICAgICAgICBjdXJyZW50X2hwPW1heF9ocCwKICAgICAgICBhcm1vcl9jbGFzcz0xMCArIHNyZF9zZXJ2aWNlLmFiaWxpdHlfbW9kaWZpZXIoc2NvcmUoImRleHRlcml0eSIpKSwKICAgICAgICBzcGVlZD0zMCwKICAgICAgICBwcm9maWNpZW5jeV9ib251cz1wcm9mLAogICAgICAgIGhpdF9kaWNlPWYie2xldmVsfXtoaXRfZGllfSIsCiAgICAgICAgYnVpbGRfY29tcGxldGU9VHJ1ZSwKICAgICAgICBub3Rlcz1mLmdldCgibm90ZXMiLCAiIiksCiAgICApCgogICAgIyBQcm9maWNpZW5jaWVzIGZyb20gYmFja2dyb3VuZAogICAgYmcgPSBzcmRfc2VydmljZS5nZXRfYmFja2dyb3VuZChiZ19uYW1lKSBvciB7fQogICAgc2tpbGxzX3Byb2YgPSB7czogVHJ1ZSBmb3IgcyBpbiBiZy5nZXQoInNraWxsX3Byb2ZpY2llbmNpZXMiLCBbXSl9CiAgICBjaGFyLnNraWxsc19qc29uID0ganNvbi5kdW1wcyhza2lsbHNfcHJvZikKCiAgICAjIEVxdWlwbWVudCBmcm9tIGJhY2tncm91bmQKICAgIGVxdWlwID0gYmcuZ2V0KCJlcXVpcG1lbnQiLCBbXSkKICAgIGNoYXIuZXF1aXBtZW50X2pzb24gPSBqc29uLmR1bXBzKGVxdWlwKQoKICAgICMgRmVhdHVyZXMgZnJvbSBjbGFzcyBsZXZlbCAxCiAgICBmZWF0cyA9IFtdCiAgICBmb3IgbHZsIGluIHJhbmdlKDEsIGxldmVsICsgMSk6CiAgICAgICAgbHZsX2ZlYXRzID0gc3JkX2NsYXNzLmdldCgiZmVhdHVyZXNfYnlfbGV2ZWwiLCB7fSkuZ2V0KGx2bCwgW10pCiAgICAgICAgZmVhdHMuZXh0ZW5kKGx2bF9mZWF0cykKICAgIGNoYXIuZmVhdHVyZXNfanNvbiA9IGpzb24uZHVtcHMoZmVhdHMpCgogICAgZGIuc2Vzc2lvbi5hZGQoY2hhcikKICAgIGRiLnNlc3Npb24uY29tbWl0KCkKCiAgICBmbGFzaChmInsnTlBDJyBpZiBpc19ucGMgZWxzZSAnQ2hhcmFjdGVyJ30gJ3tjaGFyLm5hbWV9JyBjcmVhdGVkISIsICJvayIpCiAgICBpZiBjYW1wYWlnbl9pZDoKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiY2FtcGFpZ25zLnZpZXciLCBjaWQ9Y2FtcGFpZ25faWQpKQogICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImNoYXJhY3RlcnMuc2hlZXQiLCBjaWQ9Y2hhci5pZCkpCgpAY2hhcmFjdGVyc19icC5nZXQoIi88aW50OmNpZD4vc2hlZXQiKQpkZWYgc2hlZXQoY2lkOiBpbnQpOgogICAgaWYgbm90IF9yZXF1aXJlX2xvZ2luKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICBjaGFyID0gQ2hhcmFjdGVyLnF1ZXJ5LmdldF9vcl80MDQoY2lkKQogICAgdWlkID0gc2Vzc2lvbi5nZXQoInVzZXJfaWQiKQogICAgcm9sZSA9IHNlc3Npb24uZ2V0KCJyb2xlIikKICAgIGNhbl9lZGl0ID0gX2Nhbl9lZGl0X2NoYXJhY3RlcihjaGFyKQogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgiY2hhcmFjdGVycy9zaGVldC5odG1sIiwgY2hhcj1jaGFyLCBkYXRhPWNoYXIudG9fc2hlZXRfZGljdCgpLCBjYW5fZWRpdD1jYW5fZWRpdCkKCkBjaGFyYWN0ZXJzX2JwLnBvc3QoIi88aW50OmNpZD4vZGVsZXRlIikKZGVmIGRlbGV0ZShjaWQ6IGludCk6CiAgICBpZiBub3QgX3JlcXVpcmVfbG9naW4oKToKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKICAgIGNoYXIgPSBDaGFyYWN0ZXIucXVlcnkuZ2V0X29yXzQwNChjaWQpCiAgICBpZiBub3QgX2Nhbl9lZGl0X2NoYXJhY3RlcihjaGFyKToKICAgICAgICBmbGFzaCgiWW91IGNhbiBvbmx5IGRlbGV0ZSB5b3VyIG93biBjaGFyYWN0ZXJzLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICBjYW1wYWlnbl9pZCA9IGNoYXIuY2FtcGFpZ25faWQKICAgIGRiLnNlc3Npb24uZGVsZXRlKGNoYXIpCiAgICBkYi5zZXNzaW9uLmNvbW1pdCgpCiAgICBmbGFzaCgiQ2hhcmFjdGVyIGRlbGV0ZWQuIiwgIm9rIikKICAgIGlmIGNhbXBhaWduX2lkOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJjYW1wYWlnbnMudmlldyIsIGNpZD1jYW1wYWlnbl9pZCkpCiAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigicGxheWVyLmRhc2hib2FyZCIpKQoKQGNoYXJhY3RlcnNfYnAucG9zdCgiL2FpX3N1Z2dlc3QiKQpkZWYgYWlfc3VnZ2VzdCgpOgogICAgIiIiQUpBWCBlbmRwb2ludCDigJQgQUkgc3VnZ2VzdHMgbmV4dCBidWlsZCBzdGVwLiIiIgogICAgaWYgbm90IHNlc3Npb24uZ2V0KCJ1c2VyX2lkIik6CiAgICAgICAgcmV0dXJuIGpzb25pZnkoeyJlcnJvciI6ICJOb3QgbG9nZ2VkIGluIn0pLCA0MDEKICAgIGRhdGEgPSByZXF1ZXN0Lmpzb24gb3Ige30KICAgIHN0ZXAgPSBkYXRhLmdldCgic3RlcCIsICJnZW5lcmFsIikKICAgIGNoYXJfZGF0YSA9IGRhdGEuZ2V0KCJjaGFyYWN0ZXIiLCB7fSkKICAgIHVybCA9IGN1cnJlbnRfYXBwLmNvbmZpZ1siT0xMQU1BX1VSTCJdCiAgICBtb2RlbCA9IGN1cnJlbnRfYXBwLmNvbmZpZ1siT0xMQU1BX01PREVMIl0KCiAgICBzcmRfY3R4ID0gZiJSYWNlczoge1tyWyduYW1lJ10gZm9yIHIgaW4gc3JkX3NlcnZpY2UuU1JEX1JBQ0VTXX1cbkNsYXNzZXM6IHtbY1snbmFtZSddIGZvciBjIGluIHNyZF9zZXJ2aWNlLlNSRF9DTEFTU0VTXX1cbkJhY2tncm91bmRzOiB7W2JbJ25hbWUnXSBmb3IgYiBpbiBzcmRfc2VydmljZS5TUkRfQkFDS0dST1VORFNdfSIKICAgIHN5c3RlbSA9IG9sbGFtYV9zZXJ2aWNlLmJ1aWxkX2NoYXJhY3Rlcl9zeXN0ZW1fcHJvbXB0KHN0ZXAsIGNoYXJfZGF0YSwgc3JkX2N0eCkKICAgIHVzZXJfbXNnID0gZGF0YS5nZXQoIm1lc3NhZ2UiLCBmIkhlbHAgbWUgd2l0aCB0aGUge3N0ZXB9IHN0ZXAgb2YgY2hhcmFjdGVyIGNyZWF0aW9uLiIpCgogICAgcmVwbHkgPSBvbGxhbWFfc2VydmljZS5vbGxhbWFfY2hhdCh1cmwsIG1vZGVsLCBzeXN0ZW0sIHVzZXJfbXNnKQogICAgcmV0dXJuIGpzb25pZnkoeyJyZXBseSI6IHJlcGx5fSkK"
[System.IO.File]::WriteAllBytes("$root\routes\characters.py", [System.Convert]::FromBase64String($b))

# --- routes\dm.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwpmcm9tIGZsYXNrIGltcG9ydCBCbHVlcHJpbnQsIHJlbmRlcl90ZW1wbGF0ZSwgcmVkaXJlY3QsIHVybF9mb3IsIHNlc3Npb24sIGZsYXNoLCByZXF1ZXN0CmZyb20gZGIgaW1wb3J0IGRiCmZyb20gbW9kZWxzIGltcG9ydCBVc2VyLCBDYW1wYWlnbiwgQ2FtcGFpZ25NZW1iZXJzaGlwLCBDaGFyYWN0ZXIKCmRtX2JwID0gQmx1ZXByaW50KCJkbSIsIF9fbmFtZV9fLCB1cmxfcHJlZml4PSIvZG0iKQoKZGVmIF9yZXF1aXJlX2RtKCk6CiAgICByb2xlID0gc2Vzc2lvbi5nZXQoInJvbGUiKQogICAgaWYgcm9sZSBub3QgaW4gKCJkbSIsICJhZG1pbiIpOgogICAgICAgIGZsYXNoKCJETSBhY2Nlc3MgcmVxdWlyZWQuIiwgImVycm9yIikKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHJldHVybiBUcnVlCgpAZG1fYnAuZ2V0KCIvIikKZGVmIGRhc2hib2FyZCgpOgogICAgaWYgbm90IF9yZXF1aXJlX2RtKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICB1aWQgPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpCiAgICBteV9jYW1wYWlnbnMgPSBDYW1wYWlnbi5xdWVyeS5maWx0ZXJfYnkoZG1faWQ9dWlkKS5vcmRlcl9ieShDYW1wYWlnbi5jcmVhdGVkX2F0LmRlc2MoKSkuYWxsKCkKICAgIHJldHVybiByZW5kZXJfdGVtcGxhdGUoImRtL2Rhc2hib2FyZC5odG1sIiwgY2FtcGFpZ25zPW15X2NhbXBhaWducykKCkBkbV9icC5wb3N0KCIvY2FtcGFpZ25zL2NyZWF0ZSIpCmRlZiBjcmVhdGVfY2FtcGFpZ24oKToKICAgIGlmIG5vdCBfcmVxdWlyZV9kbSgpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgbmFtZSA9IChyZXF1ZXN0LmZvcm0uZ2V0KCJuYW1lIikgb3IgIiIpLnN0cmlwKCkKICAgIGRlc2MgPSAocmVxdWVzdC5mb3JtLmdldCgiZGVzY3JpcHRpb24iKSBvciAiIikuc3RyaXAoKQogICAgaWYgbm90IG5hbWU6CiAgICAgICAgZmxhc2goIkNhbXBhaWduIG5hbWUgcmVxdWlyZWQuIiwgImVycm9yIikKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiZG0uZGFzaGJvYXJkIikpCiAgICB1aWQgPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpCiAgICBjID0gQ2FtcGFpZ24obmFtZT1uYW1lLCBkZXNjcmlwdGlvbj1kZXNjLCBkbV9pZD11aWQpCiAgICBkYi5zZXNzaW9uLmFkZChjKQogICAgZGIuc2Vzc2lvbi5jb21taXQoKQogICAgIyBBdXRvLWFkZCBETSBhcyBtZW1iZXIKICAgIG0gPSBDYW1wYWlnbk1lbWJlcnNoaXAoY2FtcGFpZ25faWQ9Yy5pZCwgdXNlcl9pZD11aWQsIHJvbGU9ImRtIiwgYXBwcm92ZWQ9VHJ1ZSkKICAgIGRiLnNlc3Npb24uYWRkKG0pCiAgICBkYi5zZXNzaW9uLmNvbW1pdCgpCiAgICBmbGFzaChmIkNhbXBhaWduICd7bmFtZX0nIGNyZWF0ZWQhIiwgIm9rIikKICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJjYW1wYWlnbnMudmlldyIsIGNpZD1jLmlkKSkKCkBkbV9icC5wb3N0KCIvY2FtcGFpZ25zLzxpbnQ6Y2lkPi9kZWxldGUiKQpkZWYgZGVsZXRlX2NhbXBhaWduKGNpZDogaW50KToKICAgIGlmIG5vdCBfcmVxdWlyZV9kbSgpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgYyA9IENhbXBhaWduLnF1ZXJ5LmdldF9vcl80MDQoY2lkKQogICAgaWYgYy5kbV9pZCAhPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpIGFuZCBzZXNzaW9uLmdldCgicm9sZSIpICE9ICJhZG1pbiI6CiAgICAgICAgZmxhc2goIk5vdCB5b3VyIGNhbXBhaWduLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImRtLmRhc2hib2FyZCIpKQogICAgZGIuc2Vzc2lvbi5kZWxldGUoYykKICAgIGRiLnNlc3Npb24uY29tbWl0KCkKICAgIGZsYXNoKGYiQ2FtcGFpZ24gZGVsZXRlZC4iLCAib2siKQogICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImRtLmRhc2hib2FyZCIpKQoKQGRtX2JwLnBvc3QoIi9jYW1wYWlnbnMvPGludDpjaWQ+L2FwcHJvdmUvPGludDp1aWQ+IikKZGVmIGFwcHJvdmVfcGxheWVyKGNpZDogaW50LCB1aWQ6IGludCk6CiAgICBpZiBub3QgX3JlcXVpcmVfZG0oKToKICAgICAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigiYXV0aC5sb2dpbl9nZXQiKSkKICAgIG0gPSBDYW1wYWlnbk1lbWJlcnNoaXAucXVlcnkuZmlsdGVyX2J5KGNhbXBhaWduX2lkPWNpZCwgdXNlcl9pZD11aWQpLmZpcnN0X29yXzQwNCgpCiAgICBtLmFwcHJvdmVkID0gVHJ1ZQogICAgZGIuc2Vzc2lvbi5jb21taXQoKQogICAgZmxhc2goIlBsYXllciBhcHByb3ZlZC4iLCAib2siKQogICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImNhbXBhaWducy52aWV3IiwgY2lkPWNpZCkpCgpAZG1fYnAucG9zdCgiL2NhbXBhaWducy88aW50OmNpZD4va2ljay88aW50OnVpZD4iKQpkZWYga2lja19wbGF5ZXIoY2lkOiBpbnQsIHVpZDogaW50KToKICAgIGlmIG5vdCBfcmVxdWlyZV9kbSgpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgbSA9IENhbXBhaWduTWVtYmVyc2hpcC5xdWVyeS5maWx0ZXJfYnkoY2FtcGFpZ25faWQ9Y2lkLCB1c2VyX2lkPXVpZCkuZmlyc3Rfb3JfNDA0KCkKICAgIGRiLnNlc3Npb24uZGVsZXRlKG0pCiAgICBkYi5zZXNzaW9uLmNvbW1pdCgpCiAgICBmbGFzaCgiUGxheWVyIHJlbW92ZWQgZnJvbSBjYW1wYWlnbi4iLCAib2siKQogICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImNhbXBhaWducy52aWV3IiwgY2lkPWNpZCkpCg=="
[System.IO.File]::WriteAllBytes("$root\routes\dm.py", [System.Convert]::FromBase64String($b))

# --- routes\player.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwpmcm9tIGZsYXNrIGltcG9ydCBCbHVlcHJpbnQsIHJlbmRlcl90ZW1wbGF0ZSwgcmVkaXJlY3QsIHVybF9mb3IsIHNlc3Npb24sIGZsYXNoLCByZXF1ZXN0CmZyb20gZGIgaW1wb3J0IGRiCmZyb20gbW9kZWxzIGltcG9ydCBDYW1wYWlnbiwgQ2FtcGFpZ25NZW1iZXJzaGlwLCBDaGFyYWN0ZXIKCnBsYXllcl9icCA9IEJsdWVwcmludCgicGxheWVyIiwgX19uYW1lX18sIHVybF9wcmVmaXg9Ii9wbGF5ZXIiKQoKZGVmIF9yZXF1aXJlX2xvZ2luKCk6CiAgICBpZiBub3Qgc2Vzc2lvbi5nZXQoInVzZXJfaWQiKToKICAgICAgICBmbGFzaCgiUGxlYXNlIGxvZyBpbi4iLCAiZXJyb3IiKQogICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKCkBwbGF5ZXJfYnAuZ2V0KCIvIikKZGVmIGRhc2hib2FyZCgpOgogICAgaWYgbm90IF9yZXF1aXJlX2xvZ2luKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICB1aWQgPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpCiAgICAjIENhbXBhaWducyB3aGVyZSBwbGF5ZXIgaXMgYXBwcm92ZWQgbWVtYmVyCiAgICBtZW1iZXJzaGlwcyA9IENhbXBhaWduTWVtYmVyc2hpcC5xdWVyeS5maWx0ZXJfYnkodXNlcl9pZD11aWQsIGFwcHJvdmVkPVRydWUpLmFsbCgpCiAgICBjYW1wYWlnbl9pZHMgPSBbbS5jYW1wYWlnbl9pZCBmb3IgbSBpbiBtZW1iZXJzaGlwc10KICAgIGNhbXBhaWducyA9IENhbXBhaWduLnF1ZXJ5LmZpbHRlcihDYW1wYWlnbi5pZC5pbl8oY2FtcGFpZ25faWRzKSkuYWxsKCkKICAgICMgUGVuZGluZyByZXF1ZXN0cwogICAgcGVuZGluZyA9IENhbXBhaWduTWVtYmVyc2hpcC5xdWVyeS5maWx0ZXJfYnkodXNlcl9pZD11aWQsIGFwcHJvdmVkPUZhbHNlKS5hbGwoKQogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgicGxheWVyL2Rhc2hib2FyZC5odG1sIiwgY2FtcGFpZ25zPWNhbXBhaWducywgcGVuZGluZz1wZW5kaW5nKQoKQHBsYXllcl9icC5wb3N0KCIvY2FtcGFpZ25zLzxpbnQ6Y2lkPi9qb2luIikKZGVmIGpvaW5fY2FtcGFpZ24oY2lkOiBpbnQpOgogICAgaWYgbm90IF9yZXF1aXJlX2xvZ2luKCk6CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoImF1dGgubG9naW5fZ2V0IikpCiAgICB1aWQgPSBzZXNzaW9uLmdldCgidXNlcl9pZCIpCiAgICBleGlzdGluZyA9IENhbXBhaWduTWVtYmVyc2hpcC5xdWVyeS5maWx0ZXJfYnkoY2FtcGFpZ25faWQ9Y2lkLCB1c2VyX2lkPXVpZCkuZmlyc3QoKQogICAgaWYgZXhpc3Rpbmc6CiAgICAgICAgZmxhc2goIllvdSBhbHJlYWR5IGhhdmUgYSBwZW5kaW5nIG9yIGFjdGl2ZSBtZW1iZXJzaGlwLiIsICJlcnJvciIpCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoInBsYXllci5kYXNoYm9hcmQiKSkKICAgIG0gPSBDYW1wYWlnbk1lbWJlcnNoaXAoY2FtcGFpZ25faWQ9Y2lkLCB1c2VyX2lkPXVpZCwgcm9sZT0icGxheWVyIiwgYXBwcm92ZWQ9RmFsc2UpCiAgICBkYi5zZXNzaW9uLmFkZChtKQogICAgZGIuc2Vzc2lvbi5jb21taXQoKQogICAgZmxhc2goIkpvaW4gcmVxdWVzdCBzZW50ISBXYWl0IGZvciBETSBvciBBZG1pbiB0byBhcHByb3ZlLiIsICJvayIpCiAgICByZXR1cm4gcmVkaXJlY3QodXJsX2ZvcigicGxheWVyLmRhc2hib2FyZCIpKQoKQHBsYXllcl9icC5nZXQoIi9jYW1wYWlnbnMvYnJvd3NlIikKZGVmIGJyb3dzZV9jYW1wYWlnbnMoKToKICAgIGlmIG5vdCBfcmVxdWlyZV9sb2dpbigpOgogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCJhdXRoLmxvZ2luX2dldCIpKQogICAgdWlkID0gc2Vzc2lvbi5nZXQoInVzZXJfaWQiKQogICAgIyBTaG93IGFjdGl2ZSBjYW1wYWlnbnMgcGxheWVyIGlzbid0IGFscmVhZHkgaW4KICAgIGFsbF9jYW1wYWlnbnMgPSBDYW1wYWlnbi5xdWVyeS5maWx0ZXJfYnkoaXNfYWN0aXZlPVRydWUpLmFsbCgpCiAgICBteV9pZHMgPSB7bS5jYW1wYWlnbl9pZCBmb3IgbSBpbiBDYW1wYWlnbk1lbWJlcnNoaXAucXVlcnkuZmlsdGVyX2J5KHVzZXJfaWQ9dWlkKS5hbGwoKX0KICAgIGF2YWlsYWJsZSA9IFtjIGZvciBjIGluIGFsbF9jYW1wYWlnbnMgaWYgYy5pZCBub3QgaW4gbXlfaWRzXQogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgicGxheWVyL2Jyb3dzZS5odG1sIiwgY2FtcGFpZ25zPWF2YWlsYWJsZSkK"
[System.IO.File]::WriteAllBytes("$root\routes\player.py", [System.Convert]::FromBase64String($b))

# --- services\__init__.py
$b = "ZnJvbSAuIGltcG9ydCBzcmRfc2VydmljZSwgb2xsYW1hX3NlcnZpY2UsIGF1dGhfc2VydmljZQo="
[System.IO.File]::WriteAllBytes("$root\services\__init__.py", [System.Convert]::FromBase64String($b))

# --- services\auth_service.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgYmNyeXB0CgpkZWYgaGFzaF9wYXNzd29yZChwbGFpbjogc3RyKSAtPiBzdHI6CiAgICByZXR1cm4gYmNyeXB0Lmhhc2hwdyhwbGFpbi5lbmNvZGUoInV0Zi04IiksIGJjcnlwdC5nZW5zYWx0KCkpLmRlY29kZSgidXRmLTgiKQoKZGVmIHZlcmlmeV9wYXNzd29yZChwbGFpbjogc3RyLCBoYXNoZWQ6IHN0cikgLT4gYm9vbDoKICAgIHRyeToKICAgICAgICByZXR1cm4gYmNyeXB0LmNoZWNrcHcocGxhaW4uZW5jb2RlKCJ1dGYtOCIpLCBoYXNoZWQuZW5jb2RlKCJ1dGYtOCIpKQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICByZXR1cm4gRmFsc2UK"
[System.IO.File]::WriteAllBytes("$root\services\auth_service.py", [System.Convert]::FromBase64String($b))

# --- services\ollama_service.py
$b = "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IGpzb24KCmRlZiBvbGxhbWFfaGVhbHRoKHVybDogc3RyKSAtPiBib29sOgogICAgdHJ5OgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQodXJsLnJzdHJpcCgiLyIpICsgIi9hcGkvdGFncyIsIHRpbWVvdXQ9MikKICAgICAgICByZXR1cm4gci5zdGF0dXNfY29kZSA9PSAyMDAKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcmV0dXJuIEZhbHNlCgpkZWYgb2xsYW1hX2NoYXQodXJsOiBzdHIsIG1vZGVsOiBzdHIsIHN5c3RlbTogc3RyLCB1c2VyX21zZzogc3RyLCBoaXN0b3J5OiBsaXN0ID0gTm9uZSkgLT4gc3RyOgogICAgdHJ5OgogICAgICAgIG1lc3NhZ2VzID0gW10KICAgICAgICBpZiBzeXN0ZW06CiAgICAgICAgICAgIG1lc3NhZ2VzLmFwcGVuZCh7InJvbGUiOiAic3lzdGVtIiwgImNvbnRlbnQiOiBzeXN0ZW19KQogICAgICAgIGZvciBoIGluIChoaXN0b3J5IG9yIFtdKToKICAgICAgICAgICAgbWVzc2FnZXMuYXBwZW5kKGgpCiAgICAgICAgbWVzc2FnZXMuYXBwZW5kKHsicm9sZSI6ICJ1c2VyIiwgImNvbnRlbnQiOiB1c2VyX21zZ30pCgogICAgICAgIHIgPSByZXF1ZXN0cy5wb3N0KAogICAgICAgICAgICB1cmwucnN0cmlwKCIvIikgKyAiL2FwaS9jaGF0IiwKICAgICAgICAgICAganNvbj17Im1vZGVsIjogbW9kZWwsICJtZXNzYWdlcyI6IG1lc3NhZ2VzLCAic3RyZWFtIjogRmFsc2V9LAogICAgICAgICAgICB0aW1lb3V0PTYwCiAgICAgICAgKQogICAgICAgIHIucmFpc2VfZm9yX3N0YXR1cygpCiAgICAgICAgZGF0YSA9IHIuanNvbigpCiAgICAgICAgcmV0dXJuIGRhdGEuZ2V0KCJtZXNzYWdlIiwge30pLmdldCgiY29udGVudCIsICIiKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybiBmIltBSSB1bmF2YWlsYWJsZToge2V9XSIKCmRlZiBidWlsZF9jaGFyYWN0ZXJfc3lzdGVtX3Byb21wdChzdGVwOiBzdHIsIGNoYXJfZGF0YTogZGljdCwgc3JkX2NvbnRleHQ6IHN0cikgLT4gc3RyOgogICAgcmV0dXJuIGYiIiJZb3UgYXJlIGEga25vd2xlZGdlYWJsZSBEJkQgNWUgRHVuZ2VvbiBNYXN0ZXIgYXNzaXN0YW50IGhlbHBpbmcgYSBwbGF5ZXIgYnVpbGQgdGhlaXIgY2hhcmFjdGVyLgpZb3UgT05MWSB1c2UgU1JEIDUuMSBydWxlcyDigJQgbm8gc3VwcGxlbWVudGFsIGJvb2tzLCBubyBob21lYnJldyB1bmxlc3MgZXhwbGljaXRseSBhcHByb3ZlZC4KCkN1cnJlbnQgY2hhcmFjdGVyIGJ1aWxkIHN0YXRlOgp7anNvbi5kdW1wcyhjaGFyX2RhdGEsIGluZGVudD0yKX0KClNSRCBSZWZlcmVuY2UgZm9yIHRoaXMgc3RlcDoKe3NyZF9jb250ZXh0fQoKQ3VycmVudCBzdGVwOiB7c3RlcH0KCkJlIGhlbHBmdWwsIGZyaWVuZGx5LCBhbmQgY29uY2lzZS4gR3VpZGUgdGhlIHBsYXllciB0aHJvdWdoIHRoZWlyIGNob2ljZXMuCkFsd2F5cyB2YWxpZGF0ZSBjaG9pY2VzIGFnYWluc3QgU1JEIHJ1bGVzLiBFeHBsYWluIHRoZSBpbXBsaWNhdGlvbnMgb2YgY2hvaWNlcy4KS2VlcCByZXNwb25zZXMgdW5kZXIgMjAwIHdvcmRzLiBBc2sgb25lIGNsZWFyIHF1ZXN0aW9uIG9yIG1ha2Ugb25lIHN1Z2dlc3Rpb24gYXQgYSB0aW1lLiIiIgo="
[System.IO.File]::WriteAllBytes("$root\services\ollama_service.py", [System.Convert]::FromBase64String($b))

# --- services\srd_service.py
$b = "IiIiClNSRCA1LjEgZGF0YSDigJQgaW1tdXRhYmxlIHNvdXJjZSBvZiB0cnV0aCBmb3IgQ2hhcmFjdGVyRm9yZ2UuCkFsbCBjaGFyYWN0ZXIgYnVpbGRzIG11c3QgdmFsaWRhdGUgYWdhaW5zdCB0aGlzIGRhdGEuCiIiIgpmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFubm90YXRpb25zCgpTUkRfUkFDRVMgPSBbCiAgICB7Im5hbWUiOiAiRHJhZ29uYm9ybiIsICJzcGVlZCI6IDMwLCAiYWJpbGl0eV9ib251c2VzIjogeyJzdHJlbmd0aCI6IDIsICJjaGFyaXNtYSI6IDF9LCAidHJhaXRzIjogWyJEcmFjb25pYyBBbmNlc3RyeSIsICJCcmVhdGggV2VhcG9uIiwgIkRhbWFnZSBSZXNpc3RhbmNlIl19LAogICAgeyJuYW1lIjogIkR3YXJmIChIaWxsKSIsICJzcGVlZCI6IDI1LCAiYWJpbGl0eV9ib251c2VzIjogeyJjb25zdGl0dXRpb24iOiAyLCAid2lzZG9tIjogMX0sICJ0cmFpdHMiOiBbIkRhcmt2aXNpb24iLCAiRHdhcnZlbiBSZXNpbGllbmNlIiwgIlN0b25lY3VubmluZyIsICJEd2FydmVuIFRvdWdobmVzcyJdfSwKICAgIHsibmFtZSI6ICJEd2FyZiAoTW91bnRhaW4pIiwgInNwZWVkIjogMjUsICJhYmlsaXR5X2JvbnVzZXMiOiB7ImNvbnN0aXR1dGlvbiI6IDIsICJzdHJlbmd0aCI6IDJ9LCAidHJhaXRzIjogWyJEYXJrdmlzaW9uIiwgIkR3YXJ2ZW4gUmVzaWxpZW5jZSIsICJTdG9uZWN1bm5pbmciLCAiRHdhcnZlbiBBcm1vciBUcmFpbmluZyJdfSwKICAgIHsibmFtZSI6ICJFbGYgKEhpZ2gpIiwgInNwZWVkIjogMzAsICJhYmlsaXR5X2JvbnVzZXMiOiB7ImRleHRlcml0eSI6IDIsICJpbnRlbGxpZ2VuY2UiOiAxfSwgInRyYWl0cyI6IFsiRGFya3Zpc2lvbiIsICJLZWVuIFNlbnNlcyIsICJGZXkgQW5jZXN0cnkiLCAiVHJhbmNlIiwgIkVsZiBXZWFwb24gVHJhaW5pbmciLCAiQ2FudHJpcCIsICJFeHRyYSBMYW5ndWFnZSJdfSwKICAgIHsibmFtZSI6ICJFbGYgKFdvb2QpIiwgInNwZWVkIjogMzUsICJhYmlsaXR5X2JvbnVzZXMiOiB7ImRleHRlcml0eSI6IDIsICJ3aXNkb20iOiAxfSwgInRyYWl0cyI6IFsiRGFya3Zpc2lvbiIsICJLZWVuIFNlbnNlcyIsICJGZXkgQW5jZXN0cnkiLCAiVHJhbmNlIiwgIkVsZiBXZWFwb24gVHJhaW5pbmciLCAiRmxlZXQgb2YgRm9vdCIsICJNYXNrIG9mIHRoZSBXaWxkIl19LAogICAgeyJuYW1lIjogIkVsZiAoRHJvdykiLCAic3BlZWQiOiAzMCwgImFiaWxpdHlfYm9udXNlcyI6IHsiZGV4dGVyaXR5IjogMiwgImNoYXJpc21hIjogMX0sICJ0cmFpdHMiOiBbIlN1cGVyaW9yIERhcmt2aXNpb24iLCAiS2VlbiBTZW5zZXMiLCAiRmV5IEFuY2VzdHJ5IiwgIlRyYW5jZSIsICJTdW5saWdodCBTZW5zaXRpdml0eSIsICJEcm93IE1hZ2ljIiwgIkRyb3cgV2VhcG9uIFRyYWluaW5nIl19LAogICAgeyJuYW1lIjogIkdub21lIChGb3Jlc3QpIiwgInNwZWVkIjogMjUsICJhYmlsaXR5X2JvbnVzZXMiOiB7ImludGVsbGlnZW5jZSI6IDIsICJkZXh0ZXJpdHkiOiAxfSwgInRyYWl0cyI6IFsiRGFya3Zpc2lvbiIsICJHbm9tZSBDdW5uaW5nIiwgIk5hdHVyYWwgSWxsdXNpb25pc3QiLCAiU3BlYWsgd2l0aCBTbWFsbCBCZWFzdHMiXX0sCiAgICB7Im5hbWUiOiAiR25vbWUgKFJvY2spIiwgInNwZWVkIjogMjUsICJhYmlsaXR5X2JvbnVzZXMiOiB7ImludGVsbGlnZW5jZSI6IDIsICJjb25zdGl0dXRpb24iOiAxfSwgInRyYWl0cyI6IFsiRGFya3Zpc2lvbiIsICJHbm9tZSBDdW5uaW5nIiwgIkFydGlmaWNlcidzIExvcmUiLCAiVGlua2VyIl19LAogICAgeyJuYW1lIjogIkhhbGYtRWxmIiwgInNwZWVkIjogMzAsICJhYmlsaXR5X2JvbnVzZXMiOiB7ImNoYXJpc21hIjogMn0sICJ0cmFpdHMiOiBbIkRhcmt2aXNpb24iLCAiRmV5IEFuY2VzdHJ5IiwgIlNraWxsIFZlcnNhdGlsaXR5Il19LAogICAgeyJuYW1lIjogIkhhbGYtT3JjIiwgInNwZWVkIjogMzAsICJhYmlsaXR5X2JvbnVzZXMiOiB7InN0cmVuZ3RoIjogMiwgImNvbnN0aXR1dGlvbiI6IDF9LCAidHJhaXRzIjogWyJEYXJrdmlzaW9uIiwgIk1lbmFjaW5nIiwgIlJlbGVudGxlc3MgRW5kdXJhbmNlIiwgIlNhdmFnZSBBdHRhY2tzIl19LAogICAgeyJuYW1lIjogIkhhbGZsaW5nIChMaWdodGZvb3QpIiwgInNwZWVkIjogMjUsICJhYmlsaXR5X2JvbnVzZXMiOiB7ImRleHRlcml0eSI6IDIsICJjaGFyaXNtYSI6IDF9LCAidHJhaXRzIjogWyJMdWNreSIsICJCcmF2ZSIsICJIYWxmbGluZyBOaW1ibGVuZXNzIiwgIk5hdHVyYWxseSBTdGVhbHRoeSJdfSwKICAgIHsibmFtZSI6ICJIYWxmbGluZyAoU3RvdXQpIiwgInNwZWVkIjogMjUsICJhYmlsaXR5X2JvbnVzZXMiOiB7ImRleHRlcml0eSI6IDIsICJjb25zdGl0dXRpb24iOiAxfSwgInRyYWl0cyI6IFsiTHVja3kiLCAiQnJhdmUiLCAiSGFsZmxpbmcgTmltYmxlbmVzcyIsICJTdG91dCBSZXNpbGllbmNlIl19LAogICAgeyJuYW1lIjogIkh1bWFuIiwgInNwZWVkIjogMzAsICJhYmlsaXR5X2JvbnVzZXMiOiB7InN0cmVuZ3RoIjogMSwgImRleHRlcml0eSI6IDEsICJjb25zdGl0dXRpb24iOiAxLCAiaW50ZWxsaWdlbmNlIjogMSwgIndpc2RvbSI6IDEsICJjaGFyaXNtYSI6IDF9LCAidHJhaXRzIjogWyJFeHRyYSBMYW5ndWFnZSJdfSwKICAgIHsibmFtZSI6ICJUaWVmbGluZyIsICJzcGVlZCI6IDMwLCAiYWJpbGl0eV9ib251c2VzIjogeyJpbnRlbGxpZ2VuY2UiOiAxLCAiY2hhcmlzbWEiOiAyfSwgInRyYWl0cyI6IFsiRGFya3Zpc2lvbiIsICJIZWxsaXNoIFJlc2lzdGFuY2UiLCAiSW5mZXJuYWwgTGVnYWN5Il19LApdCgpTUkRfQ0xBU1NFUyA9IFsKICAgIHsibmFtZSI6ICJCYXJiYXJpYW4iLCAiaGl0X2RpZSI6ICJkMTIiLCAicHJpbWFyeV9hYmlsaXR5IjogIlN0cmVuZ3RoIiwgInNhdmluZ190aHJvd3MiOiBbIlN0cmVuZ3RoIiwgIkNvbnN0aXR1dGlvbiJdLAogICAgICJhcm1vcl9wcm9maWNpZW5jaWVzIjogWyJMaWdodCBhcm1vciIsICJNZWRpdW0gYXJtb3IiLCAiU2hpZWxkcyJdLAogICAgICJ3ZWFwb25fcHJvZmljaWVuY2llcyI6IFsiU2ltcGxlIHdlYXBvbnMiLCAiTWFydGlhbCB3ZWFwb25zIl0sCiAgICAgInNraWxsX2Nob2ljZXMiOiBbIkFuaW1hbCBIYW5kbGluZyIsICJBdGhsZXRpY3MiLCAiSW50aW1pZGF0aW9uIiwgIk5hdHVyZSIsICJQZXJjZXB0aW9uIiwgIlN1cnZpdmFsIl0sICJudW1fc2tpbGxzIjogMiwKICAgICAiZmVhdHVyZXNfYnlfbGV2ZWwiOiB7MTogWyJSYWdlIiwgIlVuYXJtb3JlZCBEZWZlbnNlIl0sIDI6IFsiUmVja2xlc3MgQXR0YWNrIiwgIkRhbmdlciBTZW5zZSJdfX0sCiAgICB7Im5hbWUiOiAiQmFyZCIsICJoaXRfZGllIjogImQ4IiwgInByaW1hcnlfYWJpbGl0eSI6ICJDaGFyaXNtYSIsICJzYXZpbmdfdGhyb3dzIjogWyJEZXh0ZXJpdHkiLCAiQ2hhcmlzbWEiXSwKICAgICAiYXJtb3JfcHJvZmljaWVuY2llcyI6IFsiTGlnaHQgYXJtb3IiXSwKICAgICAid2VhcG9uX3Byb2ZpY2llbmNpZXMiOiBbIlNpbXBsZSB3ZWFwb25zIiwgIkhhbmQgY3Jvc3Nib3dzIiwgIkxvbmdzd29yZHMiLCAiUmFwaWVycyIsICJTaG9ydHN3b3JkcyJdLAogICAgICJza2lsbF9jaG9pY2VzIjogWyJBbnkiXSwgIm51bV9za2lsbHMiOiAzLAogICAgICJmZWF0dXJlc19ieV9sZXZlbCI6IHsxOiBbIlNwZWxsY2FzdGluZyIsICJCYXJkaWMgSW5zcGlyYXRpb24gKGQ2KSJdLCAyOiBbIkphY2sgb2YgQWxsIFRyYWRlcyIsICJTb25nIG9mIFJlc3QgKGQ2KSJdfX0sCiAgICB7Im5hbWUiOiAiQ2xlcmljIiwgImhpdF9kaWUiOiAiZDgiLCAicHJpbWFyeV9hYmlsaXR5IjogIldpc2RvbSIsICJzYXZpbmdfdGhyb3dzIjogWyJXaXNkb20iLCAiQ2hhcmlzbWEiXSwKICAgICAiYXJtb3JfcHJvZmljaWVuY2llcyI6IFsiTGlnaHQgYXJtb3IiLCAiTWVkaXVtIGFybW9yIiwgIlNoaWVsZHMiXSwKICAgICAid2VhcG9uX3Byb2ZpY2llbmNpZXMiOiBbIlNpbXBsZSB3ZWFwb25zIl0sCiAgICAgInNraWxsX2Nob2ljZXMiOiBbIkhpc3RvcnkiLCAiSW5zaWdodCIsICJNZWRpY2luZSIsICJQZXJzdWFzaW9uIiwgIlJlbGlnaW9uIl0sICJudW1fc2tpbGxzIjogMiwKICAgICAiZmVhdHVyZXNfYnlfbGV2ZWwiOiB7MTogWyJTcGVsbGNhc3RpbmciLCAiRGl2aW5lIERvbWFpbiJdLCAyOiBbIkNoYW5uZWwgRGl2aW5pdHkgKDEvcmVzdCkiLCAiRGl2aW5lIERvbWFpbiBGZWF0dXJlIl19fSwKICAgIHsibmFtZSI6ICJEcnVpZCIsICJoaXRfZGllIjogImQ4IiwgInByaW1hcnlfYWJpbGl0eSI6ICJXaXNkb20iLCAic2F2aW5nX3Rocm93cyI6IFsiSW50ZWxsaWdlbmNlIiwgIldpc2RvbSJdLAogICAgICJhcm1vcl9wcm9maWNpZW5jaWVzIjogWyJMaWdodCBhcm1vciAobm9ubWV0YWwpIiwgIk1lZGl1bSBhcm1vciAobm9ubWV0YWwpIiwgIlNoaWVsZHMgKG5vbm1ldGFsKSJdLAogICAgICJ3ZWFwb25fcHJvZmljaWVuY2llcyI6IFsiQ2x1YnMiLCAiRGFnZ2VycyIsICJEYXJ0cyIsICJKYXZlbGlucyIsICJNYWNlcyIsICJRdWFydGVyc3RhZmZzIiwgIlNjaW1pdGFycyIsICJTaWNrbGVzIiwgIlNsaW5ncyIsICJTcGVhcnMiXSwKICAgICAic2tpbGxfY2hvaWNlcyI6IFsiQXJjYW5hIiwgIkFuaW1hbCBIYW5kbGluZyIsICJJbnNpZ2h0IiwgIk1lZGljaW5lIiwgIk5hdHVyZSIsICJQZXJjZXB0aW9uIiwgIlJlbGlnaW9uIiwgIlN1cnZpdmFsIl0sICJudW1fc2tpbGxzIjogMiwKICAgICAiZmVhdHVyZXNfYnlfbGV2ZWwiOiB7MTogWyJEcnVpZGljIiwgIlNwZWxsY2FzdGluZyJdLCAyOiBbIldpbGQgU2hhcGUiLCAiRHJ1aWQgQ2lyY2xlIl19fSwKICAgIHsibmFtZSI6ICJGaWdodGVyIiwgImhpdF9kaWUiOiAiZDEwIiwgInByaW1hcnlfYWJpbGl0eSI6ICJTdHJlbmd0aCBvciBEZXh0ZXJpdHkiLCAic2F2aW5nX3Rocm93cyI6IFsiU3RyZW5ndGgiLCAiQ29uc3RpdHV0aW9uIl0sCiAgICAgImFybW9yX3Byb2ZpY2llbmNpZXMiOiBbIkFsbCBhcm1vciIsICJTaGllbGRzIl0sCiAgICAgIndlYXBvbl9wcm9maWNpZW5jaWVzIjogWyJTaW1wbGUgd2VhcG9ucyIsICJNYXJ0aWFsIHdlYXBvbnMiXSwKICAgICAic2tpbGxfY2hvaWNlcyI6IFsiQWNyb2JhdGljcyIsICJBbmltYWwgSGFuZGxpbmciLCAiQXRobGV0aWNzIiwgIkhpc3RvcnkiLCAiSW5zaWdodCIsICJJbnRpbWlkYXRpb24iLCAiUGVyY2VwdGlvbiIsICJTdXJ2aXZhbCJdLCAibnVtX3NraWxscyI6IDIsCiAgICAgImZlYXR1cmVzX2J5X2xldmVsIjogezE6IFsiRmlnaHRpbmcgU3R5bGUiLCAiU2Vjb25kIFdpbmQiXSwgMjogWyJBY3Rpb24gU3VyZ2UgKG9uZSB1c2UpIl19fSwKICAgIHsibmFtZSI6ICJNb25rIiwgImhpdF9kaWUiOiAiZDgiLCAicHJpbWFyeV9hYmlsaXR5IjogIkRleHRlcml0eSAmIFdpc2RvbSIsICJzYXZpbmdfdGhyb3dzIjogWyJTdHJlbmd0aCIsICJEZXh0ZXJpdHkiXSwKICAgICAiYXJtb3JfcHJvZmljaWVuY2llcyI6IFtdLAogICAgICJ3ZWFwb25fcHJvZmljaWVuY2llcyI6IFsiU2ltcGxlIHdlYXBvbnMiLCAiU2hvcnRzd29yZHMiXSwKICAgICAic2tpbGxfY2hvaWNlcyI6IFsiQWNyb2JhdGljcyIsICJBdGhsZXRpY3MiLCAiSGlzdG9yeSIsICJJbnNpZ2h0IiwgIlJlbGlnaW9uIiwgIlN0ZWFsdGgiXSwgIm51bV9za2lsbHMiOiAyLAogICAgICJmZWF0dXJlc19ieV9sZXZlbCI6IHsxOiBbIlVuYXJtb3JlZCBEZWZlbnNlIiwgIk1hcnRpYWwgQXJ0cyJdLCAyOiBbIktpIiwgIlVuYXJtb3JlZCBNb3ZlbWVudCJdfX0sCiAgICB7Im5hbWUiOiAiUGFsYWRpbiIsICJoaXRfZGllIjogImQxMCIsICJwcmltYXJ5X2FiaWxpdHkiOiAiU3RyZW5ndGggJiBDaGFyaXNtYSIsICJzYXZpbmdfdGhyb3dzIjogWyJXaXNkb20iLCAiQ2hhcmlzbWEiXSwKICAgICAiYXJtb3JfcHJvZmljaWVuY2llcyI6IFsiQWxsIGFybW9yIiwgIlNoaWVsZHMiXSwKICAgICAid2VhcG9uX3Byb2ZpY2llbmNpZXMiOiBbIlNpbXBsZSB3ZWFwb25zIiwgIk1hcnRpYWwgd2VhcG9ucyJdLAogICAgICJza2lsbF9jaG9pY2VzIjogWyJBdGhsZXRpY3MiLCAiSW5zaWdodCIsICJJbnRpbWlkYXRpb24iLCAiTWVkaWNpbmUiLCAiUGVyc3Vhc2lvbiIsICJSZWxpZ2lvbiJdLCAibnVtX3NraWxscyI6IDIsCiAgICAgImZlYXR1cmVzX2J5X2xldmVsIjogezE6IFsiRGl2aW5lIFNlbnNlIiwgIkxheSBvbiBIYW5kcyJdLCAyOiBbIkZpZ2h0aW5nIFN0eWxlIiwgIlNwZWxsY2FzdGluZyIsICJEaXZpbmUgU21pdGUiXX19LAogICAgeyJuYW1lIjogIlJhbmdlciIsICJoaXRfZGllIjogImQxMCIsICJwcmltYXJ5X2FiaWxpdHkiOiAiRGV4dGVyaXR5ICYgV2lzZG9tIiwgInNhdmluZ190aHJvd3MiOiBbIlN0cmVuZ3RoIiwgIkRleHRlcml0eSJdLAogICAgICJhcm1vcl9wcm9maWNpZW5jaWVzIjogWyJMaWdodCBhcm1vciIsICJNZWRpdW0gYXJtb3IiLCAiU2hpZWxkcyJdLAogICAgICJ3ZWFwb25fcHJvZmljaWVuY2llcyI6IFsiU2ltcGxlIHdlYXBvbnMiLCAiTWFydGlhbCB3ZWFwb25zIl0sCiAgICAgInNraWxsX2Nob2ljZXMiOiBbIkFuaW1hbCBIYW5kbGluZyIsICJBdGhsZXRpY3MiLCAiSW5zaWdodCIsICJJbnZlc3RpZ2F0aW9uIiwgIk5hdHVyZSIsICJQZXJjZXB0aW9uIiwgIlN0ZWFsdGgiLCAiU3Vydml2YWwiXSwgIm51bV9za2lsbHMiOiAzLAogICAgICJmZWF0dXJlc19ieV9sZXZlbCI6IHsxOiBbIkZhdm9yZWQgRW5lbXkiLCAiTmF0dXJhbCBFeHBsb3JlciJdLCAyOiBbIkZpZ2h0aW5nIFN0eWxlIiwgIlNwZWxsY2FzdGluZyJdfX0sCiAgICB7Im5hbWUiOiAiUm9ndWUiLCAiaGl0X2RpZSI6ICJkOCIsICJwcmltYXJ5X2FiaWxpdHkiOiAiRGV4dGVyaXR5IiwgInNhdmluZ190aHJvd3MiOiBbIkRleHRlcml0eSIsICJJbnRlbGxpZ2VuY2UiXSwKICAgICAiYXJtb3JfcHJvZmljaWVuY2llcyI6IFsiTGlnaHQgYXJtb3IiXSwKICAgICAid2VhcG9uX3Byb2ZpY2llbmNpZXMiOiBbIlNpbXBsZSB3ZWFwb25zIiwgIkhhbmQgY3Jvc3Nib3dzIiwgIkxvbmdzd29yZHMiLCAiUmFwaWVycyIsICJTaG9ydHN3b3JkcyJdLAogICAgICJza2lsbF9jaG9pY2VzIjogWyJBY3JvYmF0aWNzIiwgIkF0aGxldGljcyIsICJEZWNlcHRpb24iLCAiSW5zaWdodCIsICJJbnRpbWlkYXRpb24iLCAiSW52ZXN0aWdhdGlvbiIsICJQZXJjZXB0aW9uIiwgIlBlcmZvcm1hbmNlIiwgIlBlcnN1YXNpb24iLCAiU2xlaWdodCBvZiBIYW5kIiwgIlN0ZWFsdGgiXSwgIm51bV9za2lsbHMiOiA0LAogICAgICJmZWF0dXJlc19ieV9sZXZlbCI6IHsxOiBbIkV4cGVydGlzZSIsICJTbmVhayBBdHRhY2sgKDFkNikiLCAiVGhpZXZlcycgQ2FudCJdLCAyOiBbIkN1bm5pbmcgQWN0aW9uIl19fSwKICAgIHsibmFtZSI6ICJTb3JjZXJlciIsICJoaXRfZGllIjogImQ2IiwgInByaW1hcnlfYWJpbGl0eSI6ICJDaGFyaXNtYSIsICJzYXZpbmdfdGhyb3dzIjogWyJDb25zdGl0dXRpb24iLCAiQ2hhcmlzbWEiXSwKICAgICAiYXJtb3JfcHJvZmljaWVuY2llcyI6IFtdLAogICAgICJ3ZWFwb25fcHJvZmljaWVuY2llcyI6IFsiRGFnZ2VycyIsICJEYXJ0cyIsICJTbGluZ3MiLCAiUXVhcnRlcnN0YWZmcyIsICJMaWdodCBjcm9zc2Jvd3MiXSwKICAgICAic2tpbGxfY2hvaWNlcyI6IFsiQXJjYW5hIiwgIkRlY2VwdGlvbiIsICJJbnNpZ2h0IiwgIkludGltaWRhdGlvbiIsICJQZXJzdWFzaW9uIiwgIlJlbGlnaW9uIl0sICJudW1fc2tpbGxzIjogMiwKICAgICAiZmVhdHVyZXNfYnlfbGV2ZWwiOiB7MTogWyJTcGVsbGNhc3RpbmciLCAiU29yY2Vyb3VzIE9yaWdpbiJdLCAyOiBbIkZvbnQgb2YgTWFnaWMiXX19LAogICAgeyJuYW1lIjogIldhcmxvY2siLCAiaGl0X2RpZSI6ICJkOCIsICJwcmltYXJ5X2FiaWxpdHkiOiAiQ2hhcmlzbWEiLCAic2F2aW5nX3Rocm93cyI6IFsiV2lzZG9tIiwgIkNoYXJpc21hIl0sCiAgICAgImFybW9yX3Byb2ZpY2llbmNpZXMiOiBbIkxpZ2h0IGFybW9yIl0sCiAgICAgIndlYXBvbl9wcm9maWNpZW5jaWVzIjogWyJTaW1wbGUgd2VhcG9ucyJdLAogICAgICJza2lsbF9jaG9pY2VzIjogWyJBcmNhbmEiLCAiRGVjZXB0aW9uIiwgIkhpc3RvcnkiLCAiSW50aW1pZGF0aW9uIiwgIkludmVzdGlnYXRpb24iLCAiTmF0dXJlIiwgIlJlbGlnaW9uIl0sICJudW1fc2tpbGxzIjogMiwKICAgICAiZmVhdHVyZXNfYnlfbGV2ZWwiOiB7MTogWyJPdGhlcndvcmxkbHkgUGF0cm9uIiwgIlBhY3QgTWFnaWMiXSwgMjogWyJFbGRyaXRjaCBJbnZvY2F0aW9ucyJdfX0sCiAgICB7Im5hbWUiOiAiV2l6YXJkIiwgImhpdF9kaWUiOiAiZDYiLCAicHJpbWFyeV9hYmlsaXR5IjogIkludGVsbGlnZW5jZSIsICJzYXZpbmdfdGhyb3dzIjogWyJJbnRlbGxpZ2VuY2UiLCAiV2lzZG9tIl0sCiAgICAgImFybW9yX3Byb2ZpY2llbmNpZXMiOiBbXSwKICAgICAid2VhcG9uX3Byb2ZpY2llbmNpZXMiOiBbIkRhZ2dlcnMiLCAiRGFydHMiLCAiU2xpbmdzIiwgIlF1YXJ0ZXJzdGFmZnMiLCAiTGlnaHQgY3Jvc3Nib3dzIl0sCiAgICAgInNraWxsX2Nob2ljZXMiOiBbIkFyY2FuYSIsICJIaXN0b3J5IiwgIkluc2lnaHQiLCAiSW52ZXN0aWdhdGlvbiIsICJNZWRpY2luZSIsICJSZWxpZ2lvbiJdLCAibnVtX3NraWxscyI6IDIsCiAgICAgImZlYXR1cmVzX2J5X2xldmVsIjogezE6IFsiU3BlbGxjYXN0aW5nIiwgIkFyY2FuZSBSZWNvdmVyeSJdLCAyOiBbIkFyY2FuZSBUcmFkaXRpb24iXX19LApdCgpTUkRfQkFDS0dST1VORFMgPSBbCiAgICB7Im5hbWUiOiAiQWNvbHl0ZSIsICJza2lsbF9wcm9maWNpZW5jaWVzIjogWyJJbnNpZ2h0IiwgIlJlbGlnaW9uIl0sICJlcXVpcG1lbnQiOiBbIkhvbHkgc3ltYm9sIiwgIlByYXllciBib29rIiwgIjUgc3RpY2tzIG9mIGluY2Vuc2UiLCAiVmVzdG1lbnRzIiwgIkNvbW1vbiBjbG90aGVzIiwgIjE1IGdwIHBvdWNoIl0sICJmZWF0dXJlIjogIlNoZWx0ZXIgb2YgdGhlIEZhaXRoZnVsIn0sCiAgICB7Im5hbWUiOiAiQ3JpbWluYWwiLCAic2tpbGxfcHJvZmljaWVuY2llcyI6IFsiRGVjZXB0aW9uIiwgIlN0ZWFsdGgiXSwgImVxdWlwbWVudCI6IFsiQ3Jvd2JhciIsICJEYXJrIGNvbW1vbiBjbG90aGVzIHdpdGggaG9vZCIsICIxNSBncCBwb3VjaCJdLCAiZmVhdHVyZSI6ICJDcmltaW5hbCBDb250YWN0In0sCiAgICB7Im5hbWUiOiAiRm9sayBIZXJvIiwgInNraWxsX3Byb2ZpY2llbmNpZXMiOiBbIkFuaW1hbCBIYW5kbGluZyIsICJTdXJ2aXZhbCJdLCAiZXF1aXBtZW50IjogWyJBcnRpc2FuJ3MgdG9vbHMiLCAiU2hvdmVsIiwgIklyb24gcG90IiwgIkNvbW1vbiBjbG90aGVzIiwgIjEwIGdwIHBvdWNoIl0sICJmZWF0dXJlIjogIlJ1c3RpYyBIb3NwaXRhbGl0eSJ9LAogICAgeyJuYW1lIjogIk5vYmxlIiwgInNraWxsX3Byb2ZpY2llbmNpZXMiOiBbIkhpc3RvcnkiLCAiUGVyc3Vhc2lvbiJdLCAiZXF1aXBtZW50IjogWyJGaW5lIGNsb3RoZXMiLCAiU2lnbmV0IHJpbmciLCAiU2Nyb2xsIG9mIHBlZGlncmVlIiwgIjI1IGdwIHB1cnNlIl0sICJmZWF0dXJlIjogIlBvc2l0aW9uIG9mIFByaXZpbGVnZSJ9LAogICAgeyJuYW1lIjogIlNhZ2UiLCAic2tpbGxfcHJvZmljaWVuY2llcyI6IFsiQXJjYW5hIiwgIkhpc3RvcnkiXSwgImVxdWlwbWVudCI6IFsiQm90dGxlIG9mIGluayIsICJRdWlsbCIsICJTbWFsbCBrbmlmZSIsICJMZXR0ZXIgd2l0aCB1bmFuc3dlcmVkIHF1ZXN0aW9uIiwgIkNvbW1vbiBjbG90aGVzIiwgIjEwIGdwIHBvdWNoIl0sICJmZWF0dXJlIjogIlJlc2VhcmNoZXIifSwKICAgIHsibmFtZSI6ICJTb2xkaWVyIiwgInNraWxsX3Byb2ZpY2llbmNpZXMiOiBbIkF0aGxldGljcyIsICJJbnRpbWlkYXRpb24iXSwgImVxdWlwbWVudCI6IFsiSW5zaWduaWEgb2YgcmFuayIsICJUcm9waHkgZnJvbSBmYWxsZW4gZW5lbXkiLCAiRGVjayBvZiBjYXJkcyIsICJDb21tb24gY2xvdGhlcyIsICIxMCBncCBwb3VjaCJdLCAiZmVhdHVyZSI6ICJNaWxpdGFyeSBSYW5rIn0sCiAgICB7Im5hbWUiOiAiQ2hhcmxhdGFuIiwgInNraWxsX3Byb2ZpY2llbmNpZXMiOiBbIkRlY2VwdGlvbiIsICJTbGVpZ2h0IG9mIEhhbmQiXSwgImVxdWlwbWVudCI6IFsiRmluZSBjbG90aGVzIiwgIkRpc2d1aXNlIGtpdCIsICJDb24gdG9vbHMiLCAiMTUgZ3AgcG91Y2giXSwgImZlYXR1cmUiOiAiRmFsc2UgSWRlbnRpdHkifSwKICAgIHsibmFtZSI6ICJFbnRlcnRhaW5lciIsICJza2lsbF9wcm9maWNpZW5jaWVzIjogWyJBY3JvYmF0aWNzIiwgIlBlcmZvcm1hbmNlIl0sICJlcXVpcG1lbnQiOiBbIk11c2ljYWwgaW5zdHJ1bWVudCIsICJGYXZvciBvZiBhZG1pcmVyIiwgIkNvc3R1bWUiLCAiMTUgZ3AgcG91Y2giXSwgImZlYXR1cmUiOiAiQnkgUG9wdWxhciBEZW1hbmQifSwKICAgIHsibmFtZSI6ICJHdWlsZCBBcnRpc2FuIiwgInNraWxsX3Byb2ZpY2llbmNpZXMiOiBbIkluc2lnaHQiLCAiUGVyc3Vhc2lvbiJdLCAiZXF1aXBtZW50IjogWyJBcnRpc2FuJ3MgdG9vbHMiLCAiTGV0dGVyIG9mIGludHJvZHVjdGlvbiIsICJUcmF2ZWxlcidzIGNsb3RoZXMiLCAiMTUgZ3AgcG91Y2giXSwgImZlYXR1cmUiOiAiR3VpbGQgTWVtYmVyc2hpcCJ9LAogICAgeyJuYW1lIjogIkhlcm1pdCIsICJza2lsbF9wcm9maWNpZW5jaWVzIjogWyJNZWRpY2luZSIsICJSZWxpZ2lvbiJdLCAiZXF1aXBtZW50IjogWyJTY3JvbGwgY2FzZSB3aXRoIG5vdGVzIiwgIldpbnRlciBibGFua2V0IiwgIkNvbW1vbiBjbG90aGVzIiwgIkhlcmJhbGlzbSBraXQiLCAiNSBncCJdLCAiZmVhdHVyZSI6ICJEaXNjb3ZlcnkifSwKICAgIHsibmFtZSI6ICJPdXRsYW5kZXIiLCAic2tpbGxfcHJvZmljaWVuY2llcyI6IFsiQXRobGV0aWNzIiwgIlN1cnZpdmFsIl0sICJlcXVpcG1lbnQiOiBbIlN0YWZmIiwgIkh1bnRpbmcgdHJhcCIsICJUcm9waHkgZnJvbSBhbmltYWwiLCAiVHJhdmVsZXIncyBjbG90aGVzIiwgIjEwIGdwIHBvdWNoIl0sICJmZWF0dXJlIjogIldhbmRlcmVyIn0sCiAgICB7Im5hbWUiOiAiU2FpbG9yIiwgInNraWxsX3Byb2ZpY2llbmNpZXMiOiBbIkF0aGxldGljcyIsICJQZXJjZXB0aW9uIl0sICJlcXVpcG1lbnQiOiBbIkJlbGF5aW5nIHBpbiIsICI1MCBmZWV0IHNpbGsgcm9wZSIsICJMdWNreSBjaGFybSIsICJDb21tb24gY2xvdGhlcyIsICIxMCBncCBwb3VjaCJdLCAiZmVhdHVyZSI6ICJTaGlwJ3MgUGFzc2FnZSJ9LAogICAgeyJuYW1lIjogIlVyY2hpbiIsICJza2lsbF9wcm9maWNpZW5jaWVzIjogWyJTbGVpZ2h0IG9mIEhhbmQiLCAiU3RlYWx0aCJdLCAiZXF1aXBtZW50IjogWyJTbWFsbCBrbmlmZSIsICJNYXAgb2YgaG9tZSBjaXR5IiwgIlBldCBtb3VzZSIsICJUb2tlbiBmcm9tIHBhcmVudHMiLCAiQ29tbW9uIGNsb3RoZXMiLCAiMTAgZ3AgcG91Y2giXSwgImZlYXR1cmUiOiAiQ2l0eSBTZWNyZXRzIn0sCl0KClNSRF9BTElHTk1FTlRTID0gWwogICAgIkxhd2Z1bCBHb29kIiwgIk5ldXRyYWwgR29vZCIsICJDaGFvdGljIEdvb2QiLAogICAgIkxhd2Z1bCBOZXV0cmFsIiwgIlRydWUgTmV1dHJhbCIsICJDaGFvdGljIE5ldXRyYWwiLAogICAgIkxhd2Z1bCBFdmlsIiwgIk5ldXRyYWwgRXZpbCIsICJDaGFvdGljIEV2aWwiCl0KCkFMTF9TS0lMTFMgPSBbCiAgICB7Im5hbWUiOiAiQWNyb2JhdGljcyIsICJhYmlsaXR5IjogImRleHRlcml0eSJ9LAogICAgeyJuYW1lIjogIkFuaW1hbCBIYW5kbGluZyIsICJhYmlsaXR5IjogIndpc2RvbSJ9LAogICAgeyJuYW1lIjogIkFyY2FuYSIsICJhYmlsaXR5IjogImludGVsbGlnZW5jZSJ9LAogICAgeyJuYW1lIjogIkF0aGxldGljcyIsICJhYmlsaXR5IjogInN0cmVuZ3RoIn0sCiAgICB7Im5hbWUiOiAiRGVjZXB0aW9uIiwgImFiaWxpdHkiOiAiY2hhcmlzbWEifSwKICAgIHsibmFtZSI6ICJIaXN0b3J5IiwgImFiaWxpdHkiOiAiaW50ZWxsaWdlbmNlIn0sCiAgICB7Im5hbWUiOiAiSW5zaWdodCIsICJhYmlsaXR5IjogIndpc2RvbSJ9LAogICAgeyJuYW1lIjogIkludGltaWRhdGlvbiIsICJhYmlsaXR5IjogImNoYXJpc21hIn0sCiAgICB7Im5hbWUiOiAiSW52ZXN0aWdhdGlvbiIsICJhYmlsaXR5IjogImludGVsbGlnZW5jZSJ9LAogICAgeyJuYW1lIjogIk1lZGljaW5lIiwgImFiaWxpdHkiOiAid2lzZG9tIn0sCiAgICB7Im5hbWUiOiAiTmF0dXJlIiwgImFiaWxpdHkiOiAiaW50ZWxsaWdlbmNlIn0sCiAgICB7Im5hbWUiOiAiUGVyY2VwdGlvbiIsICJhYmlsaXR5IjogIndpc2RvbSJ9LAogICAgeyJuYW1lIjogIlBlcmZvcm1hbmNlIiwgImFiaWxpdHkiOiAiY2hhcmlzbWEifSwKICAgIHsibmFtZSI6ICJQZXJzdWFzaW9uIiwgImFiaWxpdHkiOiAiY2hhcmlzbWEifSwKICAgIHsibmFtZSI6ICJSZWxpZ2lvbiIsICJhYmlsaXR5IjogImludGVsbGlnZW5jZSJ9LAogICAgeyJuYW1lIjogIlNsZWlnaHQgb2YgSGFuZCIsICJhYmlsaXR5IjogImRleHRlcml0eSJ9LAogICAgeyJuYW1lIjogIlN0ZWFsdGgiLCAiYWJpbGl0eSI6ICJkZXh0ZXJpdHkifSwKICAgIHsibmFtZSI6ICJTdXJ2aXZhbCIsICJhYmlsaXR5IjogIndpc2RvbSJ9LApdCgpQUk9GSUNJRU5DWV9CWV9MRVZFTCA9IHsKICAgIDE6IDIsIDI6IDIsIDM6IDIsIDQ6IDIsIDU6IDMsIDY6IDMsIDc6IDMsIDg6IDMsCiAgICA5OiA0LCAxMDogNCwgMTE6IDQsIDEyOiA0LCAxMzogNSwgMTQ6IDUsIDE1OiA1LCAxNjogNSwKICAgIDE3OiA2LCAxODogNiwgMTk6IDYsIDIwOiA2LAp9CgpkZWYgZ2V0X3JhY2UobmFtZTogc3RyKSAtPiBkaWN0IHwgTm9uZToKICAgIHJldHVybiBuZXh0KChyIGZvciByIGluIFNSRF9SQUNFUyBpZiByWyJuYW1lIl0gPT0gbmFtZSksIE5vbmUpCgpkZWYgZ2V0X2NsYXNzKG5hbWU6IHN0cikgLT4gZGljdCB8IE5vbmU6CiAgICByZXR1cm4gbmV4dCgoYyBmb3IgYyBpbiBTUkRfQ0xBU1NFUyBpZiBjWyJuYW1lIl0gPT0gbmFtZSksIE5vbmUpCgpkZWYgZ2V0X2JhY2tncm91bmQobmFtZTogc3RyKSAtPiBkaWN0IHwgTm9uZToKICAgIHJldHVybiBuZXh0KChiIGZvciBiIGluIFNSRF9CQUNLR1JPVU5EUyBpZiBiWyJuYW1lIl0gPT0gbmFtZSksIE5vbmUpCgpkZWYgcHJvZmljaWVuY3lfYm9udXMobGV2ZWw6IGludCkgLT4gaW50OgogICAgcmV0dXJuIFBST0ZJQ0lFTkNZX0JZX0xFVkVMLmdldChsZXZlbCwgMikKCmRlZiBhYmlsaXR5X21vZGlmaWVyKHNjb3JlOiBpbnQpIC0+IGludDoKICAgIHJldHVybiAoc2NvcmUgLSAxMCkgLy8gMgo="
[System.IO.File]::WriteAllBytes("$root\services\srd_service.py", [System.Convert]::FromBase64String($b))

# --- static\css\app.css
$b = "LyogPT09PT0gQ2hhcmFjdGVyRm9yZ2Ug4oCUIERhcmsgRmFudGFzeSBUaGVtZSA9PT09PSAqLwpAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1DaW56ZWw6d2dodEA0MDA7NjAwOzcwMCZmYW1pbHk9Q3JpbXNvbitUZXh0Oml0YWwsd2dodEAwLDQwMDswLDYwMDsxLDQwMCZkaXNwbGF5PXN3YXAnKTsKCjpyb290IHsKICAtLWJnOiAjMGQwZTE0OwogIC0tYmcyOiAjMTMxNTFlOwogIC0tYmczOiAjMWExZDJhOwogIC0tYm9yZGVyOiAjMmEyZTQ0OwogIC0tYm9yZGVyLWdvbGQ6ICM4YTZhMjg7CiAgLS1nb2xkOiAjYzlhODRjOwogIC0tZ29sZC1saWdodDogI2U4YzU2ZTsKICAtLXJlZDogIzhiMjAyMDsKICAtLXJlZC1saWdodDogI2MwMzkyYjsKICAtLXRleHQ6ICNkNGM5YTg7CiAgLS10ZXh0LWRpbTogIzdhNzI2MjsKICAtLXRleHQtYnJpZ2h0OiAjZjBlNmNjOwogIC0tZ3JlZW46ICMyZDZhM2E7CiAgLS1ncmVlbi1saWdodDogIzRjYWY2YTsKICAtLWluazogIzZhOGZiMDsKfQoKKiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgfQoKYm9keSB7CiAgYmFja2dyb3VuZDogdmFyKC0tYmcpOwogIGNvbG9yOiB2YXIoLS10ZXh0KTsKICBmb250LWZhbWlseTogJ0NyaW1zb24gVGV4dCcsIEdlb3JnaWEsIHNlcmlmOwogIGZvbnQtc2l6ZTogMTdweDsKICBsaW5lLWhlaWdodDogMS42OwogIG1pbi1oZWlnaHQ6IDEwMHZoOwogIGJhY2tncm91bmQtaW1hZ2U6CiAgICByYWRpYWwtZ3JhZGllbnQoZWxsaXBzZSBhdCAyMCUgMjAlLCByZ2JhKDEzOSwzMiwzMiwwLjA2KSAwJSwgdHJhbnNwYXJlbnQgNTAlKSwKICAgIHJhZGlhbC1ncmFkaWVudChlbGxpcHNlIGF0IDgwJSA4MCUsIHJnYmEoNDIsNDYsNjgsMC40KSAwJSwgdHJhbnNwYXJlbnQgNTAlKTsKfQoKLyogPT09PT0gTkFWSUdBVElPTiA9PT09PSAqLwoudG9wbmF2IHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIHBhZGRpbmc6IDAgMjRweDsKICBoZWlnaHQ6IDU2cHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYmcyKTsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWdvbGQpOwogIHBvc2l0aW9uOiBzdGlja3k7IHRvcDogMDsgei1pbmRleDogMTAwOwogIGJveC1zaGFkb3c6IDAgMnB4IDIwcHggcmdiYSgwLDAsMCwwLjUpOwp9CgoubmF2LWJyYW5kIHsKICBmb250LWZhbWlseTogJ0NpbnplbCcsIHNlcmlmOwogIGZvbnQtc2l6ZTogMThweDsKICBmb250LXdlaWdodDogNzAwOwogIGNvbG9yOiB2YXIoLS1nb2xkKTsKICBsZXR0ZXItc3BhY2luZzogMXB4Owp9CgoubmF2LWxpbmtzIHsgZGlzcGxheTogZmxleDsgZ2FwOiAyMHB4OyB9Ci5uYXYtbGlua3MgYSB7CiAgY29sb3I6IHZhcigtLXRleHQtZGltKTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgZm9udC1zaXplOiAxNXB4OwogIHRyYW5zaXRpb246IGNvbG9yIDAuMnM7Cn0KLm5hdi1saW5rcyBhOmhvdmVyIHsgY29sb3I6IHZhcigtLWdvbGQpOyB9CgoubmF2LXVzZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEycHg7IH0KLm5hdi1uYW1lIHsgY29sb3I6IHZhcigtLXRleHQtZGltKTsgZm9udC1zaXplOiAxNHB4OyB9CgouYmFkZ2UgewogIGZvbnQtc2l6ZTogMTBweDsKICBmb250LWZhbWlseTogJ0NpbnplbCcsIHNlcmlmOwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgbGV0dGVyLXNwYWNpbmc6IDFweDsKICBwYWRkaW5nOiAycHggOHB4OwogIGJvcmRlci1yYWRpdXM6IDNweDsKICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwp9Ci5iYWRnZS1hZG1pbiB7IGJhY2tncm91bmQ6IHJnYmEoMTM5LDMyLDMyLDAuMyk7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXJlZCk7IGNvbG9yOiAjZTA3MDcwOyB9Ci5iYWRnZS1kbSB7IGJhY2tncm91bmQ6IHJnYmEoMjAxLDE2OCw3NiwwLjE1KTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWdvbGQpOyBjb2xvcjogdmFyKC0tZ29sZCk7IH0KLmJhZGdlLXBsYXllciB7IGJhY2tncm91bmQ6IHJnYmEoNDIsNDYsNjgsMC41KTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgY29sb3I6IHZhcigtLWluayk7IH0KCi5idG4tbG9nb3V0IHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwogIGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7CiAgcGFkZGluZzogNHB4IDEycHg7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIGZvbnQtc2l6ZTogMTNweDsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRyYW5zaXRpb246IGFsbCAwLjJzOwp9Ci5idG4tbG9nb3V0OmhvdmVyIHsgYm9yZGVyLWNvbG9yOiB2YXIoLS1yZWQpOyBjb2xvcjogI2UwNzA3MDsgfQoKLyogPT09PT0gTEFZT1VUID09PT09ICovCi5wYWdlLXdyYXAgeyBtYXgtd2lkdGg6IDEzMDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDI4cHggMjBweDsgfQoKLmZsYXNoLXdyYXAgeyBtYXJnaW4tYm90dG9tOiAyMHB4OyB9Ci5mbGFzaCB7CiAgcGFkZGluZzogMTJweCAxNnB4OwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgZm9udC1zaXplOiAxNXB4OwogIGJvcmRlci1sZWZ0OiAzcHggc29saWQgdHJhbnNwYXJlbnQ7Cn0KLmZsYXNoLW9rIHsgYmFja2dyb3VuZDogcmdiYSg0NSwxMDYsNTgsMC4yKTsgYm9yZGVyLWNvbG9yOiB2YXIoLS1ncmVlbi1saWdodCk7IGNvbG9yOiAjN2RkODlhOyB9Ci5mbGFzaC1lcnJvciB7IGJhY2tncm91bmQ6IHJnYmEoMTM5LDMyLDMyLDAuMik7IGJvcmRlci1jb2xvcjogdmFyKC0tcmVkLWxpZ2h0KTsgY29sb3I6ICNlMDcwNzA7IH0KCi8qID09PT09IFRZUE9HUkFQSFkgPT09PT0gKi8KaDEsIGgyLCBoMyB7IGZvbnQtZmFtaWx5OiAnQ2luemVsJywgc2VyaWY7IGNvbG9yOiB2YXIoLS1nb2xkKTsgfQpoMSB7IGZvbnQtc2l6ZTogMjhweDsgZm9udC13ZWlnaHQ6IDcwMDsgbWFyZ2luLWJvdHRvbTogOHB4OyB9CmgyIHsgZm9udC1zaXplOiAyMHB4OyBmb250LXdlaWdodDogNjAwOyBtYXJnaW4tYm90dG9tOiAxMnB4OyB9CmgzIHsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogNjAwOyBjb2xvcjogdmFyKC0tZ29sZC1saWdodCk7IG1hcmdpbi1ib3R0b206IDhweDsgfQoKLnN1YnRpdGxlIHsgY29sb3I6IHZhcigtLXRleHQtZGltKTsgZm9udC1zdHlsZTogaXRhbGljOyBtYXJnaW4tYm90dG9tOiAyNHB4OyB9Ci5kaXZpZGVyIHsgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWdvbGQpOyBtYXJnaW46IDIwcHggMDsgb3BhY2l0eTogMC40OyB9CgovKiA9PT09PSBQQU5FTFMgJiBDQVJEUyA9PT09PSAqLwoucGFuZWwgewogIGJhY2tncm91bmQ6IHZhcigtLWJnMik7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIHBhZGRpbmc6IDIwcHg7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQoucGFuZWwtZ29sZCB7IGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyLWdvbGQpOyB9CgovKiA9PT09PSBDQU1QQUlHTiBDQVJEUyA9PT09PSAqLwouY2FyZHMtZ3JpZCB7CiAgZGlzcGxheTogZ3JpZDsKICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7CiAgZ2FwOiAyMHB4OwogIG1hcmdpbi10b3A6IDE2cHg7Cn0KCi5jYW1wYWlnbi1jYXJkIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1iZzIpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1nb2xkKTsKICBib3JkZXItcmFkaXVzOiAxMnB4OwogIHBhZGRpbmc6IDIwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRyYW5zaXRpb246IGFsbCAwLjI1czsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgZGlzcGxheTogYmxvY2s7CiAgY29sb3I6IGluaGVyaXQ7Cn0KLmNhbXBhaWduLWNhcmQ6OmJlZm9yZSB7CiAgY29udGVudDogJyc7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7CiAgaGVpZ2h0OiAzcHg7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB2YXIoLS1yZWQpLCB2YXIoLS1nb2xkKSwgdmFyKC0tcmVkKSk7Cn0KLmNhbXBhaWduLWNhcmQ6aG92ZXIgewogIGJvcmRlci1jb2xvcjogdmFyKC0tZ29sZCk7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwogIGJveC1zaGFkb3c6IDAgOHB4IDMycHggcmdiYSgwLDAsMCwwLjQpLCAwIDAgMjBweCByZ2JhKDIwMSwxNjgsNzYsMC4xKTsKfQoKLmNhbXBhaWduLWNhcmQtbmFtZSB7CiAgZm9udC1mYW1pbHk6ICdDaW56ZWwnLCBzZXJpZjsKICBmb250LXNpemU6IDE4cHg7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBjb2xvcjogdmFyKC0tZ29sZCk7CiAgbWFyZ2luLWJvdHRvbTogOHB4Owp9Ci5jYW1wYWlnbi1jYXJkLWRlc2MgewogIGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7CiAgZm9udC1zaXplOiAxNHB4OwogIGZvbnQtc3R5bGU6IGl0YWxpYzsKICBtYXJnaW4tYm90dG9tOiAxNHB4OwogIG1pbi1oZWlnaHQ6IDQwcHg7Cn0KLmNhbXBhaWduLWNhcmQtbWV0YSB7CiAgZGlzcGxheTogZmxleDsKICBnYXA6IDE2cHg7CiAgZm9udC1zaXplOiAxM3B4OwogIGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7Cn0KLmNhbXBhaWduLWNhcmQtbWV0YSBzcGFuIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA0cHg7IH0KCi8qID09PT09IENIQVJBQ1RFUiBDQVJEUyA9PT09PSAqLwouY2hhci1jYXJkcy1ncmlkIHsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDIyMHB4LCAxZnIpKTsKICBnYXA6IDE2cHg7CiAgbWFyZ2luLXRvcDogMTJweDsKfQoKLmNoYXItY2FyZCB7CiAgYmFja2dyb3VuZDogdmFyKC0tYmczKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGRpc3BsYXk6IGJsb2NrOwp9Ci5jaGFyLWNhcmQ6aG92ZXIgewogIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyLWdvbGQpOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICBib3gtc2hhZG93OiAwIDZweCAyNHB4IHJnYmEoMCwwLDAsMC40KTsKfQouY2hhci1jYXJkLm5wYy1jYXJkIHsgYm9yZGVyLWNvbG9yOiByZ2JhKDEzOSwzMiwzMiwwLjQpOyB9Ci5jaGFyLWNhcmQubnBjLWNhcmQ6aG92ZXIgeyBib3JkZXItY29sb3I6IHZhcigtLXJlZCk7IH0KCi5jaGFyLWNhcmQtaGVhZGVyIHsKICBwYWRkaW5nOiAxNHB4IDE0cHggMTBweDsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2JhKDIwMSwxNjgsNzYsMC4wOCksIHRyYW5zcGFyZW50KTsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsKfQouY2hhci1jYXJkLW5hbWUgewogIGZvbnQtZmFtaWx5OiAnQ2luemVsJywgc2VyaWY7CiAgZm9udC1zaXplOiAxNXB4OwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgY29sb3I6IHZhcigtLXRleHQtYnJpZ2h0KTsKICBtYXJnaW4tYm90dG9tOiA0cHg7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwp9Ci5jaGFyLWNhcmQtY2xhc3MgewogIGZvbnQtc2l6ZTogMTNweDsKICBjb2xvcjogdmFyKC0tZ29sZCk7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9Ci5jaGFyLWNhcmQtYm9keSB7CiAgcGFkZGluZzogMTBweCAxNHB4OwogIGRpc3BsYXk6IGdyaWQ7CiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOwogIGdhcDogNnB4OwogIGZvbnQtc2l6ZTogMTNweDsKfQouY2hhci1zdGF0IHsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfQouY2hhci1zdGF0LWxhYmVsIHsgY29sb3I6IHZhcigtLXRleHQtZGltKTsgZm9udC1zaXplOiAxMXB4OyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBsZXR0ZXItc3BhY2luZzogMC41cHg7IH0KLmNoYXItc3RhdC12YWwgeyBjb2xvcjogdmFyKC0tdGV4dC1icmlnaHQpOyBmb250LXdlaWdodDogNjAwOyB9CgoubnBjLWJhZGdlIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgYmFja2dyb3VuZDogcmdiYSgxMzksMzIsMzIsMC4zKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1yZWQpOwogIGNvbG9yOiAjZTA3MDcwOwogIGZvbnQtc2l6ZTogMTBweDsKICBmb250LWZhbWlseTogJ0NpbnplbCcsIHNlcmlmOwogIHBhZGRpbmc6IDFweCA2cHg7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIG1hcmdpbi1sZWZ0OiA2cHg7Cn0KCi8qID09PT09IEZPUk1TID09PT09ICovCi5mb3JtLXBhbmVsIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1iZzIpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1nb2xkKTsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIHBhZGRpbmc6IDI4cHg7CiAgbWF4LXdpZHRoOiA1NjBweDsKfQoKbGFiZWwgewogIGRpc3BsYXk6IGJsb2NrOwogIGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7CiAgZm9udC1zaXplOiAxM3B4OwogIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgbGV0dGVyLXNwYWNpbmc6IDAuOHB4OwogIG1hcmdpbi1ib3R0b206IDZweDsKICBtYXJnaW4tdG9wOiAxNnB4OwogIGZvbnQtZmFtaWx5OiAnQ2luemVsJywgc2VyaWY7Cn0KbGFiZWw6Zmlyc3QtY2hpbGQgeyBtYXJnaW4tdG9wOiAwOyB9CgppbnB1dFt0eXBlPSJ0ZXh0Il0sIGlucHV0W3R5cGU9InBhc3N3b3JkIl0sIGlucHV0W3R5cGU9Im51bWJlciJdLCBzZWxlY3QsIHRleHRhcmVhIHsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kOiB2YXIoLS1iZzMpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7CiAgYm9yZGVyLXJhZGl1czogNnB4OwogIGNvbG9yOiB2YXIoLS10ZXh0KTsKICBwYWRkaW5nOiAxMHB4IDE0cHg7CiAgZm9udC1mYW1pbHk6ICdDcmltc29uIFRleHQnLCBHZW9yZ2lhLCBzZXJpZjsKICBmb250LXNpemU6IDE2cHg7CiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnM7CiAgb3V0bGluZTogbm9uZTsKfQppbnB1dDpmb2N1cywgc2VsZWN0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cyB7IGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyLWdvbGQpOyB9CnNlbGVjdCB7IGN1cnNvcjogcG9pbnRlcjsgfQpzZWxlY3Qgb3B0aW9uIHsgYmFja2dyb3VuZDogdmFyKC0tYmczKTsgfQoKdGV4dGFyZWEgeyByZXNpemU6IHZlcnRpY2FsOyBtaW4taGVpZ2h0OiA4MHB4OyB9CgouZm9ybS1yb3cgeyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEycHg7IH0KLmZvcm0tcm93ID4gKiB7IGZsZXg6IDE7IH0KCi8qID09PT09IEJVVFRPTlMgPT09PT0gKi8KLmJ0biB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBhZGRpbmc6IDEwcHggMjBweDsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgZm9udC1mYW1pbHk6ICdDaW56ZWwnLCBzZXJpZjsKICBmb250LXNpemU6IDEzcHg7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBsZXR0ZXItc3BhY2luZzogMC41cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICB0cmFuc2l0aW9uOiBhbGwgMC4yczsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmJ0bi1wcmltYXJ5IHsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjOGE2YTI4LCAjYzlhODRjKTsKICBjb2xvcjogIzBkMGUxNDsKICBib3JkZXItY29sb3I6IHZhcigtLWdvbGQpOwogIG1hcmdpbi10b3A6IDIwcHg7Cn0KLmJ0bi1wcmltYXJ5OmhvdmVyIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2M5YTg0YywgI2U4YzU2ZSk7IH0KLmJ0bi1kYW5nZXIgewogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGNvbG9yOiAjZTA3MDcwOwogIGJvcmRlci1jb2xvcjogdmFyKC0tcmVkKTsKfQouYnRuLWRhbmdlcjpob3ZlciB7IGJhY2tncm91bmQ6IHJnYmEoMTM5LDMyLDMyLDAuMik7IH0KLmJ0bi1zbSB7IHBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDA7IH0KLmJ0bi1zZWNvbmRhcnkgewogIGJhY2tncm91bmQ6IHZhcigtLWJnMyk7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOwogIGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7Cn0KLmJ0bi1zZWNvbmRhcnk6aG92ZXIgeyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlci1nb2xkKTsgY29sb3I6IHZhcigtLXRleHQpOyB9Ci5idG4tZ2hvc3QgeyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOyBjb2xvcjogdmFyKC0tdGV4dC1kaW0pOyB9Ci5idG4tZ2hvc3Q6aG92ZXIgeyBib3JkZXItY29sb3I6IHZhcigtLWdvbGQpOyBjb2xvcjogdmFyKC0tZ29sZCk7IH0KCi8qID09PT09IExPR0lOIFBBR0UgPT09PT0gKi8KLmxvZ2luLXdyYXAgewogIG1pbi1oZWlnaHQ6IDEwMHZoOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBwYWRkaW5nOiAyMHB4OwogIGJhY2tncm91bmQtaW1hZ2U6CiAgICByYWRpYWwtZ3JhZGllbnQoZWxsaXBzZSBhdCAzMCUgNDAlLCByZ2JhKDEzOSwzMiwzMiwwLjEpIDAlLCB0cmFuc3BhcmVudCA2MCUpLAogICAgcmFkaWFsLWdyYWRpZW50KGVsbGlwc2UgYXQgNzAlIDYwJSwgcmdiYSgyMDEsMTY4LDc2LDAuMDUpIDAlLCB0cmFuc3BhcmVudCA2MCUpOwp9Ci5sb2dpbi1ib3ggewogIHdpZHRoOiAxMDAlOwogIG1heC13aWR0aDogNDQwcHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYmcyKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItZ29sZCk7CiAgYm9yZGVyLXJhZGl1czogMTRweDsKICBwYWRkaW5nOiA0MHB4OwogIGJveC1zaGFkb3c6IDAgMjBweCA2MHB4IHJnYmEoMCwwLDAsMC42KTsKfQoubG9naW4tdGl0bGUgewogIGZvbnQtZmFtaWx5OiAnQ2luemVsJywgc2VyaWY7CiAgZm9udC1zaXplOiAzMHB4OwogIGZvbnQtd2VpZ2h0OiA3MDA7CiAgY29sb3I6IHZhcigtLWdvbGQpOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBtYXJnaW4tYm90dG9tOiA0cHg7Cn0KLmxvZ2luLXN1YiB7CiAgY29sb3I6IHZhcigtLXRleHQtZGltKTsKICBmb250LXN0eWxlOiBpdGFsaWM7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbi1ib3R0b206IDI4cHg7CiAgZm9udC1zaXplOiAxNXB4Owp9Ci5yb2xlLXNlbGVjdG9yIHsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogOHB4OwogIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KLnJvbGUtYnRuIHsKICBmbGV4OiAxOwogIHBhZGRpbmc6IDEwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYmczKTsKICBjb2xvcjogdmFyKC0tdGV4dC1kaW0pOwogIGZvbnQtZmFtaWx5OiAnQ2luemVsJywgc2VyaWY7CiAgZm9udC1zaXplOiAxMnB4OwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OwogIGN1cnNvcjogcG9pbnRlcjsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7Cn0KLnJvbGUtYnRuOmhvdmVyIHsgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXItZ29sZCk7IGNvbG9yOiB2YXIoLS1nb2xkKTsgfQoucm9sZS1idG4uYWN0aXZlIHsgYm9yZGVyLWNvbG9yOiB2YXIoLS1nb2xkKTsgYmFja2dyb3VuZDogcmdiYSgyMDEsMTY4LDc2LDAuMSk7IGNvbG9yOiB2YXIoLS1nb2xkKTsgfQoKLyogPT09PT0gQ0hBUkFDVEVSIFNIRUVUID09PT09ICovCi5zaGVldC13cmFwIHsgbWF4LXdpZHRoOiA5NjBweDsgfQouc2hlZXQtaGVhZGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKICBmbGV4LXdyYXA6IHdyYXA7CiAgZ2FwOiAxMnB4Owp9Ci5zaGVldC1pZGVudGl0eSBoMSB7IGZvbnQtc2l6ZTogMzJweDsgbWFyZ2luLWJvdHRvbTogMnB4OyB9Ci5zaGVldC1tZXRhIHsgY29sb3I6IHZhcigtLXRleHQtZGltKTsgZm9udC1zdHlsZTogaXRhbGljOyBmb250LXNpemU6IDE2cHg7IH0KCi5zdGF0LWJsb2NrIHsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDYsIDFmcik7CiAgZ2FwOiAxMHB4OwogIG1hcmdpbjogMTZweCAwOwp9Ci5zdGF0LWJveCB7CiAgYmFja2dyb3VuZDogdmFyKC0tYmczKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItZ29sZCk7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIHBhZGRpbmc6IDEycHggOHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQouc3RhdC1uYW1lIHsgZm9udC1zaXplOiAxMHB4OyBmb250LWZhbWlseTogJ0NpbnplbCcsIHNlcmlmOyBjb2xvcjogdmFyKC0tdGV4dC1kaW0pOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBsZXR0ZXItc3BhY2luZzogMC41cHg7IH0KLnN0YXQtc2NvcmUgeyBmb250LXNpemU6IDI2cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0LWJyaWdodCk7IGZvbnQtZmFtaWx5OiAnQ2luemVsJywgc2VyaWY7IH0KLnN0YXQtbW9kIHsKICBmb250LXNpemU6IDE0cHg7CiAgY29sb3I6IHZhcigtLWdvbGQpOwogIG1hcmdpbi10b3A6IDJweDsKfQoKLmNvbWJhdC1zdGF0cyB7CiAgZGlzcGxheTogZ3JpZDsKICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgxMjBweCwgMWZyKSk7CiAgZ2FwOiAxMHB4OwogIG1hcmdpbjogMTZweCAwOwp9Ci5jb21iYXQtc3RhdCB7CiAgYmFja2dyb3VuZDogdmFyKC0tYmczKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwYWRkaW5nOiAxMHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQouY29tYmF0LXN0YXQtbGFiZWwgeyBmb250LXNpemU6IDExcHg7IGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7IGZvbnQtZmFtaWx5OiAnQ2luemVsJywgc2VyaWY7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IH0KLmNvbWJhdC1zdGF0LXZhbCB7IGZvbnQtc2l6ZTogMjJweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQtYnJpZ2h0KTsgfQoKLnNoZWV0LWNvbHMgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTZweDsgbWFyZ2luLXRvcDogMTZweDsgfQpAbWVkaWEobWF4LXdpZHRoOiA3MDBweCkgeyAuc2hlZXQtY29scyB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9IC5zdGF0LWJsb2NrIHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgfSB9Cgouc2tpbGwtbGlzdCB7IGxpc3Qtc3R5bGU6IG5vbmU7IH0KLnNraWxsLWxpc3QgbGkgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIHBhZGRpbmc6IDRweCAwOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDQyLDQ2LDY4LDAuNSk7CiAgZm9udC1zaXplOiAxNHB4Owp9Ci5za2lsbC1saXN0IGxpIC5za2lsbC1uYW1lIHsgY29sb3I6IHZhcigtLXRleHQpOyB9Ci5za2lsbC1saXN0IGxpIC5za2lsbC1tb2QgeyBjb2xvcjogdmFyKC0tZ29sZCk7IGZvbnQtd2VpZ2h0OiA2MDA7IH0KLnNraWxsLWxpc3QgbGkucHJvZmljaWVudCAuc2tpbGwtbmFtZTo6YmVmb3JlIHsgY29udGVudDogJ+KXjyAnOyBjb2xvcjogdmFyKC0tZ29sZC1saWdodCk7IH0KCi5mZWF0dXJlLXRhZyB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGJhY2tncm91bmQ6IHJnYmEoMjAxLDE2OCw3NiwwLjEpOwogIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjAxLDE2OCw3NiwwLjIpOwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBwYWRkaW5nOiAzcHggMTBweDsKICBmb250LXNpemU6IDEzcHg7CiAgY29sb3I6IHZhcigtLWdvbGQtbGlnaHQpOwogIG1hcmdpbjogM3B4Owp9CgovKiA9PT09PSBUQUJMRVMgPT09PT0gKi8KLmRhdGEtdGFibGUgeyB3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgZm9udC1zaXplOiAxNHB4OyB9Ci5kYXRhLXRhYmxlIHRoIHsKICBmb250LWZhbWlseTogJ0NpbnplbCcsIHNlcmlmOwogIGZvbnQtc2l6ZTogMTFweDsKICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogIGxldHRlci1zcGFjaW5nOiAwLjVweDsKICBjb2xvcjogdmFyKC0tdGV4dC1kaW0pOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItZ29sZCk7CiAgcGFkZGluZzogOHB4IDEwcHg7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQouZGF0YS10YWJsZSB0ZCB7IHBhZGRpbmc6IDlweCAxMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgfQouZGF0YS10YWJsZSB0cjpob3ZlciB0ZCB7IGJhY2tncm91bmQ6IHJnYmEoMjAxLDE2OCw3NiwwLjAzKTsgfQoKLyogPT09PT0gSFAgQkFSID09PT09ICovCi5ocC1iYXItd3JhcCB7IG1hcmdpbjogNHB4IDA7IH0KLmhwLWJhci10cmFjayB7IGJhY2tncm91bmQ6IHZhcigtLWJnMyk7IGJvcmRlci1yYWRpdXM6IDRweDsgaGVpZ2h0OiA2cHg7IG92ZXJmbG93OiBoaWRkZW47IH0KLmhwLWJhci1maWxsIHsgaGVpZ2h0OiAxMDAlOyBib3JkZXItcmFkaXVzOiA0cHg7IHRyYW5zaXRpb246IHdpZHRoIDAuM3M7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdmFyKC0tZ3JlZW4pLCB2YXIoLS1ncmVlbi1saWdodCkpOyB9Ci5ocC10ZXh0IHsgZm9udC1zaXplOiAxM3B4OyBjb2xvcjogdmFyKC0tdGV4dC1kaW0pOyBtYXJnaW4tdG9wOiAzcHg7IH0KCi8qID09PT09IE1PREFMID09PT09ICovCi5tb2RhbC1vdmVybGF5IHsKICBkaXNwbGF5OiBub25lOwogIHBvc2l0aW9uOiBmaXhlZDsKICBpbnNldDogMDsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNzUpOwogIHotaW5kZXg6IDEwMDA7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBwYWRkaW5nOiAyMHB4Owp9Ci5tb2RhbC1vdmVybGF5Lm9wZW4geyBkaXNwbGF5OiBmbGV4OyB9Ci5tb2RhbCB7CiAgYmFja2dyb3VuZDogdmFyKC0tYmcyKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItZ29sZCk7CiAgYm9yZGVyLXJhZGl1czogMTRweDsKICBwYWRkaW5nOiAyOHB4OwogIG1heC13aWR0aDogNjgwcHg7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LWhlaWdodDogODV2aDsKICBvdmVyZmxvdy15OiBhdXRvOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoubW9kYWwtY2xvc2UgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDE0cHg7IHJpZ2h0OiAxOHB4OwogIGJhY2tncm91bmQ6IG5vbmU7IGJvcmRlcjogbm9uZTsKICBjb2xvcjogdmFyKC0tdGV4dC1kaW0pOyBmb250LXNpemU6IDIycHg7IGN1cnNvcjogcG9pbnRlcjsKfQoubW9kYWwtY2xvc2U6aG92ZXIgeyBjb2xvcjogdmFyKC0tcmVkLWxpZ2h0KTsgfQoKLyogPT09PT0gQUkgQ0hBVCA9PT09PSAqLwouYWktY2hhdC1ib3ggewogIGJhY2tncm91bmQ6IHZhcigtLWJnMyk7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgaGVpZ2h0OiAxODBweDsKICBvdmVyZmxvdy15OiBhdXRvOwogIHBhZGRpbmc6IDEycHg7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKICBmb250LXNpemU6IDE0cHg7Cn0KLmFpLW1zZyB7IG1hcmdpbi1ib3R0b206IDhweDsgbGluZS1oZWlnaHQ6IDEuNTsgfQouYWktbXNnLmRtIHsgY29sb3I6IHZhcigtLWdvbGQpOyBmb250LXN0eWxlOiBpdGFsaWM7IH0KLmFpLW1zZy51c2VyIHsgY29sb3I6IHZhcigtLWluayk7IH0KLmFpLWlucHV0LXJvdyB7IGRpc3BsYXk6IGZsZXg7IGdhcDogOHB4OyB9Ci5haS1pbnB1dCB7IGZsZXg6IDE7IH0KCi8qID09PT09IFdJWkFSRCA9PT09PSAqLwoud2l6YXJkLXN0ZXBzIHsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMDsKICBtYXJnaW4tYm90dG9tOiAyOHB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwp9Ci53aXphcmQtc3RlcCB7CiAgcGFkZGluZzogMTBweCAxNnB4OwogIGZvbnQtZmFtaWx5OiAnQ2luemVsJywgc2VyaWY7CiAgZm9udC1zaXplOiAxMnB4OwogIGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHRyYW5zcGFyZW50OwogIGN1cnNvcjogZGVmYXVsdDsKfQoud2l6YXJkLXN0ZXAuYWN0aXZlIHsgY29sb3I6IHZhcigtLWdvbGQpOyBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1nb2xkKTsgfQoud2l6YXJkLXN0ZXAuZG9uZSB7IGNvbG9yOiB2YXIoLS1ncmVlbi1saWdodCk7IGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLWdyZWVuKTsgfQoKLmFiaWxpdHktZ3JpZCB7CiAgZGlzcGxheTogZ3JpZDsKICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpOwogIGdhcDogMTJweDsKfQouYWJpbGl0eS1ib3ggeyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KLmFiaWxpdHktYm94IGxhYmVsIHsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tYm90dG9tOiA0cHg7IH0KLmFiaWxpdHktYm94IGlucHV0IHsgdGV4dC1hbGlnbjogY2VudGVyOyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IH0KCi8qID09PT09IFJFU1BPTlNJVkUgPT09PT0gKi8KQG1lZGlhKG1heC13aWR0aDogNjAwcHgpIHsKICAudG9wbmF2IHsgZmxleC13cmFwOiB3cmFwOyBoZWlnaHQ6IGF1dG87IHBhZGRpbmc6IDEwcHg7IGdhcDogOHB4OyB9CiAgLnN0YXQtYmxvY2sgeyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpOyB9CiAgLmNvbWJhdC1zdGF0cyB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7IH0KICAuY2FyZHMtZ3JpZCB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9CiAgLmZvcm0tcm93IHsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfQp9CgovKiA9PT09PSBNSVNDID09PT09ICovCi5lbXB0eS1zdGF0ZSB7IGNvbG9yOiB2YXIoLS10ZXh0LWRpbSk7IGZvbnQtc3R5bGU6IGl0YWxpYzsgcGFkZGluZzogMzJweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9Ci50YWcgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHBhZGRpbmc6IDJweCA4cHg7IGJvcmRlci1yYWRpdXM6IDRweDsgZm9udC1zaXplOiAxMnB4OyB9Ci5wZW5kaW5nLWRvdCB7IHdpZHRoOiA4cHg7IGhlaWdodDogOHB4OyBib3JkZXItcmFkaXVzOiA1MCU7IGJhY2tncm91bmQ6IHZhcigtLWdvbGQpOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1hcmdpbi1yaWdodDogNnB4OyBhbmltYXRpb246IHB1bHNlIDJzIGluZmluaXRlOyB9CkBrZXlmcmFtZXMgcHVsc2UgeyAwJSwgMTAwJSB7IG9wYWNpdHk6IDE7IH0gNTAlIHsgb3BhY2l0eTogMC40OyB9IH0KYSB7IGNvbG9yOiB2YXIoLS1pbmspOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH0KYTpob3ZlciB7IGNvbG9yOiB2YXIoLS1nb2xkLWxpZ2h0KTsgfQoubXQgeyBtYXJnaW4tdG9wOiAxNnB4OyB9Ci5tYiB7IG1hcmdpbi1ib3R0b206IDE2cHg7IH0KLnRleHQtZ29sZCB7IGNvbG9yOiB2YXIoLS1nb2xkKTsgfQoudGV4dC1kaW0geyBjb2xvcjogdmFyKC0tdGV4dC1kaW0pOyBmb250LXN0eWxlOiBpdGFsaWM7IH0KLnRleHQtcmVkIHsgY29sb3I6ICNlMDcwNzA7IH0KLmZsZXggeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEwcHg7IH0KLmp1c3RpZnktYmV0d2VlbiB7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgfQo="
[System.IO.File]::WriteAllBytes("$root\static\css\app.css", [System.Convert]::FromBase64String($b))

# --- static\js\app.js
$b = "Ly8gQ2hhcmFjdGVyRm9yZ2Ug4oCUIE1haW4gSlMKCi8vIFJvbGUgc2VsZWN0b3Igb24gbG9naW4gcGFnZQpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm9sZS1idG4nKS5mb3JFYWNoKGJ0biA9PiB7CiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvbGUtYnRuJykuZm9yRWFjaChiID0+IGIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpOwogICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgY29uc3Qgcm9sZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvbGUtaW5wdXQnKTsKICAgIGlmIChyb2xlSW5wdXQpIHJvbGVJbnB1dC52YWx1ZSA9IGJ0bi5kYXRhc2V0LnJvbGU7CiAgfSk7Cn0pOwoKLy8gQXV0by1zZWxlY3QgZmlyc3Qgcm9sZSBidG4KY29uc3QgZmlyc3RSb2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvbGUtYnRuJyk7CmlmIChmaXJzdFJvbGUpIGZpcnN0Um9sZS5jbGljaygpOwoKLy8gTW9kYWwgaGFuZGxpbmcKZnVuY3Rpb24gb3Blbk1vZGFsKGlkKSB7CiAgY29uc3QgbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICBpZiAobSkgbS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7Cn0KZnVuY3Rpb24gY2xvc2VNb2RhbChpZCkgewogIGNvbnN0IG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7CiAgaWYgKG0pIG0uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpOwp9CmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbC1jbG9zZScpLmZvckVhY2goYnRuID0+IHsKICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICBidG4uY2xvc2VzdCgnLm1vZGFsLW92ZXJsYXknKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgfSk7Cn0pOwpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtb3ZlcmxheScpLmZvckVhY2gob3ZlcmxheSA9PiB7CiAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICBpZiAoZS50YXJnZXQgPT09IG92ZXJsYXkpIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpOwogIH0pOwp9KTsKCi8vIEFiaWxpdHkgc2NvcmUgbW9kaWZpZXIgZGlzcGxheQpmdW5jdGlvbiBhYmlsaXR5TW9kKHNjb3JlKSB7CiAgY29uc3QgbW9kID0gTWF0aC5mbG9vcigoc2NvcmUgLSAxMCkgLyAyKTsKICByZXR1cm4gKG1vZCA+PSAwID8gJysnIDogJycpICsgbW9kOwp9CmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hYmlsaXR5LXNjb3JlLWlucHV0JykuZm9yRWFjaChpbnB1dCA9PiB7CiAgY29uc3QgbW9kRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kLScgKyBpbnB1dC5pZCk7CiAgZnVuY3Rpb24gdXBkYXRlKCkgewogICAgaWYgKG1vZEVsKSBtb2RFbC50ZXh0Q29udGVudCA9IGFiaWxpdHlNb2QocGFyc2VJbnQoaW5wdXQudmFsdWUpIHx8IDEwKTsKICB9CiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGUpOwogIHVwZGF0ZSgpOwp9KTsKCi8vIENvbmZpcm0gZGFuZ2Vyb3VzIGFjdGlvbnMKZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbmZpcm0tYWN0aW9uJykuZm9yRWFjaChmb3JtID0+IHsKICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7CiAgICBjb25zdCBtc2cgPSBmb3JtLmRhdGFzZXQuY29uZmlybSB8fCAnQXJlIHlvdSBzdXJlPyc7CiAgICBpZiAoIWNvbmZpcm0obXNnKSkgZS5wcmV2ZW50RGVmYXVsdCgpOwogIH0pOwp9KTsKCi8vIEFJIENoYXQgZm9yIGNoYXJhY3RlciB3aXphcmQKY29uc3QgYWlDaGF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtYm94Jyk7CmNvbnN0IGFpSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktaW5wdXQnKTsKY29uc3QgYWlTZW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLXNlbmQnKTsKCmZ1bmN0aW9uIGFwcGVuZE1zZyh0ZXh0LCByb2xlKSB7CiAgaWYgKCFhaUNoYXQpIHJldHVybjsKICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBkaXYuY2xhc3NOYW1lID0gJ2FpLW1zZyAnICsgcm9sZTsKICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0OwogIGFpQ2hhdC5hcHBlbmRDaGlsZChkaXYpOwogIGFpQ2hhdC5zY3JvbGxUb3AgPSBhaUNoYXQuc2Nyb2xsSGVpZ2h0Owp9Cgphc3luYyBmdW5jdGlvbiBzZW5kQWlNZXNzYWdlKCkgewogIGlmICghYWlJbnB1dCB8fCAhYWlDaGF0KSByZXR1cm47CiAgY29uc3QgbXNnID0gYWlJbnB1dC52YWx1ZS50cmltKCk7CiAgaWYgKCFtc2cpIHJldHVybjsKICBhcHBlbmRNc2cobXNnLCAndXNlcicpOwogIGFpSW5wdXQudmFsdWUgPSAnJzsKICBhaVNlbmQuZGlzYWJsZWQgPSB0cnVlOwoKICAvLyBHYXRoZXIgY3VycmVudCBjaGFyYWN0ZXIgc3RhdGUgZnJvbSBmb3JtCiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFyLXdpemFyZC1mb3JtJyk7CiAgY29uc3QgY2hhckRhdGEgPSB7fTsKICBpZiAoZm9ybSkgewogICAgbmV3IEZvcm1EYXRhKGZvcm0pLmZvckVhY2goKHYsIGspID0+IGNoYXJEYXRhW2tdID0gdik7CiAgfQoKICB0cnkgewogICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9jaGFyYWN0ZXJzL2FpX3N1Z2dlc3QnLCB7CiAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBzdGVwOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudC1zdGVwJyk/LnZhbHVlIHx8ICdnZW5lcmFsJywKICAgICAgICBjaGFyYWN0ZXI6IGNoYXJEYXRhLAogICAgICAgIG1lc3NhZ2U6IG1zZwogICAgICB9KQogICAgfSk7CiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgIGFwcGVuZE1zZyhkYXRhLnJlcGx5IHx8ICcobm8gcmVzcG9uc2UpJywgJ2RtJyk7CiAgfSBjYXRjaCAoZSkgewogICAgYXBwZW5kTXNnKCdbQUkgdW5hdmFpbGFibGVdJywgJ2RtJyk7CiAgfQogIGFpU2VuZC5kaXNhYmxlZCA9IGZhbHNlOwp9CgppZiAoYWlTZW5kKSBhaVNlbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZW5kQWlNZXNzYWdlKTsKaWYgKGFpSW5wdXQpIGFpSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4geyBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHNlbmRBaU1lc3NhZ2UoKTsgfSk7CgovLyBIUCBiYXIgdXBkYXRlCmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ocC1iYXItZmlsbCcpLmZvckVhY2goYmFyID0+IHsKICBjb25zdCBjdXIgPSBwYXJzZUludChiYXIuZGF0YXNldC5jdXIpIHx8IDA7CiAgY29uc3QgbWF4ID0gcGFyc2VJbnQoYmFyLmRhdGFzZXQubWF4KSB8fCAxOwogIGJhci5zdHlsZS53aWR0aCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgKGN1ciAvIG1heCkgKiAxMDApKSArICclJzsKICBpZiAoY3VyIC8gbWF4IDwgMC4yNSkgYmFyLnN0eWxlLmJhY2tncm91bmQgPSAnbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjN2EyMDIwLCAjYzAzOTJiKSc7CiAgZWxzZSBpZiAoY3VyIC8gbWF4IDwgMC41KSBiYXIuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQoOTBkZWcsICM3YTVmMjAsICNjOWE4NGMpJzsKfSk7CgovLyBXaXphcmQgc3RlcCBuYXZpZ2F0aW9uCmNvbnN0IHdpemFyZFN0ZXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndpemFyZC1zZWN0aW9uJyk7CmxldCBjdXJyZW50U3RlcCA9IDA7CgpmdW5jdGlvbiBzaG93U3RlcChpZHgpIHsKICB3aXphcmRTdGVwcy5mb3JFYWNoKChzLCBpKSA9PiBzLnN0eWxlLmRpc3BsYXkgPSBpID09PSBpZHggPyAnYmxvY2snIDogJ25vbmUnKTsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcud2l6YXJkLXN0ZXAnKS5mb3JFYWNoKChzLCBpKSA9PiB7CiAgICBzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGkgPT09IGlkeCk7CiAgICBzLmNsYXNzTGlzdC50b2dnbGUoJ2RvbmUnLCBpIDwgaWR4KTsKICB9KTsKICBjb25zdCBjdXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudC1zdGVwJyk7CiAgaWYgKGN1cikgY3VyLnZhbHVlID0gd2l6YXJkU3RlcHNbaWR4XT8uZGF0YXNldC5zdGVwIHx8ICdnZW5lcmFsJzsKfQoKZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndpemFyZC1uZXh0JykuZm9yRWFjaChidG4gPT4gewogIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgIGlmIChjdXJyZW50U3RlcCA8IHdpemFyZFN0ZXBzLmxlbmd0aCAtIDEpIHsgY3VycmVudFN0ZXArKzsgc2hvd1N0ZXAoY3VycmVudFN0ZXApOyB9CiAgfSk7Cn0pOwpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcud2l6YXJkLWJhY2snKS5mb3JFYWNoKGJ0biA9PiB7CiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgaWYgKGN1cnJlbnRTdGVwID4gMCkgeyBjdXJyZW50U3RlcC0tOyBzaG93U3RlcChjdXJyZW50U3RlcCk7IH0KICB9KTsKfSk7CgppZiAod2l6YXJkU3RlcHMubGVuZ3RoID4gMCkgc2hvd1N0ZXAoMCk7CgovLyBGbGFzaCBhdXRvLWRpc21pc3MKc2V0VGltZW91dCgoKSA9PiB7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZsYXNoJykuZm9yRWFjaChmID0+IGYuc3R5bGUub3BhY2l0eSA9ICcwJyk7Cn0sIDQwMDApOwo="
[System.IO.File]::WriteAllBytes("$root\static\js\app.js", [System.Convert]::FromBase64String($b))

# --- templates\admin\dashboard.html
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfUFkbWluIERhc2hib2FyZCDigJQgQ2hhcmFjdGVyRm9yZ2V7JSBlbmRibG9jayAlfQp7JSBibG9jayBjb250ZW50ICV9CjxoMT5BZG1pbiBEYXNoYm9hcmQ8L2gxPgo8cCBjbGFzcz0ic3VidGl0bGUiPk1hbmFnZSB1c2Vycywgcm9sZXMsIGNhbXBhaWducywgYW5kIHN5c3RlbSBzZXR0aW5ncy48L3A+Cgo8IS0tIFN0YXRzIC0tPgo8ZGl2IGNsYXNzPSJjYXJkcy1ncmlkIiBzdHlsZT0iZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luLWJvdHRvbTogMjhweDsiPgogIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjMycHg7Zm9udC1mYW1pbHk6J0NpbnplbCcsc2VyaWY7Y29sb3I6dmFyKC0tZ29sZCkiPnt7IHVzZXJfY291bnQgfX08L2Rpdj4KICAgIDxkaXYgY2xhc3M9InRleHQtZGltIj5Vc2VyczwvZGl2PgogIDwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjMycHg7Zm9udC1mYW1pbHk6J0NpbnplbCcsc2VyaWY7Y29sb3I6dmFyKC0tZ29sZCkiPnt7IGNhbXBhaWduX2NvdW50IH19PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ0ZXh0LWRpbSI+Q2FtcGFpZ25zPC9kaXY+CiAgPC9kaXY+CiAgPGRpdiBjbGFzcz0icGFuZWwiIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlciI+CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MzJweDtmb250LWZhbWlseTonQ2luemVsJyxzZXJpZjtjb2xvcjp2YXIoLS1nb2xkKSI+e3sgY2hhcl9jb3VudCB9fTwvZGl2PgogICAgPGRpdiBjbGFzcz0idGV4dC1kaW0iPkNoYXJhY3RlcnM8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8ZGl2IHN0eWxlPSJkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnI7Z2FwOjIwcHg7YWxpZ24taXRlbXM6c3RhcnQiPgoKPCEtLSBVc2VyIE1hbmFnZW1lbnQgLS0+CjxkaXY+CiAgPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtZ29sZCI+CiAgICA8aDI+Q3JlYXRlIFVzZXI8L2gyPgogICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii9hZG1pbi91c2Vycy9jcmVhdGUiPgogICAgICA8bGFiZWw+VXNlcm5hbWU8L2xhYmVsPgogICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0idXNlcm5hbWUiIHJlcXVpcmVkPgogICAgICA8bGFiZWw+RGlzcGxheSBOYW1lPC9sYWJlbD4KICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImRpc3BsYXlfbmFtZSIgcGxhY2Vob2xkZXI9Ik9wdGlvbmFsIj4KICAgICAgPGxhYmVsPlBhc3N3b3JkPC9sYWJlbD4KICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgcmVxdWlyZWQ+CiAgICAgIDxsYWJlbD5Sb2xlPC9sYWJlbD4KICAgICAgPHNlbGVjdCBuYW1lPSJyb2xlIj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSJwbGF5ZXIiPlBsYXllcjwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9ImRtIj5EdW5nZW9uIE1hc3Rlcjwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9ImFkbWluIj5BZG1pbjwvb3B0aW9uPgogICAgICA8L3NlbGVjdD4KICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgYnRuLXNtIiBzdHlsZT0ibWFyZ2luLXRvcDoxNHB4Ij5DcmVhdGUgVXNlcjwvYnV0dG9uPgogICAgPC9mb3JtPgogIDwvZGl2PgoKICA8ZGl2IGNsYXNzPSJwYW5lbCI+CiAgICA8aDI+QWxsIFVzZXJzPC9oMj4KICAgIDx0YWJsZSBjbGFzcz0iZGF0YS10YWJsZSI+CiAgICAgIDx0cj48dGg+VXNlcjwvdGg+PHRoPlJvbGU8L3RoPjx0aD5BY3Rpb25zPC90aD48L3RyPgogICAgICB7JSBmb3IgdSBpbiB1c2VycyAlfQogICAgICA8dHI+CiAgICAgICAgPHRkPgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6NjAwO2NvbG9yOnZhcigtLXRleHQtYnJpZ2h0KSI+e3sgdS5kaXNwbGF5X25hbWUgb3IgdS51c2VybmFtZSB9fTwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tdGV4dC1kaW0pIj5Ae3sgdS51c2VybmFtZSB9fTwvZGl2PgogICAgICAgIDwvdGQ+CiAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSBiYWRnZS17eyB1LnJvbGUgfX0iPnt7IHUucm9sZSB9fTwvc3Bhbj48L3RkPgogICAgICAgIDx0ZD4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc20gYnRuLXNlY29uZGFyeSIgb25jbGljaz0ib3Blbk1vZGFsKCdtb2RhbC1yb2xlLXt7IHUuaWQgfX0nKSI+Um9sZTwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc2Vjb25kYXJ5IiBvbmNsaWNrPSJvcGVuTW9kYWwoJ21vZGFsLXB3LXt7IHUuaWQgfX0nKSI+UFc8L2J1dHRvbj4KICAgICAgICAgIHslIGlmIHUuaWQgIT0gc2Vzc2lvbi5nZXQoJ3VzZXJfaWQnKSAlfQogICAgICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii9hZG1pbi91c2Vycy97eyB1LmlkIH19L2RlbGV0ZSIgY2xhc3M9ImNvbmZpcm0tYWN0aW9uIiBkYXRhLWNvbmZpcm09IkRlbGV0ZSB1c2VyIHt7IHUudXNlcm5hbWUgfX0/IFRoaXMgY2Fubm90IGJlIHVuZG9uZS4iIHN0eWxlPSJkaXNwbGF5OmlubGluZSI+CiAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIj5EZWw8L2J1dHRvbj4KICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgIHslIGVuZGlmICV9CiAgICAgICAgPC90ZD4KICAgICAgPC90cj4KICAgICAgeyUgZW5kZm9yICV9CiAgICA8L3RhYmxlPgogIDwvZGl2Pgo8L2Rpdj4KCjwhLS0gQ2FtcGFpZ25zIC0tPgo8ZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWdvbGQiPgogICAgPGgyPkNhbXBhaWduczwvaDI+CiAgICB7JSBpZiBjYW1wYWlnbnMgJX0KICAgIDx0YWJsZSBjbGFzcz0iZGF0YS10YWJsZSI+CiAgICAgIDx0cj48dGg+Q2FtcGFpZ248L3RoPjx0aD5ETTwvdGg+PHRoPkFjdGlvbnM8L3RoPjwvdHI+CiAgICAgIHslIGZvciBjIGluIGNhbXBhaWducyAlfQogICAgICA8dHI+CiAgICAgICAgPHRkPgogICAgICAgICAgPGEgaHJlZj0iL2NhbXBhaWducy97eyBjLmlkIH19IiBzdHlsZT0iY29sb3I6dmFyKC0tZ29sZC1saWdodCkiPnt7IGMubmFtZSB9fTwvYT4KICAgICAgICA8L3RkPgogICAgICAgIDx0ZCBzdHlsZT0iZm9udC1zaXplOjEzcHg7Y29sb3I6dmFyKC0tdGV4dC1kaW0pIj57eyBjLmRtLmRpc3BsYXlfbmFtZSBvciBjLmRtLnVzZXJuYW1lIGlmIGMuZG0gZWxzZSAn4oCUJyB9fTwvdGQ+CiAgICAgICAgPHRkPgogICAgICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii9hZG1pbi9jYW1wYWlnbnMve3sgYy5pZCB9fS9kZWxldGUiIGNsYXNzPSJjb25maXJtLWFjdGlvbiIgZGF0YS1jb25maXJtPSJEZWxldGUgY2FtcGFpZ24gJ3t7IGMubmFtZSB9fSc/IEFsbCBjaGFyYWN0ZXJzIGluIGl0IHdpbGwgYmUgZGVsZXRlZC4iIHN0eWxlPSJkaXNwbGF5OmlubGluZSI+CiAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIj5EZWxldGU8L2J1dHRvbj4KICAgICAgICAgIDwvZm9ybT4KICAgICAgICA8L3RkPgogICAgICA8L3RyPgogICAgICB7JSBlbmRmb3IgJX0KICAgIDwvdGFibGU+CiAgICB7JSBlbHNlICV9CiAgICAgIDxwIGNsYXNzPSJ0ZXh0LWRpbSI+Tm8gY2FtcGFpZ25zIHlldC4gRE1zIGNyZWF0ZSBjYW1wYWlnbnMgZnJvbSB0aGVpciBkYXNoYm9hcmQuPC9wPgogICAgeyUgZW5kaWYgJX0KICA8L2Rpdj4KPC9kaXY+Cgo8L2Rpdj4KCjwhLS0gUm9sZSBtb2RhbHMgLS0+CnslIGZvciB1IGluIHVzZXJzICV9CjxkaXYgY2xhc3M9Im1vZGFsLW92ZXJsYXkiIGlkPSJtb2RhbC1yb2xlLXt7IHUuaWQgfX0iPgogIDxkaXYgY2xhc3M9Im1vZGFsIj4KICAgIDxidXR0b24gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJjbG9zZU1vZGFsKCdtb2RhbC1yb2xlLXt7IHUuaWQgfX0nKSI+4pyVPC9idXR0b24+CiAgICA8aDI+Q2hhbmdlIFJvbGUg4oCUIHt7IHUudXNlcm5hbWUgfX08L2gyPgogICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii9hZG1pbi91c2Vycy97eyB1LmlkIH19L3NldF9yb2xlIj4KICAgICAgPGxhYmVsPk5ldyBSb2xlPC9sYWJlbD4KICAgICAgPHNlbGVjdCBuYW1lPSJyb2xlIj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSJwbGF5ZXIiIHslIGlmIHUucm9sZT09J3BsYXllcicgJX1zZWxlY3RlZHslIGVuZGlmICV9PlBsYXllcjwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9ImRtIiB7JSBpZiB1LnJvbGU9PSdkbScgJX1zZWxlY3RlZHslIGVuZGlmICV9PkR1bmdlb24gTWFzdGVyPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYWRtaW4iIHslIGlmIHUucm9sZT09J2FkbWluJyAlfXNlbGVjdGVkeyUgZW5kaWYgJX0+QWRtaW48L29wdGlvbj4KICAgICAgPC9zZWxlY3Q+CiAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5Ij5TYXZlIFJvbGU8L2J1dHRvbj4KICAgIDwvZm9ybT4KICA8L2Rpdj4KPC9kaXY+Cgo8ZGl2IGNsYXNzPSJtb2RhbC1vdmVybGF5IiBpZD0ibW9kYWwtcHcte3sgdS5pZCB9fSI+CiAgPGRpdiBjbGFzcz0ibW9kYWwiPgogICAgPGJ1dHRvbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9ImNsb3NlTW9kYWwoJ21vZGFsLXB3LXt7IHUuaWQgfX0nKSI+4pyVPC9idXR0b24+CiAgICA8aDI+UmVzZXQgUGFzc3dvcmQg4oCUIHt7IHUudXNlcm5hbWUgfX08L2gyPgogICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii9hZG1pbi91c2Vycy97eyB1LmlkIH19L3Jlc2V0X3Bhc3N3b3JkIj4KICAgICAgPGxhYmVsPk5ldyBQYXNzd29yZDwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0icGFzc3dvcmQiIHJlcXVpcmVkIHBsYWNlaG9sZGVyPSJNaW4gNiBjaGFyYWN0ZXJzIj4KICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPlNldCBQYXNzd29yZDwvYnV0dG9uPgogICAgPC9mb3JtPgogIDwvZGl2Pgo8L2Rpdj4KeyUgZW5kZm9yICV9Cgp7JSBlbmRibG9jayAlfQo="
[System.IO.File]::WriteAllBytes("$root\templates\admin\dashboard.html", [System.Convert]::FromBase64String($b))

# --- templates\auth\login.html
$b = "PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgPHRpdGxlPkNoYXJhY3RlckZvcmdlIOKAlCBMb2dpbjwvdGl0bGU+CiAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1DaW56ZWw6d2dodEA0MDA7NjAwOzcwMCZmYW1pbHk9Q3JpbXNvbitUZXh0Oml0YWwsd2dodEAwLDQwMDswLDYwMDsxLDQwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCI+CiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvc3RhdGljL2Nzcy9hcHAuY3NzIj4KPC9oZWFkPgo8Ym9keT4KPGRpdiBjbGFzcz0ibG9naW4td3JhcCI+CiAgPGRpdiBjbGFzcz0ibG9naW4tYm94Ij4KICAgIDxkaXYgY2xhc3M9ImxvZ2luLXRpdGxlIj7impQgQ2hhcmFjdGVyRm9yZ2U8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImxvZ2luLXN1YiI+Rm9yZ2UgeW91ciBsZWdlbmQuIEVudGVyIHRoZSByZWFsbS48L2Rpdj4KCiAgICB7JSB3aXRoIG1zZ3MgPSBnZXRfZmxhc2hlZF9tZXNzYWdlcyh3aXRoX2NhdGVnb3JpZXM9dHJ1ZSkgJX0KICAgICAgeyUgaWYgbXNncyAlfQogICAgICAgIHslIGZvciBjYXQsIG1zZyBpbiBtc2dzICV9CiAgICAgICAgICA8ZGl2IGNsYXNzPSJmbGFzaCBmbGFzaC17eyBjYXQgfX0iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHgiPnt7IG1zZyB9fTwvZGl2PgogICAgICAgIHslIGVuZGZvciAlfQogICAgICB7JSBlbmRpZiAlfQogICAgeyUgZW5kd2l0aCAlfQoKICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgYWN0aW9uPSIvYXV0aC9sb2dpbiI+CiAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InJvbGUiIGlkPSJyb2xlLWlucHV0IiB2YWx1ZT0icGxheWVyIj4KCiAgICAgIDxsYWJlbD5JIGFtIGEuLi48L2xhYmVsPgogICAgICA8ZGl2IGNsYXNzPSJyb2xlLXNlbGVjdG9yIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb2xlLWJ0biIgZGF0YS1yb2xlPSJwbGF5ZXIiPuKalCBQbGF5ZXI8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb2xlLWJ0biIgZGF0YS1yb2xlPSJkbSI+8J+OsiBEdW5nZW9uIE1hc3RlcjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InJvbGUtYnRuIiBkYXRhLXJvbGU9ImFkbWluIj7wn5uhIEFkbWluPC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGxhYmVsPlVzZXJuYW1lPC9sYWJlbD4KICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InVzZXJuYW1lIiBhdXRvY29tcGxldGU9InVzZXJuYW1lIiBhdXRvZm9jdXMgcmVxdWlyZWQ+CgogICAgICA8bGFiZWw+UGFzc3dvcmQ8L2xhYmVsPgogICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkIiBhdXRvY29tcGxldGU9ImN1cnJlbnQtcGFzc3dvcmQiIHJlcXVpcmVkPgoKICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIHN0eWxlPSJ3aWR0aDoxMDAlIj5FbnRlciB0aGUgUmVhbG08L2J1dHRvbj4KICAgIDwvZm9ybT4KICA8L2Rpdj4KPC9kaXY+CjxzY3JpcHQgc3JjPSIvc3RhdGljL2pzL2FwcC5qcyI+PC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo="
[System.IO.File]::WriteAllBytes("$root\templates\auth\login.html", [System.Convert]::FromBase64String($b))

# --- templates\auth\setup.html
$b = "PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgPHRpdGxlPkNoYXJhY3RlckZvcmdlIOKAlCBGaXJzdCBMYXVuY2ggU2V0dXA8L3RpdGxlPgogIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9Q2luemVsOndnaHRANDAwOzYwMDs3MDAmZmFtaWx5PUNyaW1zb24rVGV4dDppdGFsLHdnaHRAMCw0MDA7MCw2MDA7MSw0MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgogIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iL3N0YXRpYy9jc3MvYXBwLmNzcyI+CjwvaGVhZD4KPGJvZHk+CjxkaXYgY2xhc3M9ImxvZ2luLXdyYXAiPgogIDxkaXYgY2xhc3M9ImxvZ2luLWJveCI+CiAgICA8ZGl2IGNsYXNzPSJsb2dpbi10aXRsZSI+4pqUIENoYXJhY3RlckZvcmdlPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJsb2dpbi1zdWIiPkZpcnN0IExhdW5jaCDigJQgQ3JlYXRlIFlvdXIgQWRtaW4gQWNjb3VudDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9ImZsYXNoIGZsYXNoLW9rIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxNnB4Ij4KICAgICAgTm8gYWRtaW4gYWNjb3VudCBleGlzdHMgeWV0LiBTZXQgdXAgeW91ciBtYXN0ZXIgYWRtaW5pc3RyYXRvciBub3cuCiAgICA8L2Rpdj4KCiAgICB7JSB3aXRoIG1zZ3MgPSBnZXRfZmxhc2hlZF9tZXNzYWdlcyh3aXRoX2NhdGVnb3JpZXM9dHJ1ZSkgJX0KICAgICAgeyUgaWYgbXNncyAlfQogICAgICAgIHslIGZvciBjYXQsIG1zZyBpbiBtc2dzICV9CiAgICAgICAgICA8ZGl2IGNsYXNzPSJmbGFzaCBmbGFzaC17eyBjYXQgfX0iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHgiPnt7IG1zZyB9fTwvZGl2PgogICAgICAgIHslIGVuZGZvciAlfQogICAgICB7JSBlbmRpZiAlfQogICAgeyUgZW5kd2l0aCAlfQoKICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgYWN0aW9uPSIvYXV0aC9zZXR1cCI+CiAgICAgIDxsYWJlbD5BZG1pbiBVc2VybmFtZTwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ1c2VybmFtZSIgcmVxdWlyZWQgYXV0b2ZvY3VzIHBsYWNlaG9sZGVyPSJlLmcuIGFkbWluIj4KCiAgICAgIDxsYWJlbD5EaXNwbGF5IE5hbWU8L2xhYmVsPgogICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZGlzcGxheV9uYW1lIiBwbGFjZWhvbGRlcj0iZS5nLiBUaGUgRHVuZ2VvbiBNYXN0ZXIiPgoKICAgICAgPGxhYmVsPlBhc3N3b3JkPC9sYWJlbD4KICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9IkF0IGxlYXN0IDYgY2hhcmFjdGVycyI+CgogICAgICA8bGFiZWw+Q29uZmlybSBQYXNzd29yZDwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0iY29uZmlybSIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9IlJlcGVhdCBwYXNzd29yZCI+CgogICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgc3R5bGU9IndpZHRoOjEwMCU7bWFyZ2luLXRvcDoyMHB4Ij4KICAgICAgICBDcmVhdGUgQWRtaW4gJiBFbnRlcgogICAgICA8L2J1dHRvbj4KICAgIDwvZm9ybT4KICA8L2Rpdj4KPC9kaXY+CjwvYm9keT4KPC9odG1sPgo="
[System.IO.File]::WriteAllBytes("$root\templates\auth\setup.html", [System.Convert]::FromBase64String($b))

# --- templates\base.html
$b = "PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgPHRpdGxlPnslIGJsb2NrIHRpdGxlICV9Q2hhcmFjdGVyRm9yZ2V7JSBlbmRibG9jayAlfTwvdGl0bGU+CiAgPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tIj4KICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUNpbnplbDp3Z2h0QDQwMDs2MDA7NzAwJmZhbWlseT1Dcmltc29uK1RleHQ6aXRhbCx3Z2h0QDAsNDAwOzAsNjAwOzEsNDAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii9zdGF0aWMvY3NzL2FwcC5jc3MiPgo8L2hlYWQ+Cjxib2R5PgogIHslIGlmIHNlc3Npb24uZ2V0KCd1c2VyX2lkJykgJX0KICA8bmF2IGNsYXNzPSJ0b3BuYXYiPgogICAgPGRpdiBjbGFzcz0ibmF2LWJyYW5kIj7impQgQ2hhcmFjdGVyRm9yZ2U8L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im5hdi1saW5rcyI+CiAgICAgIHslIGlmIHNlc3Npb24uZ2V0KCdyb2xlJykgPT0gJ2FkbWluJyAlfQogICAgICAgIDxhIGhyZWY9Ii9hZG1pbi8iPkFkbWluPC9hPgogICAgICAgIDxhIGhyZWY9Ii9kbS8iPkRNIERhc2hib2FyZDwvYT4KICAgICAgeyUgZWxpZiBzZXNzaW9uLmdldCgncm9sZScpID09ICdkbScgJX0KICAgICAgICA8YSBocmVmPSIvZG0vIj5NeSBDYW1wYWlnbnM8L2E+CiAgICAgIHslIGVsc2UgJX0KICAgICAgICA8YSBocmVmPSIvcGxheWVyLyI+TXkgQ2FtcGFpZ25zPC9hPgogICAgICAgIDxhIGhyZWY9Ii9wbGF5ZXIvY2FtcGFpZ25zL2Jyb3dzZSI+QnJvd3NlPC9hPgogICAgICB7JSBlbmRpZiAlfQogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJuYXYtdXNlciI+CiAgICAgIDxzcGFuIGNsYXNzPSJiYWRnZSBiYWRnZS17eyBzZXNzaW9uLmdldCgncm9sZScpIH19Ij57eyBzZXNzaW9uLmdldCgncm9sZScsICcnKS51cHBlcigpIH19PC9zcGFuPgogICAgICA8c3BhbiBjbGFzcz0ibmF2LW5hbWUiPnt7IHNlc3Npb24uZ2V0KCdkaXNwbGF5X25hbWUnLCBzZXNzaW9uLmdldCgndXNlcm5hbWUnLCAnJykpIH19PC9zcGFuPgogICAgICA8YSBocmVmPSIvYXV0aC9sb2dvdXQiIGNsYXNzPSJidG4tbG9nb3V0Ij5Mb2dvdXQ8L2E+CiAgICA8L2Rpdj4KICA8L25hdj4KICB7JSBlbmRpZiAlfQoKICA8ZGl2IGNsYXNzPSJwYWdlLXdyYXAiPgogICAgeyUgd2l0aCBtc2dzID0gZ2V0X2ZsYXNoZWRfbWVzc2FnZXMod2l0aF9jYXRlZ29yaWVzPXRydWUpICV9CiAgICAgIHslIGlmIG1zZ3MgJX0KICAgICAgICA8ZGl2IGNsYXNzPSJmbGFzaC13cmFwIj4KICAgICAgICAgIHslIGZvciBjYXQsIG1zZyBpbiBtc2dzICV9CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZsYXNoIGZsYXNoLXt7IGNhdCB9fSI+e3sgbXNnIH19PC9kaXY+CiAgICAgICAgICB7JSBlbmRmb3IgJX0KICAgICAgICA8L2Rpdj4KICAgICAgeyUgZW5kaWYgJX0KICAgIHslIGVuZHdpdGggJX0KCiAgICB7JSBibG9jayBjb250ZW50ICV9eyUgZW5kYmxvY2sgJX0KICA8L2Rpdj4KCiAgPHNjcmlwdCBzcmM9Ii9zdGF0aWMvanMvYXBwLmpzIj48L3NjcmlwdD4KICB7JSBibG9jayBzY3JpcHRzICV9eyUgZW5kYmxvY2sgJX0KPC9ib2R5Pgo8L2h0bWw+Cg=="
[System.IO.File]::WriteAllBytes("$root\templates\base.html", [System.Convert]::FromBase64String($b))

# --- templates\campaigns\view.html
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfXt7IGNhbXBhaWduLm5hbWUgfX0g4oCUIENoYXJhY3RlckZvcmdleyUgZW5kYmxvY2sgJX0KeyUgYmxvY2sgY29udGVudCAlfQoKPGRpdiBjbGFzcz0iZmxleCBqdXN0aWZ5LWJldHdlZW4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjRweDtmbGV4LXdyYXA6d3JhcDtnYXA6MTJweCI+CiAgPGRpdj4KICAgIDxoMT57eyBjYW1wYWlnbi5uYW1lIH19PC9oMT4KICAgIHslIGlmIGNhbXBhaWduLmRlc2NyaXB0aW9uICV9CiAgICAgIDxwIGNsYXNzPSJzdWJ0aXRsZSI+e3sgY2FtcGFpZ24uZGVzY3JpcHRpb24gfX08L3A+CiAgICB7JSBlbmRpZiAlfQogIDwvZGl2PgogIDxkaXYgY2xhc3M9ImZsZXgiIHN0eWxlPSJnYXA6OHB4O2FsaWduLXNlbGY6ZmxleC1zdGFydDttYXJnaW4tdG9wOjhweCI+CiAgICB7JSBpZiBpc19kbSAlfQogICAgICA8YSBocmVmPSIvY2hhcmFjdGVycy9uZXc/Y2FtcGFpZ25faWQ9e3sgY2FtcGFpZ24uaWQgfX0mbnBjPXRydWUiIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tc20iPisgQWRkIE5QQzwvYT4KICAgIHslIGVuZGlmICV9CiAgICB7JSBpZiBub3QgbXlfY2hhciBhbmQgbm90IGlzX2RtICV9CiAgICAgIDxhIGhyZWY9Ii9jaGFyYWN0ZXJzL25ldz9jYW1wYWlnbl9pZD17eyBjYW1wYWlnbi5pZCB9fSIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBidG4tc20iPkNyZWF0ZSBNeSBDaGFyYWN0ZXI8L2E+CiAgICB7JSBlbmRpZiAlfQogICAgeyUgaWYgc2Vzc2lvbi5nZXQoJ3JvbGUnKSBpbiBbJ2FkbWluJywnZG0nXSAlfQogICAgICA8YSBocmVmPSIvZG0vIiBjbGFzcz0iYnRuIGJ0bi1naG9zdCBidG4tc20iPuKGkCBETSBEYXNoYm9hcmQ8L2E+CiAgICB7JSBlbHNlICV9CiAgICAgIDxhIGhyZWY9Ii9wbGF5ZXIvIiBjbGFzcz0iYnRuIGJ0bi1naG9zdCBidG4tc20iPuKGkCBNeSBDYW1wYWlnbnM8L2E+CiAgICB7JSBlbmRpZiAlfQogIDwvZGl2Pgo8L2Rpdj4KCjxkaXYgc3R5bGU9ImRpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6MWZyIHslIGlmIGlzX2RtICV9MzIwcHh7JSBlbmRpZiAlfTtnYXA6MjBweDthbGlnbi1pdGVtczpzdGFydDttYXJnaW4tdG9wOjIwcHgiPgoKPCEtLSBNYWluIGNvbnRlbnQgLS0+CjxkaXY+CgogIDwhLS0gUGxheWVyIENoYXJhY3RlcnMgLS0+CiAgPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtZ29sZCI+CiAgICA8aDI+UGxheWVyIENoYXJhY3RlcnM8L2gyPgogICAgeyUgaWYgcGNfY2hhcnMgJX0KICAgICAgPGRpdiBjbGFzcz0iY2hhci1jYXJkcy1ncmlkIj4KICAgICAgICB7JSBmb3IgYyBpbiBwY19jaGFycyAlfQogICAgICAgIDxhIGhyZWY9Ii9jaGFyYWN0ZXJzL3t7IGMuaWQgfX0vc2hlZXQiIGNsYXNzPSJjaGFyLWNhcmQiPgogICAgICAgICAgPGRpdiBjbGFzcz0iY2hhci1jYXJkLWhlYWRlciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXItY2FyZC1uYW1lIj57eyBjLm5hbWUgfX08L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhci1jYXJkLWNsYXNzIj57eyBjLnJhY2Ugb3IgJ+KAlCcgfX0ge3sgYy5jaGFyX2NsYXNzIG9yICfigJQnIH19PC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXItY2FyZC1ib2R5Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhci1zdGF0Ij4KICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hhci1zdGF0LWxhYmVsIj5MZXZlbDwvc3Bhbj4KICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hhci1zdGF0LXZhbCI+e3sgYy5sZXZlbCB9fTwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXItc3RhdCI+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNoYXItc3RhdC1sYWJlbCI+QUM8L3NwYW4+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNoYXItc3RhdC12YWwiPnt7IGMuYXJtb3JfY2xhc3MgfX08L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFyLXN0YXQiIHN0eWxlPSJncmlkLWNvbHVtbjpzcGFuIDIiPgogICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjaGFyLXN0YXQtbGFiZWwiPkhQPC9zcGFuPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhwLWJhci13cmFwIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhwLWJhci10cmFjayI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhwLWJhci1maWxsIiBkYXRhLWN1cj0ie3sgYy5jdXJyZW50X2hwIH19IiBkYXRhLW1heD0ie3sgYy5tYXhfaHAgfX0iPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJocC10ZXh0Ij57eyBjLmN1cnJlbnRfaHAgfX0gLyB7eyBjLm1heF9ocCB9fTwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvYT4KICAgICAgICB7JSBlbmRmb3IgJX0KICAgICAgPC9kaXY+CiAgICB7JSBlbHNlICV9CiAgICAgIDxwIGNsYXNzPSJlbXB0eS1zdGF0ZSI+Tm8gcGxheWVyIGNoYXJhY3RlcnMgeWV0LiBQbGF5ZXJzIGNhbiBjcmVhdGUgdGhlaXIgY2hhcmFjdGVycyBoZXJlLjwvcD4KICAgIHslIGVuZGlmICV9CiAgPC9kaXY+CgogIDwhLS0gTlBDcyAtLT4KICB7JSBpZiBucGNfY2hhcnMgb3IgaXNfZG0gJX0KICA8ZGl2IGNsYXNzPSJwYW5lbCIgc3R5bGU9Im1hcmdpbi10b3A6MjBweCI+CiAgICA8ZGl2IGNsYXNzPSJmbGV4IGp1c3RpZnktYmV0d2VlbiI+CiAgICAgIDxoMj5OUENzICYgRW5lbWllczwvaDI+CiAgICAgIHslIGlmIGlzX2RtICV9CiAgICAgICAgPGEgaHJlZj0iL2NoYXJhY3RlcnMvbmV3P2NhbXBhaWduX2lkPXt7IGNhbXBhaWduLmlkIH19Jm5wYz10cnVlIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc2Vjb25kYXJ5Ij4rIEFkZCBOUEM8L2E+CiAgICAgIHslIGVuZGlmICV9CiAgICA8L2Rpdj4KICAgIHslIGlmIG5wY19jaGFycyAlfQogICAgICA8ZGl2IGNsYXNzPSJjaGFyLWNhcmRzLWdyaWQiIHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPgogICAgICAgIHslIGZvciBjIGluIG5wY19jaGFycyAlfQogICAgICAgIDxhIGhyZWY9Ii9jaGFyYWN0ZXJzL3t7IGMuaWQgfX0vc2hlZXQiIGNsYXNzPSJjaGFyLWNhcmQgbnBjLWNhcmQiPgogICAgICAgICAgPGRpdiBjbGFzcz0iY2hhci1jYXJkLWhlYWRlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyxyZ2JhKDEzOSwzMiwzMiwwLjE1KSx0cmFuc3BhcmVudCkiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFyLWNhcmQtbmFtZSI+e3sgYy5uYW1lIH19IDxzcGFuIGNsYXNzPSJucGMtYmFkZ2UiPk5QQzwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhci1jYXJkLWNsYXNzIiBzdHlsZT0iY29sb3I6I2UwNzA3MCI+e3sgYy5yYWNlIG9yICfigJQnIH19IHt7IGMuY2hhcl9jbGFzcyBvciAn4oCUJyB9fTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFyLWNhcmQtYm9keSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXItc3RhdCI+PHNwYW4gY2xhc3M9ImNoYXItc3RhdC1sYWJlbCI+Q1IvTGV2ZWw8L3NwYW4+PHNwYW4gY2xhc3M9ImNoYXItc3RhdC12YWwiPnt7IGMubGV2ZWwgfX08L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXItc3RhdCI+PHNwYW4gY2xhc3M9ImNoYXItc3RhdC1sYWJlbCI+QUM8L3NwYW4+PHNwYW4gY2xhc3M9ImNoYXItc3RhdC12YWwiPnt7IGMuYXJtb3JfY2xhc3MgfX08L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXItc3RhdCIgc3R5bGU9ImdyaWQtY29sdW1uOnNwYW4gMiI+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNoYXItc3RhdC1sYWJlbCI+SFA8L3NwYW4+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaHAtYmFyLXdyYXAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaHAtYmFyLXRyYWNrIj48ZGl2IGNsYXNzPSJocC1iYXItZmlsbCIgZGF0YS1jdXI9Int7IGMuY3VycmVudF9ocCB9fSIgZGF0YS1tYXg9Int7IGMubWF4X2hwIH19Ij48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhwLXRleHQiPnt7IGMuY3VycmVudF9ocCB9fSAvIHt7IGMubWF4X2hwIH19PC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9hPgogICAgICAgIHslIGVuZGZvciAlfQogICAgICA8L2Rpdj4KICAgIHslIGVsc2UgJX0KICAgICAgPHAgY2xhc3M9ImVtcHR5LXN0YXRlIj5ObyBOUENzIHlldC4gQWRkIE5QQ3MgYW5kIGVuZW1pZXMgZm9yIHlvdXIgY2FtcGFpZ24uPC9wPgogICAgeyUgZW5kaWYgJX0KICA8L2Rpdj4KICB7JSBlbmRpZiAlfQoKPC9kaXY+Cgo8IS0tIERNIFNpZGViYXIgLS0+CnslIGlmIGlzX2RtICV9CjxkaXY+CiAgPCEtLSBQZW5kaW5nIHBsYXllcnMgLS0+CiAgeyUgaWYgcGVuZGluZyAlfQogIDxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWdvbGQiPgogICAgPGgyPlBlbmRpbmcgQXBwcm92YWxzPC9oMj4KICAgIHslIGZvciBtLCB1c2VyIGluIHBlbmRpbmcgJX0KICAgIDxkaXYgc3R5bGU9InBhZGRpbmc6MTBweCAwO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWJvcmRlcikiPgogICAgICA8ZGl2IGNsYXNzPSJmbGV4Ij4KICAgICAgICA8c3BhbiBjbGFzcz0icGVuZGluZy1kb3QiPjwvc3Bhbj4KICAgICAgICA8ZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6NjAwO2NvbG9yOnZhcigtLXRleHQtYnJpZ2h0KSI+e3sgdXNlci5kaXNwbGF5X25hbWUgb3IgdXNlci51c2VybmFtZSBpZiB1c2VyIGVsc2UgJ+KAlCcgfX08L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQtZGltKSI+d2FudHMgdG8gam9pbjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZmxleCIgc3R5bGU9Im1hcmdpbi10b3A6OHB4O2dhcDo2cHgiPgogICAgICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgYWN0aW9uPSIvZG0vY2FtcGFpZ25zL3t7IGNhbXBhaWduLmlkIH19L2FwcHJvdmUve3sgbS51c2VyX2lkIH19Ij4KICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zbSIgc3R5bGU9ImJhY2tncm91bmQ6dmFyKC0tZ3JlZW4pO2NvbG9yOndoaXRlO2JvcmRlcjpub25lIj7inJMgQXBwcm92ZTwvYnV0dG9uPgogICAgICAgIDwvZm9ybT4KICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iL2RtL2NhbXBhaWducy97eyBjYW1wYWlnbi5pZCB9fS9raWNrL3t7IG0udXNlcl9pZCB9fSI+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tc20gYnRuLWRhbmdlciI+4pyVIERlbnk8L2J1dHRvbj4KICAgICAgICA8L2Zvcm0+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICB7JSBlbmRmb3IgJX0KICA8L2Rpdj4KICB7JSBlbmRpZiAlfQoKICA8IS0tIEFjdGl2ZSBtZW1iZXJzIC0tPgogIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0ibWFyZ2luLXRvcDp7JSBpZiBwZW5kaW5nICV9MTZweHslIGVsc2UgJX0weyUgZW5kaWYgJX0iPgogICAgPGgyPk1lbWJlcnM8L2gyPgogICAgeyUgZm9yIG0sIHVzZXIgaW4gbWVtYmVycyAlfQogICAgeyUgaWYgdXNlciAlfQogICAgPGRpdiBzdHlsZT0icGFkZGluZzo4cHggMDtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpIj4KICAgICAgPGRpdiBjbGFzcz0iZmxleCBqdXN0aWZ5LWJldHdlZW4iPgogICAgICAgIDxkaXY+CiAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tdGV4dC1icmlnaHQpIj57eyB1c2VyLmRpc3BsYXlfbmFtZSBvciB1c2VyLnVzZXJuYW1lIH19PC9zcGFuPgogICAgICAgICAgPHNwYW4gY2xhc3M9ImJhZGdlIGJhZGdlLXt7IG0ucm9sZSB9fSIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweCI+e3sgbS5yb2xlIH19PC9zcGFuPgogICAgICAgIDwvZGl2PgogICAgICAgIHslIGlmIG0ucm9sZSAhPSAnZG0nICV9CiAgICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii9kbS9jYW1wYWlnbnMve3sgY2FtcGFpZ24uaWQgfX0va2ljay97eyB1c2VyLmlkIH19IiBjbGFzcz0iY29uZmlybS1hY3Rpb24iIGRhdGEtY29uZmlybT0iUmVtb3ZlIHt7IHVzZXIudXNlcm5hbWUgfX0gZnJvbSBjYW1wYWlnbj8iPgogICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1kYW5nZXIiPlJlbW92ZTwvYnV0dG9uPgogICAgICAgIDwvZm9ybT4KICAgICAgICB7JSBlbmRpZiAlfQogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgeyUgZW5kaWYgJX0KICAgIHslIGVuZGZvciAlfQogICAgeyUgaWYgbm90IG1lbWJlcnMgJX0KICAgICAgPHAgY2xhc3M9InRleHQtZGltIiBzdHlsZT0iZm9udC1zaXplOjE0cHgiPk5vIGFwcHJvdmVkIG1lbWJlcnMgeWV0LjwvcD4KICAgIHslIGVuZGlmICV9CiAgPC9kaXY+CgogIDwhLS0gRGVsZXRlIGNhbXBhaWduIC0tPgogIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0ibWFyZ2luLXRvcDoxNnB4Ij4KICAgIDxoMj5EYW5nZXIgWm9uZTwvaDI+CiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iL2RtL2NhbXBhaWducy97eyBjYW1wYWlnbi5pZCB9fS9kZWxldGUiIGNsYXNzPSJjb25maXJtLWFjdGlvbiIgZGF0YS1jb25maXJtPSJEZWxldGUgY2FtcGFpZ24gJ3t7IGNhbXBhaWduLm5hbWUgfX0nPyBUaGlzIENBTk5PVCBiZSB1bmRvbmUuIEFsbCBjaGFyYWN0ZXJzIHdpbGwgYmUgZGVsZXRlZC4iPgogICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBzdHlsZT0id2lkdGg6MTAwJSI+RGVsZXRlIENhbXBhaWduPC9idXR0b24+CiAgICA8L2Zvcm0+CiAgPC9kaXY+CjwvZGl2Pgp7JSBlbmRpZiAlfQoKPC9kaXY+PCEtLSBlbmQgZ3JpZCAtLT4KCnslIGVuZGJsb2NrICV9Cg=="
[System.IO.File]::WriteAllBytes("$root\templates\campaigns\view.html", [System.Convert]::FromBase64String($b))

# --- templates\characters\sheet.html
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfXt7IGNoYXIubmFtZSB9fSDigJQgQ2hhcmFjdGVyRm9yZ2V7JSBlbmRibG9jayAlfQp7JSBibG9jayBjb250ZW50ICV9CjxkaXYgY2xhc3M9InNoZWV0LXdyYXAiPgoKPCEtLSBIZWFkZXIgLS0+CjxkaXYgY2xhc3M9InNoZWV0LWhlYWRlciI+CiAgPGRpdiBjbGFzcz0ic2hlZXQtaWRlbnRpdHkiPgogICAgPGgxPnt7IGNoYXIubmFtZSB9fTwvaDE+CiAgICA8ZGl2IGNsYXNzPSJzaGVldC1tZXRhIj4KICAgICAge3sgZGF0YS5yYWNlIH19IHt7IGRhdGEuY2hhcl9jbGFzcyB9fQogICAgICB7JSBpZiBkYXRhLnN1YmNsYXNzICV9ICh7eyBkYXRhLnN1YmNsYXNzIH19KXslIGVuZGlmICV9CiAgICAgIMK3IExldmVsIHt7IGRhdGEubGV2ZWwgfX0KICAgICAgwrcge3sgZGF0YS5iYWNrZ3JvdW5kIG9yICfigJQnIH19CiAgICAgIMK3IHt7IGRhdGEuYWxpZ25tZW50IG9yICfigJQnIH19CiAgICAgIHslIGlmIGNoYXIuaXNfbnBjICV9PHNwYW4gY2xhc3M9Im5wYy1iYWRnZSIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweCI+TlBDPC9zcGFuPnslIGVuZGlmICV9CiAgICA8L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJmbGV4IiBzdHlsZT0iZ2FwOjhweDtmbGV4LXdyYXA6d3JhcCI+CiAgICB7JSBpZiBjaGFyLmNhbXBhaWduX2lkICV9CiAgICAgIDxhIGhyZWY9Ii9jYW1wYWlnbnMve3sgY2hhci5jYW1wYWlnbl9pZCB9fSIgY2xhc3M9ImJ0biBidG4tZ2hvc3QgYnRuLXNtIj7ihpAgQ2FtcGFpZ248L2E+CiAgICB7JSBlbmRpZiAlfQogICAgeyUgaWYgY2FuX2VkaXQgJX0KICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii9jaGFyYWN0ZXJzL3t7IGNoYXIuaWQgfX0vZGVsZXRlIiBjbGFzcz0iY29uZmlybS1hY3Rpb24iIGRhdGEtY29uZmlybT0iRGVsZXRlIHt7IGNoYXIubmFtZSB9fT8gVGhpcyBjYW5ub3QgYmUgdW5kb25lLiI+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20iPkRlbGV0ZTwvYnV0dG9uPgogICAgICA8L2Zvcm0+CiAgICB7JSBlbmRpZiAlfQogIDwvZGl2Pgo8L2Rpdj4KCjxociBjbGFzcz0iZGl2aWRlciI+Cgo8IS0tIENvbWJhdCBTdGF0cyAtLT4KPGRpdiBjbGFzcz0iY29tYmF0LXN0YXRzIj4KICA8ZGl2IGNsYXNzPSJjb21iYXQtc3RhdCI+CiAgICA8ZGl2IGNsYXNzPSJjb21iYXQtc3RhdC1sYWJlbCI+QXJtb3IgQ2xhc3M8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0LXZhbCI+e3sgZGF0YS5hcm1vcl9jbGFzcyB9fTwvZGl2PgogIDwvZGl2PgogIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0Ij4KICAgIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0LWxhYmVsIj5Jbml0aWF0aXZlPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb21iYXQtc3RhdC12YWwiPnt7ICcrJyBpZiBkYXRhLmRleF9tb2QgPj0gMCBlbHNlICcnIH19e3sgZGF0YS5kZXhfbW9kIH19PC9kaXY+CiAgPC9kaXY+CiAgPGRpdiBjbGFzcz0iY29tYmF0LXN0YXQiPgogICAgPGRpdiBjbGFzcz0iY29tYmF0LXN0YXQtbGFiZWwiPlNwZWVkPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb21iYXQtc3RhdC12YWwiPnt7IGRhdGEuc3BlZWQgfX1mdDwvZGl2PgogIDwvZGl2PgogIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0Ij4KICAgIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0LWxhYmVsIj5IaXQgUG9pbnRzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb21iYXQtc3RhdC12YWwiPnt7IGRhdGEuY3VycmVudF9ocCB9fS97eyBkYXRhLm1heF9ocCB9fTwvZGl2PgogIDwvZGl2PgogIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0Ij4KICAgIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0LWxhYmVsIj5UZW1wIEhQPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb21iYXQtc3RhdC12YWwiPnt7IGRhdGEudGVtcF9ocCB9fTwvZGl2PgogIDwvZGl2PgogIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0Ij4KICAgIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0LWxhYmVsIj5IaXQgRGljZTwvZGl2PgogICAgPGRpdiBjbGFzcz0iY29tYmF0LXN0YXQtdmFsIiBzdHlsZT0iZm9udC1zaXplOjE2cHgiPnt7IGRhdGEuaGl0X2RpY2Ugb3IgJ+KAlCcgfX08L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJjb21iYXQtc3RhdCI+CiAgICA8ZGl2IGNsYXNzPSJjb21iYXQtc3RhdC1sYWJlbCI+UHJvZiBCb251czwvZGl2PgogICAgPGRpdiBjbGFzcz0iY29tYmF0LXN0YXQtdmFsIj4re3sgZGF0YS5wcm9maWNpZW5jeV9ib251cyB9fTwvZGl2PgogIDwvZGl2PgogIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0Ij4KICAgIDxkaXYgY2xhc3M9ImNvbWJhdC1zdGF0LWxhYmVsIj5YUDwvZGl2PgogICAgPGRpdiBjbGFzcz0iY29tYmF0LXN0YXQtdmFsIiBzdHlsZT0iZm9udC1zaXplOjE2cHgiPnt7IGRhdGEuZXhwZXJpZW5jZV9wb2ludHMgfX08L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIEhQIEJhciAtLT4KPGRpdiBjbGFzcz0iaHAtYmFyLXdyYXAiIHN0eWxlPSJtYXJnaW46IDAgMCAxNnB4Ij4KICA8ZGl2IGNsYXNzPSJocC1iYXItdHJhY2siIHN0eWxlPSJoZWlnaHQ6MTBweCI+CiAgICA8ZGl2IGNsYXNzPSJocC1iYXItZmlsbCIgZGF0YS1jdXI9Int7IGRhdGEuY3VycmVudF9ocCB9fSIgZGF0YS1tYXg9Int7IGRhdGEubWF4X2hwIH19Ij48L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIEFiaWxpdHkgU2NvcmVzIC0tPgo8ZGl2IGNsYXNzPSJzdGF0LWJsb2NrIj4KICB7JSBzZXQgYWJpbGl0eV9kYXRhID0gWwogICAgKCdzdHJlbmd0aCcsJ1N0cmVuZ3RoJywnc3RyX21vZCcpLAogICAgKCdkZXh0ZXJpdHknLCdEZXh0ZXJpdHknLCdkZXhfbW9kJyksCiAgICAoJ2NvbnN0aXR1dGlvbicsJ0NvbnN0aXR1dGlvbicsJ2Nvbl9tb2QnKSwKICAgICgnaW50ZWxsaWdlbmNlJywnSW50ZWxsaWdlbmNlJywnaW50X21vZCcpLAogICAgKCd3aXNkb20nLCdXaXNkb20nLCd3aXNfbW9kJyksCiAgICAoJ2NoYXJpc21hJywnQ2hhcmlzbWEnLCdjaGFfbW9kJykKICBdICV9CiAgeyUgZm9yIHN0YXQsIGxhYmVsLCBtb2Rfa2V5IGluIGFiaWxpdHlfZGF0YSAlfQogIDxkaXYgY2xhc3M9InN0YXQtYm94Ij4KICAgIDxkaXYgY2xhc3M9InN0YXQtbmFtZSI+e3sgbGFiZWxbOjNdLnVwcGVyKCkgfX08L2Rpdj4KICAgIDxkaXYgY2xhc3M9InN0YXQtc2NvcmUiPnt7IGRhdGFbc3RhdF0gfX08L2Rpdj4KICAgIDxkaXYgY2xhc3M9InN0YXQtbW9kIj57eyAnKycgaWYgZGF0YVttb2Rfa2V5XSA+PSAwIGVsc2UgJycgfX17eyBkYXRhW21vZF9rZXldIH19PC9kaXY+CiAgPC9kaXY+CiAgeyUgZW5kZm9yICV9CjwvZGl2PgoKPGhyIGNsYXNzPSJkaXZpZGVyIj4KCjxkaXYgY2xhc3M9InNoZWV0LWNvbHMiPgoKPCEtLSBMZWZ0OiBTa2lsbHMgJiBTYXZlcyAtLT4KPGRpdj4KICA8ZGl2IGNsYXNzPSJwYW5lbCI+CiAgICA8aDM+U2tpbGxzPC9oMz4KICAgIDx1bCBjbGFzcz0ic2tpbGwtbGlzdCI+CiAgICAgIHslIHNldCBza2lsbHNfbWFwID0gewogICAgICAgICdBY3JvYmF0aWNzJzonZGV4JywnQW5pbWFsIEhhbmRsaW5nJzond2lzJywnQXJjYW5hJzonaW50JywKICAgICAgICAnQXRobGV0aWNzJzonc3RyJywnRGVjZXB0aW9uJzonY2hhJywnSGlzdG9yeSc6J2ludCcsCiAgICAgICAgJ0luc2lnaHQnOid3aXMnLCdJbnRpbWlkYXRpb24nOidjaGEnLCdJbnZlc3RpZ2F0aW9uJzonaW50JywKICAgICAgICAnTWVkaWNpbmUnOid3aXMnLCdOYXR1cmUnOidpbnQnLCdQZXJjZXB0aW9uJzond2lzJywKICAgICAgICAnUGVyZm9ybWFuY2UnOidjaGEnLCdQZXJzdWFzaW9uJzonY2hhJywnUmVsaWdpb24nOidpbnQnLAogICAgICAgICdTbGVpZ2h0IG9mIEhhbmQnOidkZXgnLCdTdGVhbHRoJzonZGV4JywnU3Vydml2YWwnOid3aXMnCiAgICAgIH0gJX0KICAgICAgeyUgZm9yIHNraWxsLCBhYmlsaXR5IGluIHNraWxsc19tYXAuaXRlbXMoKSAlfQogICAgICB7JSBzZXQgaXNfcHJvZiA9IGRhdGEuc2tpbGxzLmdldChza2lsbCwgRmFsc2UpICV9CiAgICAgIHslIHNldCBhYmlsaXR5X21vZCA9IGRhdGFbYWJpbGl0eVs6M10rJ19tb2QnXSBpZiBhYmlsaXR5ICE9ICdzdHJlbmd0aCcgZWxzZSBkYXRhWydzdHJfbW9kJ10gJX0KICAgICAgeyUgc2V0IG1vZCA9IGFiaWxpdHlfbW9kICsgKGRhdGEucHJvZmljaWVuY3lfYm9udXMgaWYgaXNfcHJvZiBlbHNlIDApICV9CiAgICAgIDxsaSBjbGFzcz0ie3sgJ3Byb2ZpY2llbnQnIGlmIGlzX3Byb2YgZWxzZSAnJyB9fSI+CiAgICAgICAgPHNwYW4gY2xhc3M9InNraWxsLW5hbWUiPnt7IHNraWxsIH19IDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0LWRpbSkiPih7eyBhYmlsaXR5WzozXS51cHBlcigpIH19KTwvc3Bhbj48L3NwYW4+CiAgICAgICAgPHNwYW4gY2xhc3M9InNraWxsLW1vZCI+e3sgJysnIGlmIG1vZCA+PSAwIGVsc2UgJycgfX17eyBtb2QgfX08L3NwYW4+CiAgICAgIDwvbGk+CiAgICAgIHslIGVuZGZvciAlfQogICAgPC91bD4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIFJpZ2h0OiBGZWF0dXJlcywgRXF1aXBtZW50LCBOb3RlcyAtLT4KPGRpdj4KICB7JSBpZiBkYXRhLmZlYXR1cmVzICV9CiAgPGRpdiBjbGFzcz0icGFuZWwiPgogICAgPGgzPkZlYXR1cmVzICYgVHJhaXRzPC9oMz4KICAgIDxkaXY+CiAgICAgIHslIGZvciBmZWF0IGluIGRhdGEuZmVhdHVyZXMgJX0KICAgICAgICA8c3BhbiBjbGFzcz0iZmVhdHVyZS10YWciPnt7IGZlYXQgfX08L3NwYW4+CiAgICAgIHslIGVuZGZvciAlfQogICAgPC9kaXY+CiAgPC9kaXY+CiAgeyUgZW5kaWYgJX0KCiAgeyUgaWYgZGF0YS5lcXVpcG1lbnQgJX0KICA8ZGl2IGNsYXNzPSJwYW5lbCIgc3R5bGU9Im1hcmdpbi10b3A6MTJweCI+CiAgICA8aDM+RXF1aXBtZW50PC9oMz4KICAgIDx1bCBzdHlsZT0ibGlzdC1zdHlsZTpub25lO2ZvbnQtc2l6ZToxNHB4Ij4KICAgICAgeyUgZm9yIGl0ZW0gaW4gZGF0YS5lcXVpcG1lbnQgJX0KICAgICAgICA8bGkgc3R5bGU9InBhZGRpbmc6NHB4IDA7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tYm9yZGVyKTtjb2xvcjp2YXIoLS10ZXh0KSI+e3sgaXRlbSB9fTwvbGk+CiAgICAgIHslIGVuZGZvciAlfQogICAgPC91bD4KICA8L2Rpdj4KICB7JSBlbmRpZiAlfQoKICB7JSBpZiBkYXRhLm5vdGVzICV9CiAgPGRpdiBjbGFzcz0icGFuZWwiIHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPgogICAgPGgzPk5vdGVzICYgQmFja3N0b3J5PC9oMz4KICAgIDxwIHN0eWxlPSJmb250LXNpemU6MTVweDtmb250LXN0eWxlOml0YWxpYztjb2xvcjp2YXIoLS10ZXh0KSI+e3sgZGF0YS5ub3RlcyB9fTwvcD4KICA8L2Rpdj4KICB7JSBlbmRpZiAlfQo8L2Rpdj4KCjwvZGl2PjwhLS0gZW5kIGNvbHMgLS0+CjwvZGl2PjwhLS0gZW5kIHNoZWV0LXdyYXAgLS0+CnslIGVuZGJsb2NrICV9Cg=="
[System.IO.File]::WriteAllBytes("$root\templates\characters\sheet.html", [System.Convert]::FromBase64String($b))

# --- templates\characters\wizard.html
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfUNyZWF0ZSBDaGFyYWN0ZXIg4oCUIENoYXJhY3RlckZvcmdleyUgZW5kYmxvY2sgJX0KeyUgYmxvY2sgY29udGVudCAlfQo8ZGl2IHN0eWxlPSJtYXgtd2lkdGg6ODAwcHgiPgo8ZGl2IGNsYXNzPSJmbGV4IGp1c3RpZnktYmV0d2VlbiIgc3R5bGU9Im1hcmdpbi1ib3R0b206MjBweCI+CiAgPGRpdj4KICAgIDxoMT57eyAnQ3JlYXRlIE5QQycgaWYgaXNfbnBjIGVsc2UgJ0NyZWF0ZSBDaGFyYWN0ZXInIH19PC9oMT4KICAgIDxwIGNsYXNzPSJzdWJ0aXRsZSI+e3sgJ0FkZCBhbiBOUEMgb3IgZW5lbXkgdG8geW91ciBjYW1wYWlnbi4nIGlmIGlzX25wYyBlbHNlICdCdWlsZCB5b3VyIGNoYXJhY3RlciB3aXRoIFNSRCA1LjEgcnVsZXMuJyB9fTwvcD4KICA8L2Rpdj4KICB7JSBpZiBjYW1wYWlnbl9pZCAlfQogICAgPGEgaHJlZj0iL2NhbXBhaWducy97eyBjYW1wYWlnbl9pZCB9fSIgY2xhc3M9ImJ0biBidG4tZ2hvc3QgYnRuLXNtIj7ihpAgQmFjayB0byBDYW1wYWlnbjwvYT4KICB7JSBlbmRpZiAlfQo8L2Rpdj4KCjwhLS0gV2l6YXJkIHN0ZXAgbmF2IC0tPgo8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcHMiPgogIDxkaXYgY2xhc3M9IndpemFyZC1zdGVwIj5JZGVudGl0eTwvZGl2PgogIDxkaXYgY2xhc3M9IndpemFyZC1zdGVwIj5SYWNlPC9kaXY+CiAgPGRpdiBjbGFzcz0id2l6YXJkLXN0ZXAiPkNsYXNzPC9kaXY+CiAgPGRpdiBjbGFzcz0id2l6YXJkLXN0ZXAiPkJhY2tncm91bmQ8L2Rpdj4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcCI+QWJpbGl0eSBTY29yZXM8L2Rpdj4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcCI+RmluYWxpemU8L2Rpdj4KPC9kaXY+Cgo8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iL2NoYXJhY3RlcnMvY3JlYXRlIiBpZD0iY2hhci13aXphcmQtZm9ybSI+CiAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY2FtcGFpZ25faWQiIHZhbHVlPSJ7eyBjYW1wYWlnbl9pZCBvciAnJyB9fSI+CiAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iaXNfbnBjIiB2YWx1ZT0ie3sgJ3RydWUnIGlmIGlzX25wYyBlbHNlICdmYWxzZScgfX0iPgogIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJjdXJyZW50LXN0ZXAiIG5hbWU9ImN1cnJlbnRfc3RlcCIgdmFsdWU9ImlkZW50aXR5Ij4KCiAgPCEtLSBTdGVwIDE6IElkZW50aXR5IC0tPgogIDxkaXYgY2xhc3M9IndpemFyZC1zZWN0aW9uIHBhbmVsIHBhbmVsLWdvbGQiIGRhdGEtc3RlcD0iaWRlbnRpdHkiPgogICAgPGgyPkNoYXJhY3RlciBJZGVudGl0eTwvaDI+CiAgICA8bGFiZWw+Q2hhcmFjdGVyIE5hbWU8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im5hbWUiIHJlcXVpcmVkIHBsYWNlaG9sZGVyPSJ7eyAnTlBDIE5hbWUnIGlmIGlzX25wYyBlbHNlICdZb3VyIGNoYXJhY3RlclwncyBuYW1lJyB9fSI+CgogICAgPGxhYmVsPkFsaWdubWVudDwvbGFiZWw+CiAgICA8c2VsZWN0IG5hbWU9ImFsaWdubWVudCI+CiAgICAgIHslIGZvciBhIGluIGFsaWdubWVudHMgJX0KICAgICAgICA8b3B0aW9uIHZhbHVlPSJ7eyBhIH19Ij57eyBhIH19PC9vcHRpb24+CiAgICAgIHslIGVuZGZvciAlfQogICAgPC9zZWxlY3Q+CgogICAgPGxhYmVsPkxldmVsIHslIGlmIG5vdCBpc19ucGMgJX0oMeKAkzIwKXslIGVsc2UgJX0vIENSeyUgZW5kaWYgJX08L2xhYmVsPgogICAgPGlucHV0IHR5cGU9Im51bWJlciIgbmFtZT0ibGV2ZWwiIHZhbHVlPSIxIiBtaW49IjEiIG1heD0iMjAiPgoKICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6MjBweDtkaXNwbGF5OmZsZXg7Z2FwOjEwcHgiPgogICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSB3aXphcmQtbmV4dCI+TmV4dDogUmFjZSDihpI8L2J1dHRvbj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8IS0tIFN0ZXAgMjogUmFjZSAtLT4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc2VjdGlvbiBwYW5lbCBwYW5lbC1nb2xkIiBkYXRhLXN0ZXA9InJhY2UiPgogICAgPGgyPkNob29zZSBSYWNlPC9oMj4KICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZmlsbCxtaW5tYXgoMjAwcHgsMWZyKSk7Z2FwOjEwcHg7bWFyZ2luLWJvdHRvbToxNnB4Ij4KICAgICAgeyUgZm9yIHIgaW4gcmFjZXMgJX0KICAgICAgPGxhYmVsIHN0eWxlPSJhbGw6dW5zZXQ7Y3Vyc29yOnBvaW50ZXIiPgogICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0icmFjZSIgdmFsdWU9Int7IHIubmFtZSB9fSIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgY2xhc3M9InJhY2UtcmFkaW8iPgogICAgICAgIDxkaXYgY2xhc3M9InJhY2Utb3B0aW9uIHBhbmVsIiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7cGFkZGluZzoxMnB4O3RyYW5zaXRpb246YWxsIDAuMnMiIG9uY2xpY2s9InNlbGVjdFJhY2UodGhpcywgJ3t7IHIubmFtZSB9fScpIj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OidDaW56ZWwnLHNlcmlmO2ZvbnQtc2l6ZToxNHB4O2NvbG9yOnZhcigtLWdvbGQpIj57eyByLm5hbWUgfX08L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQtZGltKTttYXJnaW4tdG9wOjRweCI+CiAgICAgICAgICAgICt7eyByLmFiaWxpdHlfYm9udXNlcyB8IGpvaW4oJywgJykgaWYgci5hYmlsaXR5X2JvbnVzZXMgZWxzZSAn4oCUJyB9fSB8IHt7IHIuc3BlZWQgfX1mdAogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS1pbmspO21hcmdpbi10b3A6NHB4Ij57eyByLnRyYWl0c1s6Ml0gfCBqb2luKCcgwrcgJykgfX08L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9sYWJlbD4KICAgICAgeyUgZW5kZm9yICV9CiAgICA8L2Rpdj4KICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTBweCI+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1naG9zdCB3aXphcmQtYmFjayI+4oaQIEJhY2s8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgd2l6YXJkLW5leHQiPk5leHQ6IENsYXNzIOKGkjwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CgogIDwhLS0gU3RlcCAzOiBDbGFzcyAtLT4KICA8ZGl2IGNsYXNzPSJ3aXphcmQtc2VjdGlvbiBwYW5lbCBwYW5lbC1nb2xkIiBkYXRhLXN0ZXA9ImNsYXNzIj4KICAgIDxoMj5DaG9vc2UgQ2xhc3M8L2gyPgogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoYXV0by1maWxsLG1pbm1heCgyMjBweCwxZnIpKTtnYXA6MTBweDttYXJnaW4tYm90dG9tOjE2cHgiPgogICAgICB7JSBmb3IgYyBpbiBjbGFzc2VzICV9CiAgICAgIDxsYWJlbCBzdHlsZT0iYWxsOnVuc2V0O2N1cnNvcjpwb2ludGVyIj4KICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImNoYXJfY2xhc3MiIHZhbHVlPSJ7eyBjLm5hbWUgfX0iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgogICAgICAgIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7cGFkZGluZzoxMnB4O3RyYW5zaXRpb246YWxsIDAuMnMiIG9uY2xpY2s9InRoaXMucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQ9dHJ1ZTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xhc3Mtb3B0JykuZm9yRWFjaChlbD0+ZWwuc3R5bGUuYm9yZGVyQ29sb3I9J3ZhcigtLWJvcmRlciknKTt0aGlzLnN0eWxlLmJvcmRlckNvbG9yPSd2YXIoLS1nb2xkKSciIGRhdGEtY2xhc3Mtb3B0PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1mYW1pbHk6J0NpbnplbCcsc2VyaWY7Zm9udC1zaXplOjE0cHg7Y29sb3I6dmFyKC0tZ29sZCkiPnt7IGMubmFtZSB9fTwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tdGV4dC1kaW0pO21hcmdpbi10b3A6NHB4Ij57eyBjLmhpdF9kaWUgfX0gfCB7eyBjLnByaW1hcnlfYWJpbGl0eSB9fTwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0taW5rKTttYXJnaW4tdG9wOjRweCI+CiAgICAgICAgICAgIHslIGZvciBmZWF0IGluIGMuZmVhdHVyZXNfYnlfbGV2ZWwuZ2V0KDEsIFtdKVs6Ml0gJX17eyBmZWF0IH19eyUgaWYgbm90IGxvb3AubGFzdCAlfSDCtyB7JSBlbmRpZiAlfXslIGVuZGZvciAlfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvbGFiZWw+CiAgICAgIHslIGVuZGZvciAlfQogICAgPC9kaXY+CiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjEwcHgiPgogICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZ2hvc3Qgd2l6YXJkLWJhY2siPuKGkCBCYWNrPC9idXR0b24+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IHdpemFyZC1uZXh0Ij5OZXh0OiBCYWNrZ3JvdW5kIOKGkjwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CgogIDwhLS0gU3RlcCA0OiBCYWNrZ3JvdW5kIC0tPgogIDxkaXYgY2xhc3M9IndpemFyZC1zZWN0aW9uIHBhbmVsIHBhbmVsLWdvbGQiIGRhdGEtc3RlcD0iYmFja2dyb3VuZCI+CiAgICA8aDI+Q2hvb3NlIEJhY2tncm91bmQ8L2gyPgogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoYXV0by1maWxsLG1pbm1heCgyMDBweCwxZnIpKTtnYXA6MTBweDttYXJnaW4tYm90dG9tOjE2cHgiPgogICAgICB7JSBmb3IgYiBpbiBiYWNrZ3JvdW5kcyAlfQogICAgICA8bGFiZWwgc3R5bGU9ImFsbDp1bnNldDtjdXJzb3I6cG9pbnRlciI+CiAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJiYWNrZ3JvdW5kIiB2YWx1ZT0ie3sgYi5uYW1lIH19IiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgICAgICA8ZGl2IGNsYXNzPSJwYW5lbCIgc3R5bGU9ImN1cnNvcjpwb2ludGVyO3BhZGRpbmc6MTJweDt0cmFuc2l0aW9uOmFsbCAwLjJzIiBvbmNsaWNrPSJ0aGlzLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkPXRydWU7ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJnLW9wdCcpLmZvckVhY2goZWw9PmVsLnN0eWxlLmJvcmRlckNvbG9yPSd2YXIoLS1ib3JkZXIpJyk7dGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0ndmFyKC0tZ29sZCknIiBkYXRhLWJnLW9wdD4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OidDaW56ZWwnLHNlcmlmO2ZvbnQtc2l6ZToxNHB4O2NvbG9yOnZhcigtLWdvbGQpIj57eyBiLm5hbWUgfX08L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQtZGltKTttYXJnaW4tdG9wOjRweCI+e3sgYi5za2lsbF9wcm9maWNpZW5jaWVzIHwgam9pbignLCAnKSB9fTwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0taW5rKTttYXJnaW4tdG9wOjRweCI+RmVhdHVyZToge3sgYi5mZWF0dXJlIH19PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvbGFiZWw+CiAgICAgIHslIGVuZGZvciAlfQogICAgPC9kaXY+CiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjEwcHgiPgogICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZ2hvc3Qgd2l6YXJkLWJhY2siPuKGkCBCYWNrPC9idXR0b24+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IHdpemFyZC1uZXh0Ij5OZXh0OiBBYmlsaXR5IFNjb3JlcyDihpI8L2J1dHRvbj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8IS0tIFN0ZXAgNTogQWJpbGl0eSBTY29yZXMgLS0+CiAgPGRpdiBjbGFzcz0id2l6YXJkLXNlY3Rpb24gcGFuZWwgcGFuZWwtZ29sZCIgZGF0YS1zdGVwPSJhYmlsaXRpZXMiPgogICAgPGgyPkFiaWxpdHkgU2NvcmVzPC9oMj4KICAgIDxwIGNsYXNzPSJ0ZXh0LWRpbSIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTZweCI+U3RhbmRhcmQgYXJyYXkgKDE1LDE0LDEzLDEyLDEwLDgpIG9yIHBvaW50IGJ1eS4gVmFsdWVzIDHigJMyMC48L3A+CiAgICA8ZGl2IGNsYXNzPSJhYmlsaXR5LWdyaWQiPgogICAgICB7JSBmb3Igc3RhdCBpbiBbKCdzdHJlbmd0aCcsJ1NUUicpLCgnZGV4dGVyaXR5JywnREVYJyksKCdjb25zdGl0dXRpb24nLCdDT04nKSwoJ2ludGVsbGlnZW5jZScsJ0lOVCcpLCgnd2lzZG9tJywnV0lTJyksKCdjaGFyaXNtYScsJ0NIQScpXSAlfQogICAgICA8ZGl2IGNsYXNzPSJhYmlsaXR5LWJveCI+CiAgICAgICAgPGxhYmVsPnt7IHN0YXRbMV0gfX08L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIG5hbWU9Int7IHN0YXRbMF0gfX0iIGlkPSJ7eyBzdGF0WzBdIH19IiB2YWx1ZT0iMTAiIG1pbj0iMSIgbWF4PSIyMCIgY2xhc3M9ImFiaWxpdHktc2NvcmUtaW5wdXQiPgogICAgICAgIDxkaXYgY2xhc3M9InN0YXQtbW9kIiBpZD0ibW9kLXt7IHN0YXRbMF0gfX0iPiswPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICB7JSBlbmRmb3IgJX0KICAgIDwvZGl2PgogICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDoxNnB4O3BhZGRpbmc6MTJweDtiYWNrZ3JvdW5kOnZhcigtLWJnMyk7Ym9yZGVyLXJhZGl1czo4cHg7Zm9udC1zaXplOjE0cHgiPgogICAgICA8c3Ryb25nIHN0eWxlPSJjb2xvcjp2YXIoLS1nb2xkKSI+U3RhbmRhcmQgQXJyYXk6PC9zdHJvbmc+CiAgICAgIDxzcGFuIGNsYXNzPSJ0ZXh0LWRpbSI+IEFzc2lnbiAxNSwgMTQsIDEzLCAxMiwgMTAsIDggdG8geW91ciBzdGF0cy48L3NwYW4+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc2Vjb25kYXJ5IiBzdHlsZT0ibWFyZ2luLWxlZnQ6MTBweCIgb25jbGljaz0iYXBwbHlTdGFuZGFyZEFycmF5KCkiPkFwcGx5IFN0YW5kYXJkIEFycmF5PC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTBweDttYXJnaW4tdG9wOjE2cHgiPgogICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZ2hvc3Qgd2l6YXJkLWJhY2siPuKGkCBCYWNrPC9idXR0b24+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IHdpemFyZC1uZXh0Ij5OZXh0OiBSZXZpZXcg4oaSPC9idXR0b24+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSBTdGVwIDY6IEZpbmFsaXplIC0tPgogIDxkaXYgY2xhc3M9IndpemFyZC1zZWN0aW9uIHBhbmVsIHBhbmVsLWdvbGQiIGRhdGEtc3RlcD0iZmluYWxpemUiPgogICAgPGgyPk5vdGVzICYgQmFja3N0b3J5PC9oMj4KICAgIDxsYWJlbD5DaGFyYWN0ZXIgTm90ZXMgLyBCYWNrc3Rvcnk8L2xhYmVsPgogICAgPHRleHRhcmVhIG5hbWU9Im5vdGVzIiByb3dzPSI1IiBwbGFjZWhvbGRlcj0iRGVzY3JpYmUgeW91ciBjaGFyYWN0ZXIncyBiYWNrZ3JvdW5kLCBwZXJzb25hbGl0eSwgZ29hbHMuLi4iPjwvdGV4dGFyZWE+CgogICAgeyUgaWYgb2xsYW1hX29rICV9CiAgICA8ZGl2IHN0eWxlPSJtYXJnaW46MTZweCAwIj4KICAgICAgPGgzIHN0eWxlPSJtYXJnaW4tYm90dG9tOjhweCI+QXNrIFlvdXIgQUkgRE08L2gzPgogICAgICA8ZGl2IGNsYXNzPSJhaS1jaGF0LWJveCIgaWQ9ImFpLWNoYXQtYm94Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJhaS1tc2cgZG0iPkknbSB5b3VyIEFJIERNLiBBc2sgbWUgYW55dGhpbmcgYWJvdXQgeW91ciBjaGFyYWN0ZXIgYnVpbGQsIGJhY2tzdG9yeSBpZGVhcywgb3IgY2xhc3MgZmVhdHVyZXMhPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJhaS1pbnB1dC1yb3ciPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYWktaW5wdXQiIGNsYXNzPSJhaS1pbnB1dCIgcGxhY2Vob2xkZXI9IkFzayBhYm91dCB5b3VyIGNoYXJhY3Rlci4uLiI+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJhaS1zZW5kIiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtIj5Bc2s8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIHslIGVsc2UgJX0KICAgIDxkaXYgY2xhc3M9ImZsYXNoIGZsYXNoLWVycm9yIiBzdHlsZT0ibWFyZ2luOjEycHggMCI+QUkgRE0gdW5hdmFpbGFibGUgKE9sbGFtYSBub3QgcnVubmluZyBvbiBwb3J0IDQyNDIpLjwvZGl2PgogICAgeyUgZW5kaWYgJX0KCiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjEwcHg7bWFyZ2luLXRvcDoxNnB4Ij4KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWdob3N0IHdpemFyZC1iYWNrIj7ihpAgQmFjazwvYnV0dG9uPgogICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+4pqUIENyZWF0ZSBDaGFyYWN0ZXI8L2J1dHRvbj4KICAgIDwvZGl2PgogIDwvZGl2PgoKPC9mb3JtPgo8L2Rpdj4KCnslIGVuZGJsb2NrICV9CnslIGJsb2NrIHNjcmlwdHMgJX0KPHNjcmlwdD4KZnVuY3Rpb24gc2VsZWN0UmFjZShlbCwgbmFtZSkgewogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tvbmNsaWNrKj0ic2VsZWN0UmFjZSJdJykuZm9yRWFjaChlID0+IGUuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tYm9yZGVyKScpOwogIGVsLnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLWdvbGQpJzsKICBlbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCA9IHRydWU7Cn0KZnVuY3Rpb24gYXBwbHlTdGFuZGFyZEFycmF5KCkgewogIGNvbnN0IGFyciA9IFsxNSwxNCwxMywxMiwxMCw4XTsKICBjb25zdCBmaWVsZHMgPSBbJ3N0cmVuZ3RoJywnZGV4dGVyaXR5JywnY29uc3RpdHV0aW9uJywnaW50ZWxsaWdlbmNlJywnd2lzZG9tJywnY2hhcmlzbWEnXTsKICBmaWVsZHMuZm9yRWFjaCgoZixpKSA9PiB7CiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGYpOwogICAgaWYgKGVsKSB7IGVsLnZhbHVlID0gYXJyW2ldOyBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7IH0KICB9KTsKfQo8L3NjcmlwdD4KeyUgZW5kYmxvY2sgJX0K"
[System.IO.File]::WriteAllBytes("$root\templates\characters\wizard.html", [System.Convert]::FromBase64String($b))

# --- templates\dm\dashboard.html
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfURNIERhc2hib2FyZCDigJQgQ2hhcmFjdGVyRm9yZ2V7JSBlbmRibG9jayAlfQp7JSBibG9jayBjb250ZW50ICV9CjxkaXYgY2xhc3M9ImZsZXgganVzdGlmeS1iZXR3ZWVuIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo4cHgiPgogIDxkaXY+CiAgICA8aDE+RHVuZ2VvbiBNYXN0ZXI8L2gxPgogICAgPHAgY2xhc3M9InN1YnRpdGxlIj5Zb3VyIGNhbXBhaWducyBhbmQgcmVhbG1zIGF3YWl0LjwvcD4KICA8L2Rpdj4KICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgYnRuLXNtIiBvbmNsaWNrPSJvcGVuTW9kYWwoJ21vZGFsLWNyZWF0ZS1jYW1wYWlnbicpIj4rIE5ldyBDYW1wYWlnbjwvYnV0dG9uPgo8L2Rpdj4KCnslIGlmIGNhbXBhaWducyAlfQogIDxkaXYgY2xhc3M9ImNhcmRzLWdyaWQiPgogICAgeyUgZm9yIGMgaW4gY2FtcGFpZ25zICV9CiAgICA8YSBocmVmPSIvY2FtcGFpZ25zL3t7IGMuaWQgfX0iIGNsYXNzPSJjYW1wYWlnbi1jYXJkIj4KICAgICAgPGRpdiBjbGFzcz0iY2FtcGFpZ24tY2FyZC1uYW1lIj57eyBjLm5hbWUgfX08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY2FtcGFpZ24tY2FyZC1kZXNjIj57eyBjLmRlc2NyaXB0aW9uIG9yICdObyBkZXNjcmlwdGlvbiB5ZXQuJyB9fTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJjYW1wYWlnbi1jYXJkLW1ldGEiPgogICAgICAgIDxzcGFuPuKalCB7eyBjLmNoYXJhY3RlcnMgfCByZWplY3RhdHRyKCdpc19ucGMnKSB8IGxpc3QgfCBsZW5ndGggfX0gUENzPC9zcGFuPgogICAgICAgIDxzcGFuPvCfkaUge3sgYy5tZW1iZXJzaGlwcyB8IHNlbGVjdGF0dHIoJ2FwcHJvdmVkJykgfCBsaXN0IHwgbGVuZ3RoIH19IG1lbWJlcnM8L3NwYW4+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPgogICAgICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgYWN0aW9uPSIvZG0vY2FtcGFpZ25zL3t7IGMuaWQgfX0vZGVsZXRlIiBjbGFzcz0iY29uZmlybS1hY3Rpb24iIGRhdGEtY29uZmlybT0iRGVsZXRlIGNhbXBhaWduICd7eyBjLm5hbWUgfX0nPyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lIiBvbmNsaWNrPSJldmVudC5zdG9wUHJvcGFnYXRpb24oKSI+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tc20gYnRuLWRhbmdlciI+RGVsZXRlIENhbXBhaWduPC9idXR0b24+CiAgICAgICAgPC9mb3JtPgogICAgICA8L2Rpdj4KICAgIDwvYT4KICAgIHslIGVuZGZvciAlfQogIDwvZGl2Pgp7JSBlbHNlICV9CiAgPGRpdiBjbGFzcz0icGFuZWwiIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjQ4cHgiPgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjQ4cHg7bWFyZ2luLWJvdHRvbToxMnB4Ij7wn5e6PC9kaXY+CiAgICA8aDI+Tm8gQ2FtcGFpZ25zIFlldDwvaDI+CiAgICA8cCBjbGFzcz0idGV4dC1kaW0iIHN0eWxlPSJtYXJnaW46OHB4IDAgMjBweCI+Q3JlYXRlIHlvdXIgZmlyc3QgY2FtcGFpZ24gdG8gZ2V0IHN0YXJ0ZWQuPC9wPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJvcGVuTW9kYWwoJ21vZGFsLWNyZWF0ZS1jYW1wYWlnbicpIj5DcmVhdGUgQ2FtcGFpZ248L2J1dHRvbj4KICA8L2Rpdj4KeyUgZW5kaWYgJX0KCjwhLS0gQ3JlYXRlIENhbXBhaWduIE1vZGFsIC0tPgo8ZGl2IGNsYXNzPSJtb2RhbC1vdmVybGF5IiBpZD0ibW9kYWwtY3JlYXRlLWNhbXBhaWduIj4KICA8ZGl2IGNsYXNzPSJtb2RhbCI+CiAgICA8YnV0dG9uIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0iY2xvc2VNb2RhbCgnbW9kYWwtY3JlYXRlLWNhbXBhaWduJykiPuKclTwvYnV0dG9uPgogICAgPGgyPk5ldyBDYW1wYWlnbjwvaDI+CiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iL2RtL2NhbXBhaWducy9jcmVhdGUiPgogICAgICA8bGFiZWw+Q2FtcGFpZ24gTmFtZTwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJuYW1lIiByZXF1aXJlZCBwbGFjZWhvbGRlcj0iZS5nLiBDdXJzZSBvZiBTdHJhaGQiIGF1dG9mb2N1cz4KICAgICAgPGxhYmVsPkRlc2NyaXB0aW9uPC9sYWJlbD4KICAgICAgPHRleHRhcmVhIG5hbWU9ImRlc2NyaXB0aW9uIiBwbGFjZWhvbGRlcj0iQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNhbXBhaWduLi4uIj48L3RleHRhcmVhPgogICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+Q3JlYXRlIENhbXBhaWduPC9idXR0b24+CiAgICA8L2Zvcm0+CiAgPC9kaXY+CjwvZGl2Pgp7JSBlbmRibG9jayAlfQo="
[System.IO.File]::WriteAllBytes("$root\templates\dm\dashboard.html", [System.Convert]::FromBase64String($b))

# --- templates\player\browse.html
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfUJyb3dzZSBDYW1wYWlnbnMg4oCUIENoYXJhY3RlckZvcmdleyUgZW5kYmxvY2sgJX0KeyUgYmxvY2sgY29udGVudCAlfQo8ZGl2IGNsYXNzPSJmbGV4IGp1c3RpZnktYmV0d2VlbiIgc3R5bGU9Im1hcmdpbi1ib3R0b206OHB4Ij4KICA8ZGl2PgogICAgPGgxPkJyb3dzZSBDYW1wYWlnbnM8L2gxPgogICAgPHAgY2xhc3M9InN1YnRpdGxlIj5GaW5kIGEgY2FtcGFpZ24gYW5kIHJlcXVlc3QgdG8gam9pbi48L3A+CiAgPC9kaXY+CiAgPGEgaHJlZj0iL3BsYXllci8iIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tc20iPuKGkCBCYWNrPC9hPgo8L2Rpdj4KCnslIGlmIGNhbXBhaWducyAlfQogIDxkaXYgY2xhc3M9ImNhcmRzLWdyaWQiPgogICAgeyUgZm9yIGMgaW4gY2FtcGFpZ25zICV9CiAgICA8ZGl2IGNsYXNzPSJjYW1wYWlnbi1jYXJkIiBzdHlsZT0iY3Vyc29yOmRlZmF1bHQiPgogICAgICA8ZGl2IGNsYXNzPSJjYW1wYWlnbi1jYXJkLW5hbWUiPnt7IGMubmFtZSB9fTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJjYW1wYWlnbi1jYXJkLWRlc2MiPnt7IGMuZGVzY3JpcHRpb24gb3IgJ05vIGRlc2NyaXB0aW9uLicgfX08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY2FtcGFpZ24tY2FyZC1tZXRhIj4KICAgICAgICA8c3Bhbj7wn46yIERNOiB7eyBjLmRtLmRpc3BsYXlfbmFtZSBvciBjLmRtLnVzZXJuYW1lIGlmIGMuZG0gZWxzZSAn4oCUJyB9fTwvc3Bhbj4KICAgICAgPC9kaXY+CiAgICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgYWN0aW9uPSIvcGxheWVyL2NhbXBhaWducy97eyBjLmlkIH19L2pvaW4iIHN0eWxlPSJtYXJnaW4tdG9wOjE0cHgiPgogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbSI+UmVxdWVzdCB0byBKb2luPC9idXR0b24+CiAgICAgIDwvZm9ybT4KICAgIDwvZGl2PgogICAgeyUgZW5kZm9yICV9CiAgPC9kaXY+CnslIGVsc2UgJX0KICA8ZGl2IGNsYXNzPSJwYW5lbCIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6NDhweCI+CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6NDhweDttYXJnaW4tYm90dG9tOjEycHgiPvCfl7o8L2Rpdj4KICAgIDxoMj5ObyBDYW1wYWlnbnMgQXZhaWxhYmxlPC9oMj4KICAgIDxwIGNsYXNzPSJ0ZXh0LWRpbSI+Tm8gY2FtcGFpZ25zIGFyZSBvcGVuIGZvciBuZXcgcGxheWVycyByaWdodCBub3cuPC9wPgogIDwvZGl2Pgp7JSBlbmRpZiAlfQp7JSBlbmRibG9jayAlfQo="
[System.IO.File]::WriteAllBytes("$root\templates\player\browse.html", [System.Convert]::FromBase64String($b))

# --- templates\player\dashboard.html
$b = "eyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQp7JSBibG9jayB0aXRsZSAlfVBsYXllciBEYXNoYm9hcmQg4oCUIENoYXJhY3RlckZvcmdleyUgZW5kYmxvY2sgJX0KeyUgYmxvY2sgY29udGVudCAlfQo8aDE+V2VsY29tZSwge3sgc2Vzc2lvbi5nZXQoJ2Rpc3BsYXlfbmFtZScpIH19PC9oMT4KPHAgY2xhc3M9InN1YnRpdGxlIj5Zb3VyIGFkdmVudHVyZXMgYWNyb3NzIHRoZSByZWFsbXMuPC9wPgoKeyUgaWYgY2FtcGFpZ25zICV9CiAgPGgyIHN0eWxlPSJtYXJnaW4tdG9wOjIwcHgiPllvdXIgQ2FtcGFpZ25zPC9oMj4KICA8ZGl2IGNsYXNzPSJjYXJkcy1ncmlkIj4KICAgIHslIGZvciBjIGluIGNhbXBhaWducyAlfQogICAgPGEgaHJlZj0iL2NhbXBhaWducy97eyBjLmlkIH19IiBjbGFzcz0iY2FtcGFpZ24tY2FyZCI+CiAgICAgIDxkaXYgY2xhc3M9ImNhbXBhaWduLWNhcmQtbmFtZSI+e3sgYy5uYW1lIH19PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImNhbXBhaWduLWNhcmQtZGVzYyI+e3sgYy5kZXNjcmlwdGlvbiBvciAnTm8gZGVzY3JpcHRpb24uJyB9fTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJjYW1wYWlnbi1jYXJkLW1ldGEiPgogICAgICAgIDxzcGFuPvCfjrIgRE06IHt7IGMuZG0uZGlzcGxheV9uYW1lIG9yIGMuZG0udXNlcm5hbWUgaWYgYy5kbSBlbHNlICfigJQnIH19PC9zcGFuPgogICAgICA8L2Rpdj4KICAgIDwvYT4KICAgIHslIGVuZGZvciAlfQogIDwvZGl2Pgp7JSBlbmRpZiAlfQoKeyUgaWYgcGVuZGluZyAlfQogIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0ibWFyZ2luLXRvcDoyNHB4Ij4KICAgIDxoMj5QZW5kaW5nIFJlcXVlc3RzPC9oMj4KICAgIHslIGZvciBtIGluIHBlbmRpbmcgJX0KICAgICAgeyUgc2V0IGMgPSBtLmNhbXBhaWduICV9CiAgICAgIDxkaXYgY2xhc3M9ImZsZXgiIHN0eWxlPSJwYWRkaW5nOjhweCAwO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWJvcmRlcikiPgogICAgICAgIDxzcGFuIGNsYXNzPSJwZW5kaW5nLWRvdCI+PC9zcGFuPgogICAgICAgIDxzcGFuPnt7IGMubmFtZSBpZiBjIGVsc2UgJ+KAlCcgfX08L3NwYW4+CiAgICAgICAgPHNwYW4gY2xhc3M9InRleHQtZGltIiBzdHlsZT0ibWFyZ2luLWxlZnQ6YXV0bztmb250LXNpemU6MTNweCI+QXdhaXRpbmcgRE0gYXBwcm92YWw8L3NwYW4+CiAgICAgIDwvZGl2PgogICAgeyUgZW5kZm9yICV9CiAgPC9kaXY+CnslIGVuZGlmICV9Cgp7JSBpZiBub3QgY2FtcGFpZ25zIGFuZCBub3QgcGVuZGluZyAlfQogIDxkaXYgY2xhc3M9InBhbmVsIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo0OHB4O21hcmdpbi10b3A6MjBweCI+CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6NDhweDttYXJnaW4tYm90dG9tOjEycHgiPvCfl6E8L2Rpdj4KICAgIDxoMj5ObyBDYW1wYWlnbnMgWWV0PC9oMj4KICAgIDxwIGNsYXNzPSJ0ZXh0LWRpbSIgc3R5bGU9Im1hcmdpbjo4cHggMCAyMHB4Ij5Ccm93c2UgYXZhaWxhYmxlIGNhbXBhaWducyBhbmQgYXNrIHRvIGpvaW4gb25lLjwvcD4KICAgIDxhIGhyZWY9Ii9wbGF5ZXIvY2FtcGFpZ25zL2Jyb3dzZSIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+QnJvd3NlIENhbXBhaWduczwvYT4KICA8L2Rpdj4KeyUgZWxzZSAlfQogIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6MTZweCI+CiAgICA8YSBocmVmPSIvcGxheWVyL2NhbXBhaWducy9icm93c2UiIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tc20iPkJyb3dzZSBNb3JlIENhbXBhaWduczwvYT4KICA8L2Rpdj4KeyUgZW5kaWYgJX0KeyUgZW5kYmxvY2sgJX0K"
[System.IO.File]::WriteAllBytes("$root\templates\player\dashboard.html", [System.Convert]::FromBase64String($b))

New-Item -ItemType Directory -Force -Path "$root\data\sessions" | Out-Null
New-Item -ItemType Directory -Force -Path "$root\uploads" | Out-Null

Write-Host ""
Write-Host "=== CharacterForge v2 installed! ===" -ForegroundColor Green
Write-Host "Now run:" -ForegroundColor Yellow
Write-Host "  .\\venv\\Scripts\\python.exe .\app.py" -ForegroundColor White
Write-Host "Then open: http://127.0.0.1:5050" -ForegroundColor Cyan